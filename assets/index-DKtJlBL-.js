const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-CceAm2UU.js","assets/vendor-CT_XsHg0.js"])))=>i.map(i=>d[i]);
var e,t,r,s,a,n,i,o,l,c,d,u,h,m,f,p,g,x,v,y,b,w,j,N,S,k,_,C,T,E,P,O,A,R,D,L,I,M,z,$,F,U,B,H=Object.defineProperty,q=e=>{throw TypeError(e)},W=(e,t,r)=>((e,t,r)=>t in e?H(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r),G=(e,t,r)=>t.has(e)||q("Cannot "+r),V=(e,t,r)=>(G(e,t,"read from private field"),r?r.call(e):t.get(e)),Y=(e,t,r)=>t.has(e)?q("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),K=(e,t,r,s)=>(G(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),J=(e,t,r)=>(G(e,t,"access private method"),r),X=(e,t,r,s)=>({set _(s){K(e,t,s,r)},get _(){return V(e,t,s)}});import{c as Q,a as Z,u as ee,j as te,B as re,P as se,b as ae,d as ne,e as ie,f as oe,V as le,R as ce,g as de,h as ue,i as he,X as me,C as fe,k as pe,l as ge,T as xe,M as ve,S as ye,F as be,I as we,m as je,Y as Ne,n as Se,H as ke,o as _e,p as Ce,O as Te,q as Ee,r as Pe,s as Oe,t as Ae,D as Re,v as De,w as Le,x as Ie,y as Me,A as ze,z as $e,E as Fe,G as Ue,J as Be,W as He,K as qe,L as We,N as Ge,Q as Ve,U as Ye,Z as Ke,_ as Je,$ as Xe,a0 as Qe,a1 as Ze,a2 as et,a3 as tt,a4 as rt,a5 as st,a6 as at,a7 as nt,a8 as it,a9 as ot,aa as lt,ab as ct,ac as dt,ad as ut,ae as ht,af as mt,ag as ft,ah as pt,ai as gt,aj as xt,ak as vt,al as yt,am as bt,an as wt,ao as jt,ap as Nt,aq as St,ar as kt,as as _t,at as Ct,au as Tt,av as Et,aw as Pt,ax as Ot,ay as At,az as Rt,aA as Dt,aB as Lt,aC as It,aD as Mt,aE as zt,aF as $t,aG as Ft,aH as Ut,aI as Bt,aJ as Ht,aK as qt,aL as Wt,aM as Gt,aN as Vt,aO as Yt,aP as Kt,aQ as Jt,aR as Xt,aS as Qt,aT as Zt,aU as er,aV as tr,aW as rr,aX as sr,aY as ar,aZ as nr,a_ as ir,a$ as or,b0 as lr,b1 as cr,b2 as dr,b3 as ur,b4 as hr,b5 as mr,b6 as fr,b7 as pr,b8 as gr,b9 as xr,ba as vr,bb as yr,bc as br,bd as wr,be as jr,bf as Nr,bg as Sr,bh as kr,bi as _r,bj as Cr,bk as Tr}from"./ui-X8JxdJYQ.js";import{d as Er,a as Pr,b as Or,R as Ar,v as Rr,g as Dr,e as Lr,u as Ir,L as Mr,f as zr,N as $r,O as Fr,r as Ur,h as Br,i as Hr,B as qr,j as Wr,k as Gr}from"./vendor-CT_XsHg0.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var Vr,Yr={};var Kr=function(){if(Vr)return Yr;Vr=1;var e=Er();return Yr.createRoot=e.createRoot,Yr.hydrateRoot=e.hydrateRoot,Yr}();let Jr=0;const Xr=new Map,Qr=e=>{if(Xr.has(e))return;const t=setTimeout((()=>{Xr.delete(e),rs({type:"REMOVE_TOAST",toastId:e})}),1e6);Xr.set(e,t)},Zr=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Qr(r):e.toasts.forEach((e=>{Qr(e.id)})),{...e,toasts:e.toasts.map((e=>e.id===r||void 0===r?{...e,open:!1}:e))}}case"REMOVE_TOAST":return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))}}},es=[];let ts={toasts:[]};function rs(e){ts=Zr(ts,e),es.forEach((e=>{e(ts)}))}function ss({...e}){const t=(Jr=(Jr+1)%Number.MAX_SAFE_INTEGER,Jr.toString()),r=()=>rs({type:"DISMISS_TOAST",toastId:t});return rs({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>rs({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function as(){const[e,t]=Pr.useState(ts);return Pr.useEffect((()=>(es.push(t),()=>{const e=es.indexOf(t);e>-1&&es.splice(e,1)})),[e]),{...e,toast:ss,dismiss:e=>rs({type:"DISMISS_TOAST",toastId:e})}}var ns="ToastProvider",[is,os,ls]=Z("Toast"),[cs,ds]=Q("Toast",[ls]),[us,hs]=cs(ns),ms=e=>{const{__scopeToast:t,label:r="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:n=50,children:i}=e,[o,l]=Pr.useState(null),[c,d]=Pr.useState(0),u=Pr.useRef(!1),h=Pr.useRef(!1);return r.trim(),te.jsx(is.Provider,{scope:t,children:te.jsx(us,{scope:t,label:r,duration:s,swipeDirection:a,swipeThreshold:n,toastCount:c,viewport:o,onViewportChange:l,onToastAdd:Pr.useCallback((()=>d((e=>e+1))),[]),onToastRemove:Pr.useCallback((()=>d((e=>e-1))),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:h,children:i})})};ms.displayName=ns;var fs="ToastViewport",ps=["F8"],gs="toast.viewportPause",xs="toast.viewportResume",vs=Pr.forwardRef(((e,t)=>{const{__scopeToast:r,hotkey:s=ps,label:a="Notifications ({hotkey})",...n}=e,i=hs(fs,r),o=os(r),l=Pr.useRef(null),c=Pr.useRef(null),d=Pr.useRef(null),u=Pr.useRef(null),h=ee(t,u,i.onViewportChange),m=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),f=i.toastCount>0;Pr.useEffect((()=>{const e=e=>{var t;0!==s.length&&s.every((t=>e[t]||e.code===t))&&(null==(t=u.current)||t.focus())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[s]),Pr.useEffect((()=>{const e=l.current,t=u.current;if(f&&e&&t){const r=()=>{if(!i.isClosePausedRef.current){const e=new CustomEvent(gs);t.dispatchEvent(e),i.isClosePausedRef.current=!0}},s=()=>{if(i.isClosePausedRef.current){const e=new CustomEvent(xs);t.dispatchEvent(e),i.isClosePausedRef.current=!1}},a=t=>{!e.contains(t.relatedTarget)&&s()},n=()=>{e.contains(document.activeElement)||s()};return e.addEventListener("focusin",r),e.addEventListener("focusout",a),e.addEventListener("pointermove",r),e.addEventListener("pointerleave",n),window.addEventListener("blur",r),window.addEventListener("focus",s),()=>{e.removeEventListener("focusin",r),e.removeEventListener("focusout",a),e.removeEventListener("pointermove",r),e.removeEventListener("pointerleave",n),window.removeEventListener("blur",r),window.removeEventListener("focus",s)}}}),[f,i.isClosePausedRef]);const p=Pr.useCallback((({tabbingDirection:e})=>{const t=o().map((t=>{const r=t.ref.current,s=[r,...Is(r)];return"forwards"===e?s:s.reverse()}));return("forwards"===e?t.reverse():t).flat()}),[o]);return Pr.useEffect((()=>{const e=u.current;if(e){const t=t=>{var r,s,a;const n=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!n){const n=document.activeElement,i=t.shiftKey;if(t.target===e&&i)return void(null==(r=c.current)||r.focus());const o=p({tabbingDirection:i?"backwards":"forwards"}),l=o.findIndex((e=>e===n));Ms(o.slice(l+1))?t.preventDefault():i?null==(s=c.current)||s.focus():null==(a=d.current)||a.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}}),[o,p]),te.jsxs(re,{ref:l,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:f?void 0:"none"},children:[f&&te.jsx(bs,{ref:c,onFocusFromOutsideViewport:()=>{Ms(p({tabbingDirection:"forwards"}))}}),te.jsx(is.Slot,{scope:r,children:te.jsx(se.ol,{tabIndex:-1,...n,ref:h})}),f&&te.jsx(bs,{ref:d,onFocusFromOutsideViewport:()=>{Ms(p({tabbingDirection:"backwards"}))}})]})}));vs.displayName=fs;var ys="ToastFocusProxy",bs=Pr.forwardRef(((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...a}=e,n=hs(ys,r);return te.jsx(le,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:e=>{var t;const r=e.relatedTarget;!(null==(t=n.viewport)?void 0:t.contains(r))&&s()}})}));bs.displayName=ys;var ws="Toast",js=Pr.forwardRef(((e,t)=>{const{forceMount:r,open:s,defaultOpen:a,onOpenChange:n,...i}=e,[o=!0,l]=ae({prop:s,defaultProp:a,onChange:n});return te.jsx(ne,{present:r||o,children:te.jsx(ks,{open:o,...i,ref:t,onClose:()=>l(!1),onPause:oe(e.onPause),onResume:oe(e.onResume),onSwipeStart:ie(e.onSwipeStart,(e=>{e.currentTarget.setAttribute("data-swipe","start")})),onSwipeMove:ie(e.onSwipeMove,(e=>{const{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${r}px`)})),onSwipeCancel:ie(e.onSwipeCancel,(e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")})),onSwipeEnd:ie(e.onSwipeEnd,(e=>{const{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${r}px`),l(!1)}))})})}));js.displayName=ws;var[Ns,Ss]=cs(ws,{onClose(){}}),ks=Pr.forwardRef(((e,t)=>{const{__scopeToast:r,type:s="foreground",duration:a,open:n,onClose:i,onEscapeKeyDown:o,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:u,onSwipeCancel:h,onSwipeEnd:m,...f}=e,p=hs(ws,r),[g,x]=Pr.useState(null),v=ee(t,(e=>x(e))),y=Pr.useRef(null),b=Pr.useRef(null),w=a||p.duration,j=Pr.useRef(0),N=Pr.useRef(w),S=Pr.useRef(0),{onToastAdd:k,onToastRemove:_}=p,C=oe((()=>{var e;(null==g?void 0:g.contains(document.activeElement))&&(null==(e=p.viewport)||e.focus()),i()})),T=Pr.useCallback((e=>{e&&e!==1/0&&(window.clearTimeout(S.current),j.current=(new Date).getTime(),S.current=window.setTimeout(C,e))}),[C]);Pr.useEffect((()=>{const e=p.viewport;if(e){const t=()=>{T(N.current),null==c||c()},r=()=>{const e=(new Date).getTime()-j.current;N.current=N.current-e,window.clearTimeout(S.current),null==l||l()};return e.addEventListener(gs,r),e.addEventListener(xs,t),()=>{e.removeEventListener(gs,r),e.removeEventListener(xs,t)}}}),[p.viewport,w,l,c,T]),Pr.useEffect((()=>{n&&!p.isClosePausedRef.current&&T(w)}),[n,w,p.isClosePausedRef,T]),Pr.useEffect((()=>(k(),()=>_())),[k,_]);const E=Pr.useMemo((()=>g?Rs(g):null),[g]);return p.viewport?te.jsxs(te.Fragment,{children:[E&&te.jsx(_s,{__scopeToast:r,role:"status","aria-live":"foreground"===s?"assertive":"polite","aria-atomic":!0,children:E}),te.jsx(Ns,{scope:r,onClose:C,children:Or.createPortal(te.jsx(is.ItemSlot,{scope:r,children:te.jsx(ce,{asChild:!0,onEscapeKeyDown:ie(o,(()=>{p.isFocusedToastEscapeKeyDownRef.current||C(),p.isFocusedToastEscapeKeyDownRef.current=!1})),children:te.jsx(se.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":n?"open":"closed","data-swipe-direction":p.swipeDirection,...f,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ie(e.onKeyDown,(e=>{"Escape"===e.key&&(null==o||o(e.nativeEvent),e.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,C()))})),onPointerDown:ie(e.onPointerDown,(e=>{0===e.button&&(y.current={x:e.clientX,y:e.clientY})})),onPointerMove:ie(e.onPointerMove,(e=>{if(!y.current)return;const t=e.clientX-y.current.x,r=e.clientY-y.current.y,s=Boolean(b.current),a=["left","right"].includes(p.swipeDirection),n=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,i=a?n(0,t):0,o=a?0:n(0,r),l="touch"===e.pointerType?10:2,c={x:i,y:o},h={originalEvent:e,delta:c};s?(b.current=c,Ds("toast.swipeMove",u,h,{discrete:!1})):Ls(c,p.swipeDirection,l)?(b.current=c,Ds("toast.swipeStart",d,h,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>l||Math.abs(r)>l)&&(y.current=null)})),onPointerUp:ie(e.onPointerUp,(e=>{const t=b.current,r=e.target;if(r.hasPointerCapture(e.pointerId)&&r.releasePointerCapture(e.pointerId),b.current=null,y.current=null,t){const r=e.currentTarget,s={originalEvent:e,delta:t};Ls(t,p.swipeDirection,p.swipeThreshold)?Ds("toast.swipeEnd",m,s,{discrete:!0}):Ds("toast.swipeCancel",h,s,{discrete:!0}),r.addEventListener("click",(e=>e.preventDefault()),{once:!0})}}))})})}),p.viewport)})]}):null})),_s=e=>{const{__scopeToast:t,children:r,...s}=e,a=hs(ws,t),[n,i]=Pr.useState(!1),[o,l]=Pr.useState(!1);return function(e=()=>{}){const t=oe(e);ue((()=>{let e=0,r=0;return e=window.requestAnimationFrame((()=>r=window.requestAnimationFrame(t))),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(r)}}),[t])}((()=>i(!0))),Pr.useEffect((()=>{const e=window.setTimeout((()=>l(!0)),1e3);return()=>window.clearTimeout(e)}),[]),o?null:te.jsx(de,{asChild:!0,children:te.jsx(le,{...s,children:n&&te.jsxs(te.Fragment,{children:[a.label," ",r]})})})},Cs=Pr.forwardRef(((e,t)=>{const{__scopeToast:r,...s}=e;return te.jsx(se.div,{...s,ref:t})}));Cs.displayName="ToastTitle";var Ts=Pr.forwardRef(((e,t)=>{const{__scopeToast:r,...s}=e;return te.jsx(se.div,{...s,ref:t})}));Ts.displayName="ToastDescription";var Es=Pr.forwardRef(((e,t)=>{const{altText:r,...s}=e;return r.trim()?te.jsx(As,{altText:r,asChild:!0,children:te.jsx(Os,{...s,ref:t})}):null}));Es.displayName="ToastAction";var Ps="ToastClose",Os=Pr.forwardRef(((e,t)=>{const{__scopeToast:r,...s}=e,a=Ss(Ps,r);return te.jsx(As,{asChild:!0,children:te.jsx(se.button,{type:"button",...s,ref:t,onClick:ie(e.onClick,a.onClose)})})}));Os.displayName=Ps;var As=Pr.forwardRef(((e,t)=>{const{__scopeToast:r,altText:s,...a}=e;return te.jsx(se.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:t})}));function Rs(e){const t=[];return Array.from(e.childNodes).forEach((e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),function(e){return e.nodeType===e.ELEMENT_NODE}(e)){const r=e.ariaHidden||e.hidden||"none"===e.style.display,s=""===e.dataset.radixToastAnnounceExclude;if(!r)if(s){const r=e.dataset.radixToastAnnounceAlt;r&&t.push(r)}else t.push(...Rs(e))}})),t}function Ds(e,t,r,{discrete:s}){const a=r.originalEvent.currentTarget,n=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?he(a,n):a.dispatchEvent(n)}var Ls=(e,t,r=0)=>{const s=Math.abs(e.x),a=Math.abs(e.y),n=s>a;return"left"===t||"right"===t?n&&s>r:!n&&a>r};function Is(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Ms(e){const t=document.activeElement;return e.some((e=>e===t||(e.focus(),document.activeElement!==t)))}var zs=ms,$s=vs,Fs=js,Us=Cs,Bs=Ts,Hs=Es,qs=Os;function Ws(e){var t,r,s="";if("string"==typeof e||"number"==typeof e)s+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Ws(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function Gs(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Ws(e))&&(s&&(s+=" "),s+=t);return s}const Vs=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,Ys=Gs,Ks=(e,t)=>r=>{var s;if(null==(null==t?void 0:t.variants))return Ys(e,null==r?void 0:r.class,null==r?void 0:r.className);const{variants:a,defaultVariants:n}=t,i=Object.keys(a).map((e=>{const t=null==r?void 0:r[e],s=null==n?void 0:n[e];if(null===t)return null;const i=Vs(t)||Vs(s);return a[e][i]})),o=r&&Object.entries(r).reduce(((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e}),{}),l=null==t||null===(s=t.compoundVariants)||void 0===s?void 0:s.reduce(((e,t)=>{let{class:r,className:s,...a}=t;return Object.entries(a).every((e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...n,...o}[t]):{...n,...o}[t]===r}))?[...e,r,s]:e}),[]);return Ys(e,i,l,null==r?void 0:r.class,null==r?void 0:r.className)},Js=e=>{const t=ea(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:e=>{const r=e.split("-");return""===r[0]&&1!==r.length&&r.shift(),Xs(r,t)||Zs(e)},getConflictingClassGroupIds:(e,t)=>{const a=r[e]||[];return t&&s[e]?[...a,...s[e]]:a}}},Xs=(e,t)=>{var r;if(0===e.length)return t.classGroupId;const s=e[0],a=t.nextPart.get(s),n=a?Xs(e.slice(1),a):void 0;if(n)return n;if(0===t.validators.length)return;const i=e.join("-");return null==(r=t.validators.find((({validator:e})=>e(i))))?void 0:r.classGroupId},Qs=/^\[(.+)\]$/,Zs=e=>{if(Qs.test(e)){const t=Qs.exec(e)[1],r=null==t?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},ea=e=>{const{theme:t,prefix:r}=e,s={nextPart:new Map,validators:[]};return aa(Object.entries(e.classGroups),r).forEach((([e,r])=>{ta(r,s,e,t)})),s},ta=(e,t,r,s)=>{e.forEach((e=>{if("string"!=typeof e){if("function"==typeof e)return sa(e)?void ta(e(s),t,r,s):void t.validators.push({validator:e,classGroupId:r});Object.entries(e).forEach((([e,a])=>{ta(a,ra(t,e),r,s)}))}else{(""===e?t:ra(t,e)).classGroupId=r}}))},ra=(e,t)=>{let r=e;return t.split("-").forEach((e=>{r.nextPart.has(e)||r.nextPart.set(e,{nextPart:new Map,validators:[]}),r=r.nextPart.get(e)})),r},sa=e=>e.isThemeGetter,aa=(e,t)=>t?e.map((([e,r])=>[e,r.map((e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map((([e,r])=>[t+e,r]))):e))])):e,na=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const a=(a,n)=>{r.set(a,n),t++,t>e&&(t=0,s=r,r=new Map)};return{get(e){let t=r.get(e);return void 0!==t?t:void 0!==(t=s.get(e))?(a(e,t),t):void 0},set(e,t){r.has(e)?r.set(e,t):a(e,t)}}},ia=e=>{const{separator:t,experimentalParseClassName:r}=e,s=1===t.length,a=t[0],n=t.length,i=e=>{const r=[];let i,o=0,l=0;for(let u=0;u<e.length;u++){let c=e[u];if(0===o){if(c===a&&(s||e.slice(u,u+n)===t)){r.push(e.slice(l,u)),l=u+n;continue}if("/"===c){i=u;continue}}"["===c?o++:"]"===c&&o--}const c=0===r.length?e:e.substring(l),d=c.startsWith("!");return{modifiers:r,hasImportantModifier:d,baseClassName:d?c.substring(1):c,maybePostfixModifierPosition:i&&i>l?i-l:void 0}};return r?e=>r({className:e,parseClassName:i}):i},oa=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach((e=>{"["===e[0]?(t.push(...r.sort(),e),r=[]):r.push(e)})),t.push(...r.sort()),t},la=/\s+/;function ca(){let e,t,r=0,s="";for(;r<arguments.length;)(e=arguments[r++])&&(t=da(e))&&(s&&(s+=" "),s+=t);return s}const da=e=>{if("string"==typeof e)return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=da(e[s]))&&(r&&(r+=" "),r+=t);return r};function ua(e,...t){let r,s,a,n=function(o){const l=t.reduce(((e,t)=>t(e)),e());return r=(e=>({cache:na(e.cacheSize),parseClassName:ia(e),...Js(e)}))(l),s=r.cache.get,a=r.cache.set,n=i,i(o)};function i(e){const t=s(e);if(t)return t;const n=((e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:a}=t,n=[],i=e.trim().split(la);let o="";for(let l=i.length-1;l>=0;l-=1){const e=i[l],{modifiers:t,hasImportantModifier:c,baseClassName:d,maybePostfixModifierPosition:u}=r(e);let h=Boolean(u),m=s(h?d.substring(0,u):d);if(!m){if(!h){o=e+(o.length>0?" "+o:o);continue}if(m=s(d),!m){o=e+(o.length>0?" "+o:o);continue}h=!1}const f=oa(t).join(":"),p=c?f+"!":f,g=p+m;if(n.includes(g))continue;n.push(g);const x=a(m,h);for(let r=0;r<x.length;++r){const e=x[r];n.push(p+e)}o=e+(o.length>0?" "+o:o)}return o})(e,r);return a(e,n),n}return function(){return n(ca.apply(null,arguments))}}const ha=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},ma=/^\[(?:([a-z-]+):)?(.+)\]$/i,fa=/^\d+\/\d+$/,pa=new Set(["px","full","screen"]),ga=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xa=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,va=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ya=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ba=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,wa=e=>Na(e)||pa.has(e)||fa.test(e),ja=e=>Ia(e,"length",Ma),Na=e=>Boolean(e)&&!Number.isNaN(Number(e)),Sa=e=>Ia(e,"number",Na),ka=e=>Boolean(e)&&Number.isInteger(Number(e)),_a=e=>e.endsWith("%")&&Na(e.slice(0,-1)),Ca=e=>ma.test(e),Ta=e=>ga.test(e),Ea=new Set(["length","size","percentage"]),Pa=e=>Ia(e,Ea,za),Oa=e=>Ia(e,"position",za),Aa=new Set(["image","url"]),Ra=e=>Ia(e,Aa,Fa),Da=e=>Ia(e,"",$a),La=()=>!0,Ia=(e,t,r)=>{const s=ma.exec(e);return!!s&&(s[1]?"string"==typeof t?s[1]===t:t.has(s[1]):r(s[2]))},Ma=e=>xa.test(e)&&!va.test(e),za=()=>!1,$a=e=>ya.test(e),Fa=e=>ba.test(e),Ua=ua((()=>{const e=ha("colors"),t=ha("spacing"),r=ha("blur"),s=ha("brightness"),a=ha("borderColor"),n=ha("borderRadius"),i=ha("borderSpacing"),o=ha("borderWidth"),l=ha("contrast"),c=ha("grayscale"),d=ha("hueRotate"),u=ha("invert"),h=ha("gap"),m=ha("gradientColorStops"),f=ha("gradientColorStopPositions"),p=ha("inset"),g=ha("margin"),x=ha("opacity"),v=ha("padding"),y=ha("saturate"),b=ha("scale"),w=ha("sepia"),j=ha("skew"),N=ha("space"),S=ha("translate"),k=()=>["auto",Ca,t],_=()=>[Ca,t],C=()=>["",wa,ja],T=()=>["auto",Na,Ca],E=()=>["","0",Ca],P=()=>[Na,Ca];return{cacheSize:500,separator:":",theme:{colors:[La],spacing:[wa,ja],blur:["none","",Ta,Ca],brightness:P(),borderColor:[e],borderRadius:["none","","full",Ta,Ca],borderSpacing:_(),borderWidth:C(),contrast:P(),grayscale:E(),hueRotate:P(),invert:E(),gap:_(),gradientColorStops:[e],gradientColorStopPositions:[_a,ja],inset:k(),margin:k(),opacity:P(),padding:_(),saturate:P(),scale:P(),sepia:E(),skew:P(),space:_(),translate:_()},classGroups:{aspect:[{aspect:["auto","square","video",Ca]}],container:["container"],columns:[{columns:[Ta]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Ca]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ka,Ca]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ca]}],grow:[{grow:E()}],shrink:[{shrink:E()}],order:[{order:["first","last","none",ka,Ca]}],"grid-cols":[{"grid-cols":[La]}],"col-start-end":[{col:["auto",{span:["full",ka,Ca]},Ca]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[La]}],"row-start-end":[{row:["auto",{span:[ka,Ca]},Ca]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ca]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ca]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ca,t]}],"min-w":[{"min-w":[Ca,t,"min","max","fit"]}],"max-w":[{"max-w":[Ca,t,"none","full","min","max","fit","prose",{screen:[Ta]},Ta]}],h:[{h:[Ca,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ca,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ca,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ca,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ta,ja]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Sa]}],"font-family":[{font:[La]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ca]}],"line-clamp":[{"line-clamp":["none",Na,Sa]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",wa,Ca]}],"list-image":[{"list-image":["none",Ca]}],"list-style-type":[{list:["none","disc","decimal",Ca]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",wa,ja]}],"underline-offset":[{"underline-offset":["auto",wa,Ca]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ca]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ca]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Oa]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Pa]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ra]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[f]}],"gradient-via-pos":[{via:[f]}],"gradient-to-pos":[{to:[f]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[n]}],"rounded-s":[{"rounded-s":[n]}],"rounded-e":[{"rounded-e":[n]}],"rounded-t":[{"rounded-t":[n]}],"rounded-r":[{"rounded-r":[n]}],"rounded-b":[{"rounded-b":[n]}],"rounded-l":[{"rounded-l":[n]}],"rounded-ss":[{"rounded-ss":[n]}],"rounded-se":[{"rounded-se":[n]}],"rounded-ee":[{"rounded-ee":[n]}],"rounded-es":[{"rounded-es":[n]}],"rounded-tl":[{"rounded-tl":[n]}],"rounded-tr":[{"rounded-tr":[n]}],"rounded-br":[{"rounded-br":[n]}],"rounded-bl":[{"rounded-bl":[n]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[wa,Ca]}],"outline-w":[{outline:[wa,ja]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:C()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[wa,ja]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ta,Da]}],"shadow-color":[{shadow:[La]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ta,Ca]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[y]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ca]}],duration:[{duration:P()}],ease:[{ease:["linear","in","out","in-out",Ca]}],delay:[{delay:P()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ca]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[ka,Ca]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ca]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ca]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ca]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[wa,ja,Sa]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}));function Ba(...e){return Ua(Gs(e))}const Ha=zs,qa=Pr.forwardRef((({className:e,...t},r)=>te.jsx($s,{ref:r,className:Ba("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t})));qa.displayName=$s.displayName;const Wa=Ks("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ga=Pr.forwardRef((({className:e,variant:t,...r},s)=>te.jsx(Fs,{ref:s,className:Ba(Wa({variant:t}),e),...r})));Ga.displayName=Fs.displayName;Pr.forwardRef((({className:e,...t},r)=>te.jsx(Hs,{ref:r,className:Ba("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}))).displayName=Hs.displayName;const Va=Pr.forwardRef((({className:e,...t},r)=>te.jsx(qs,{ref:r,className:Ba("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:te.jsx(me,{className:"h-4 w-4"})})));Va.displayName=qs.displayName;const Ya=Pr.forwardRef((({className:e,...t},r)=>te.jsx(Us,{ref:r,className:Ba("text-sm font-semibold",e),...t})));Ya.displayName=Us.displayName;const Ka=Pr.forwardRef((({className:e,...t},r)=>te.jsx(Bs,{ref:r,className:Ba("text-sm opacity-90",e),...t})));function Ja(){const{toasts:e}=as();return te.jsxs(Ha,{children:[e.map((function({id:e,title:t,description:r,action:s,...a}){return te.jsxs(Ga,{...a,children:[te.jsxs("div",{className:"grid gap-1",children:[t&&te.jsx(Ya,{children:t}),r&&te.jsx(Ka,{children:r})]}),s,te.jsx(Va,{})]},e)})),te.jsx(qa,{})]})}Ka.displayName=Bs.displayName;var Xa=["light","dark"],Qa=Pr.createContext(void 0),Za={setTheme:e=>{},themes:[]};Pr.memo((({forcedTheme:e,storageKey:t,attribute:r,enableSystem:s,enableColorScheme:a,defaultTheme:n,value:i,attrs:o,nonce:l})=>{let c="system"===n,d="class"===r?`var d=document.documentElement,c=d.classList;c.remove(${o.map((e=>`'${e}'`)).join(",")});`:`var d=document.documentElement,n='${r}',s='setAttribute';`,u=a?Xa.includes(n)&&n?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${n}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(e,t=!1,s=!0)=>{let n=i?i[e]:e,o=t?e+"|| ''":`'${n}'`,l="";return a&&s&&!t&&Xa.includes(e)&&(l+=`d.style.colorScheme = '${e}';`),"class"===r?l+=t||n?`c.add(${o})`:"null":n&&(l+=`d[s](n,${o})`),l},m=e?`!function(){${d}${h(e)}}()`:s?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${c?"":"else{"+h(n,!1,!1)+"}"}${u}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(n,!1,!1)};}${u}}catch(t){}}();`;return Pr.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})}));var en=Array(12).fill(0),tn=({visible:e,className:t})=>Ar.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Ar.createElement("div",{className:"sonner-spinner"},en.map(((e,t)=>Ar.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`}))))),rn=Ar.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ar.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),sn=Ar.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ar.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),an=Ar.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ar.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),nn=Ar.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ar.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),on=Ar.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ar.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ar.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),ln=1,cn=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach((t=>t(e)))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...s}=e,a="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:ln++,n=this.toasts.find((e=>e.id===a)),i=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),n?this.toasts=this.toasts.map((t=>t.id===a?(this.publish({...t,...e,id:a,title:r}),{...t,...e,id:a,dismissible:i,title:r}):t)):this.addToast({title:r,...s,dismissible:i,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach((e=>{this.subscribers.forEach((t=>t({id:e.id,dismiss:!0})))})),this.subscribers.forEach((t=>t({id:e,dismiss:!0}))),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;void 0!==t.loading&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));let s,a=e instanceof Promise?e:e(),n=void 0!==r,i=a.then((async e=>{if(s=["resolve",e],Ar.isValidElement(e))n=!1,this.create({id:r,type:"default",message:e});else if(dn(e)&&!e.ok){n=!1;let s="function"==typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,a="function"==typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description;this.create({id:r,type:"error",message:s,description:a})}else if(void 0!==t.success){n=!1;let s="function"==typeof t.success?await t.success(e):t.success,a="function"==typeof t.description?await t.description(e):t.description;this.create({id:r,type:"success",message:s,description:a})}})).catch((async e=>{if(s=["reject",e],void 0!==t.error){n=!1;let s="function"==typeof t.error?await t.error(e):t.error,a="function"==typeof t.description?await t.description(e):t.description;this.create({id:r,type:"error",message:s,description:a})}})).finally((()=>{var e;n&&(this.dismiss(r),r=void 0),null==(e=t.finally)||e.call(t)})),o=()=>new Promise(((e,t)=>i.then((()=>"reject"===s[0]?t(s[1]):e(s[1]))).catch(t)));return"string"!=typeof r&&"number"!=typeof r?{unwrap:o}:Object.assign(r,{unwrap:o})},this.custom=(e,t)=>{let r=(null==t?void 0:t.id)||ln++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter((e=>!this.dismissedToasts.has(e.id))),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},dn=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,un=(e,t)=>{let r=(null==t?void 0:t.id)||ln++;return cn.addToast({title:e,...t,id:r}),r};function hn(e){return void 0!==e.label}Object.assign(un,{success:cn.success,info:cn.info,warning:cn.warning,error:cn.error,custom:cn.custom,message:cn.message,promise:cn.promise,dismiss:cn.dismiss,loading:cn.loading},{getHistory:()=>cn.toasts,getToasts:()=>cn.getActiveToasts()}),function(e,{insertAt:t}={}){if("undefined"==typeof document)return;let r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css","top"===t&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}(':where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}\n');var mn=3,fn=14;function pn(...e){return e.filter(Boolean).join(" ")}var gn=e=>{var t,r,s,a,n,i,o,l,c,d,u;let{invert:h,toast:m,unstyled:f,interacting:p,setHeights:g,visibleToasts:x,heights:v,index:y,toasts:b,expanded:w,removeToast:j,defaultRichColors:N,closeButton:S,style:k,cancelButtonStyle:_,actionButtonStyle:C,className:T="",descriptionClassName:E="",duration:P,position:O,gap:A,loadingIcon:R,expandByDefault:D,classNames:L,icons:I,closeButtonAriaLabel:M="Close toast",pauseWhenPageIsHidden:z}=e,[$,F]=Ar.useState(null),[U,B]=Ar.useState(null),[H,q]=Ar.useState(!1),[W,G]=Ar.useState(!1),[V,Y]=Ar.useState(!1),[K,J]=Ar.useState(!1),[X,Q]=Ar.useState(!1),[Z,ee]=Ar.useState(0),[te,re]=Ar.useState(0),se=Ar.useRef(m.duration||P||4e3),ae=Ar.useRef(null),ne=Ar.useRef(null),ie=0===y,oe=y+1<=x,le=m.type,ce=!1!==m.dismissible,de=m.className||"",ue=m.descriptionClassName||"",he=Ar.useMemo((()=>v.findIndex((e=>e.toastId===m.id))||0),[v,m.id]),me=Ar.useMemo((()=>{var e;return null!=(e=m.closeButton)?e:S}),[m.closeButton,S]),fe=Ar.useMemo((()=>m.duration||P||4e3),[m.duration,P]),pe=Ar.useRef(0),ge=Ar.useRef(0),xe=Ar.useRef(0),ve=Ar.useRef(null),[ye,be]=O.split("-"),we=Ar.useMemo((()=>v.reduce(((e,t,r)=>r>=he?e:e+t.height),0)),[v,he]),je=(()=>{let[e,t]=Ar.useState(document.hidden);return Ar.useEffect((()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)}),[]),e})(),Ne=m.invert||h,Se="loading"===le;ge.current=Ar.useMemo((()=>he*A+we),[he,we]),Ar.useEffect((()=>{se.current=fe}),[fe]),Ar.useEffect((()=>{q(!0)}),[]),Ar.useEffect((()=>{let e=ne.current;if(e){let t=e.getBoundingClientRect().height;return re(t),g((e=>[{toastId:m.id,height:t,position:m.position},...e])),()=>g((e=>e.filter((e=>e.toastId!==m.id))))}}),[g,m.id]),Ar.useLayoutEffect((()=>{if(!H)return;let e=ne.current,t=e.style.height;e.style.height="auto";let r=e.getBoundingClientRect().height;e.style.height=t,re(r),g((e=>e.find((e=>e.toastId===m.id))?e.map((e=>e.toastId===m.id?{...e,height:r}:e)):[{toastId:m.id,height:r,position:m.position},...e]))}),[H,m.title,m.description,g,m.id]);let ke=Ar.useCallback((()=>{G(!0),ee(ge.current),g((e=>e.filter((e=>e.toastId!==m.id)))),setTimeout((()=>{j(m)}),200)}),[m,j,g,ge]);return Ar.useEffect((()=>{if(m.promise&&"loading"===le||m.duration===1/0||"loading"===m.type)return;let e;return w||p||z&&je?(()=>{if(xe.current<pe.current){let e=(new Date).getTime()-pe.current;se.current=se.current-e}xe.current=(new Date).getTime()})():se.current!==1/0&&(pe.current=(new Date).getTime(),e=setTimeout((()=>{var e;null==(e=m.onAutoClose)||e.call(m,m),ke()}),se.current)),()=>clearTimeout(e)}),[w,p,m,le,z,je,ke]),Ar.useEffect((()=>{m.delete&&ke()}),[ke,m.delete]),Ar.createElement("li",{tabIndex:0,ref:ne,className:pn(T,de,null==L?void 0:L.toast,null==(t=null==m?void 0:m.classNames)?void 0:t.toast,null==L?void 0:L.default,null==L?void 0:L[le],null==(r=null==m?void 0:m.classNames)?void 0:r[le]),"data-sonner-toast":"","data-rich-colors":null!=(s=m.richColors)?s:N,"data-styled":!(m.jsx||m.unstyled||f),"data-mounted":H,"data-promise":!!m.promise,"data-swiped":X,"data-removed":W,"data-visible":oe,"data-y-position":ye,"data-x-position":be,"data-index":y,"data-front":ie,"data-swiping":V,"data-dismissible":ce,"data-type":le,"data-invert":Ne,"data-swipe-out":K,"data-swipe-direction":U,"data-expanded":!!(w||D&&H),style:{"--index":y,"--toasts-before":y,"--z-index":b.length-y,"--offset":`${W?Z:ge.current}px`,"--initial-height":D?"auto":`${te}px`,...k,...m.style},onDragEnd:()=>{Y(!1),F(null),ve.current=null},onPointerDown:e=>{Se||!ce||(ae.current=new Date,ee(ge.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(Y(!0),ve.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,r,s;if(K||!ce)return;ve.current=null;let a=Number((null==(e=ne.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),n=Number((null==(t=ne.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),i=(new Date).getTime()-(null==(r=ae.current)?void 0:r.getTime()),o="x"===$?a:n,l=Math.abs(o)/i;if(Math.abs(o)>=20||l>.11)return ee(ge.current),null==(s=m.onDismiss)||s.call(m,m),B("x"===$?a>0?"right":"left":n>0?"down":"up"),ke(),J(!0),void Q(!1);Y(!1),F(null)},onPointerMove:t=>{var r,s,a,n;if(!ve.current||!ce||(null==(r=window.getSelection())?void 0:r.toString().length)>0)return;let i=t.clientY-ve.current.y,o=t.clientX-ve.current.x,l=null!=(s=e.swipeDirections)?s:function(e){let[t,r]=e.split("-"),s=[];return t&&s.push(t),r&&s.push(r),s}(O);!$&&(Math.abs(o)>1||Math.abs(i)>1)&&F(Math.abs(o)>Math.abs(i)?"x":"y");let c={x:0,y:0};"y"===$?(l.includes("top")||l.includes("bottom"))&&(l.includes("top")&&i<0||l.includes("bottom")&&i>0)&&(c.y=i):"x"===$&&(l.includes("left")||l.includes("right"))&&(l.includes("left")&&o<0||l.includes("right")&&o>0)&&(c.x=o),(Math.abs(c.x)>0||Math.abs(c.y)>0)&&Q(!0),null==(a=ne.current)||a.style.setProperty("--swipe-amount-x",`${c.x}px`),null==(n=ne.current)||n.style.setProperty("--swipe-amount-y",`${c.y}px`)}},me&&!m.jsx?Ar.createElement("button",{"aria-label":M,"data-disabled":Se,"data-close-button":!0,onClick:Se||!ce?()=>{}:()=>{var e;ke(),null==(e=m.onDismiss)||e.call(m,m)},className:pn(null==L?void 0:L.closeButton,null==(a=null==m?void 0:m.classNames)?void 0:a.closeButton)},null!=(n=null==I?void 0:I.close)?n:on):null,m.jsx||Pr.isValidElement(m.title)?m.jsx?m.jsx:"function"==typeof m.title?m.title():m.title:Ar.createElement(Ar.Fragment,null,le||m.icon||m.promise?Ar.createElement("div",{"data-icon":"",className:pn(null==L?void 0:L.icon,null==(i=null==m?void 0:m.classNames)?void 0:i.icon)},m.promise||"loading"===m.type&&!m.icon?m.icon||(null!=I&&I.loading?Ar.createElement("div",{className:pn(null==L?void 0:L.loader,null==(_e=null==m?void 0:m.classNames)?void 0:_e.loader,"sonner-loader"),"data-visible":"loading"===le},I.loading):R?Ar.createElement("div",{className:pn(null==L?void 0:L.loader,null==(Ce=null==m?void 0:m.classNames)?void 0:Ce.loader,"sonner-loader"),"data-visible":"loading"===le},R):Ar.createElement(tn,{className:pn(null==L?void 0:L.loader,null==(Te=null==m?void 0:m.classNames)?void 0:Te.loader),visible:"loading"===le})):null,"loading"!==m.type?m.icon||(null==I?void 0:I[le])||(e=>{switch(e){case"success":return rn;case"info":return an;case"warning":return sn;case"error":return nn;default:return null}})(le):null):null,Ar.createElement("div",{"data-content":"",className:pn(null==L?void 0:L.content,null==(o=null==m?void 0:m.classNames)?void 0:o.content)},Ar.createElement("div",{"data-title":"",className:pn(null==L?void 0:L.title,null==(l=null==m?void 0:m.classNames)?void 0:l.title)},"function"==typeof m.title?m.title():m.title),m.description?Ar.createElement("div",{"data-description":"",className:pn(E,ue,null==L?void 0:L.description,null==(c=null==m?void 0:m.classNames)?void 0:c.description)},"function"==typeof m.description?m.description():m.description):null),Pr.isValidElement(m.cancel)?m.cancel:m.cancel&&hn(m.cancel)?Ar.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||_,onClick:e=>{var t,r;hn(m.cancel)&&ce&&(null==(r=(t=m.cancel).onClick)||r.call(t,e),ke())},className:pn(null==L?void 0:L.cancelButton,null==(d=null==m?void 0:m.classNames)?void 0:d.cancelButton)},m.cancel.label):null,Pr.isValidElement(m.action)?m.action:m.action&&hn(m.action)?Ar.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||C,onClick:e=>{var t,r;hn(m.action)&&(null==(r=(t=m.action).onClick)||r.call(t,e),!e.defaultPrevented&&ke())},className:pn(null==L?void 0:L.actionButton,null==(u=null==m?void 0:m.classNames)?void 0:u.actionButton)},m.action.label):null));var _e,Ce,Te};function xn(){if("undefined"==typeof window||"undefined"==typeof document)return"ltr";let e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}function vn(e,t){let r={};return[e,t].forEach(((e,t)=>{let s=1===t,a=s?"--mobile-offset":"--offset",n=s?"16px":"32px";function i(e){["top","right","bottom","left"].forEach((t=>{r[`${a}-${t}`]="number"==typeof e?`${e}px`:e}))}"number"==typeof e||"string"==typeof e?i(e):"object"==typeof e?["top","right","bottom","left"].forEach((t=>{void 0===e[t]?r[`${a}-${t}`]=n:r[`${a}-${t}`]="number"==typeof e[t]?`${e[t]}px`:e[t]})):i(n)})),r}var yn=Pr.forwardRef((function(e,t){let{invert:r,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:n,closeButton:i,className:o,offset:l,mobileOffset:c,theme:d="light",richColors:u,duration:h,style:m,visibleToasts:f=mn,toastOptions:p,dir:g=xn(),gap:x=fn,loadingIcon:v,icons:y,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:w}=e,[j,N]=Ar.useState([]),S=Ar.useMemo((()=>Array.from(new Set([s].concat(j.filter((e=>e.position)).map((e=>e.position)))))),[j,s]),[k,_]=Ar.useState([]),[C,T]=Ar.useState(!1),[E,P]=Ar.useState(!1),[O,A]=Ar.useState("system"!==d?d:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),R=Ar.useRef(null),D=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=Ar.useRef(null),I=Ar.useRef(!1),M=Ar.useCallback((e=>{N((t=>{var r;return null!=(r=t.find((t=>t.id===e.id)))&&r.delete||cn.dismiss(e.id),t.filter((({id:t})=>t!==e.id))}))}),[]);return Ar.useEffect((()=>cn.subscribe((e=>{e.dismiss?N((t=>t.map((t=>t.id===e.id?{...t,delete:!0}:t)))):setTimeout((()=>{Rr.flushSync((()=>{N((t=>{let r=t.findIndex((t=>t.id===e.id));return-1!==r?[...t.slice(0,r),{...t[r],...e},...t.slice(r+1)]:[e,...t]}))}))}))}))),[]),Ar.useEffect((()=>{if("system"!==d)return void A(d);if("system"===d&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?A("dark"):A("light")),"undefined"==typeof window)return;let e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",(({matches:e})=>{A(e?"dark":"light")}))}catch(t){e.addListener((({matches:e})=>{try{A(e?"dark":"light")}catch(t){}}))}}),[d]),Ar.useEffect((()=>{j.length<=1&&T(!1)}),[j]),Ar.useEffect((()=>{let e=e=>{var t,r;a.every((t=>e[t]||e.code===t))&&(T(!0),null==(t=R.current)||t.focus()),"Escape"===e.code&&(document.activeElement===R.current||null!=(r=R.current)&&r.contains(document.activeElement))&&T(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[a]),Ar.useEffect((()=>{if(R.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,I.current=!1)}}),[R.current]),Ar.createElement("section",{ref:t,"aria-label":`${b} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map(((t,s)=>{var a;let[d,b]=t.split("-");return j.length?Ar.createElement("ol",{key:t,dir:"auto"===g?xn():g,tabIndex:-1,ref:R,className:o,"data-sonner-toaster":!0,"data-theme":O,"data-y-position":d,"data-lifted":C&&j.length>1&&!n,"data-x-position":b,style:{"--front-toast-height":`${(null==(a=k[0])?void 0:a.height)||0}px`,"--width":"356px","--gap":`${x}px`,...m,...vn(l,c)},onBlur:e=>{I.current&&!e.currentTarget.contains(e.relatedTarget)&&(I.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||I.current||(I.current=!0,L.current=e.relatedTarget)},onMouseEnter:()=>T(!0),onMouseMove:()=>T(!0),onMouseLeave:()=>{E||T(!1)},onDragEnd:()=>T(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||P(!0)},onPointerUp:()=>P(!1)},j.filter((e=>!e.position&&0===s||e.position===t)).map(((s,a)=>{var o,l;return Ar.createElement(gn,{key:s.id,icons:y,index:a,toast:s,defaultRichColors:u,duration:null!=(o=null==p?void 0:p.duration)?o:h,className:null==p?void 0:p.className,descriptionClassName:null==p?void 0:p.descriptionClassName,invert:r,visibleToasts:f,closeButton:null!=(l=null==p?void 0:p.closeButton)?l:i,interacting:E,position:t,style:null==p?void 0:p.style,unstyled:null==p?void 0:p.unstyled,classNames:null==p?void 0:p.classNames,cancelButtonStyle:null==p?void 0:p.cancelButtonStyle,actionButtonStyle:null==p?void 0:p.actionButtonStyle,removeToast:M,toasts:j.filter((e=>e.position==s.position)),heights:k.filter((e=>e.position==s.position)),setHeights:_,expandByDefault:n,gap:x,loadingIcon:v,expanded:C,pauseWhenPageIsHidden:w,swipeDirections:e.swipeDirections})}))):null})))}));const bn=({...e})=>{const{theme:t="system"}=null!=(r=Pr.useContext(Qa))?r:Za;var r;return te.jsx(yn,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})},wn=pe,jn=ge,Nn=xe,Sn=Pr.forwardRef((({className:e,sideOffset:t=4,...r},s)=>te.jsx(fe,{ref:s,sideOffset:t,className:Ba("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})));Sn.displayName=fe.displayName;var kn=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_n="undefined"==typeof window||"Deno"in globalThis;function Cn(){}function Tn(e,t){return"function"==typeof e?e(t):e}function En(e,t){const{type:r="all",exact:s,fetchStatus:a,predicate:n,queryKey:i,stale:o}=e;if(i)if(s){if(t.queryHash!==On(i,t.options))return!1}else if(!Rn(t.queryKey,i))return!1;if("all"!==r){const e=t.isActive();if("active"===r&&!e)return!1;if("inactive"===r&&e)return!1}return("boolean"!=typeof o||t.isStale()===o)&&((!a||a===t.state.fetchStatus)&&!(n&&!n(t)))}function Pn(e,t){const{exact:r,status:s,predicate:a,mutationKey:n}=e;if(n){if(!t.options.mutationKey)return!1;if(r){if(An(t.options.mutationKey)!==An(n))return!1}else if(!Rn(t.options.mutationKey,n))return!1}return(!s||t.state.status===s)&&!(a&&!a(t))}function On(e,t){return((null==t?void 0:t.queryKeyHashFn)||An)(e)}function An(e){return JSON.stringify(e,((e,t)=>In(t)?Object.keys(t).sort().reduce(((e,r)=>(e[r]=t[r],e)),{}):t))}function Rn(e,t){return e===t||typeof e==typeof t&&(!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&!Object.keys(t).some((r=>!Rn(e[r],t[r]))))}function Dn(e,t){if(e===t)return e;const r=Ln(e)&&Ln(t);if(r||In(e)&&In(t)){const s=r?e:Object.keys(e),a=s.length,n=r?t:Object.keys(t),i=n.length,o=r?[]:{};let l=0;for(let c=0;c<i;c++){const a=r?c:n[c];(!r&&s.includes(a)||r)&&void 0===e[a]&&void 0===t[a]?(o[a]=void 0,l++):(o[a]=Dn(e[a],t[a]),o[a]===e[a]&&void 0!==e[a]&&l++)}return a===i&&l===a?e:o}return t}function Ln(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function In(e){if(!Mn(e))return!1;const t=e.constructor;if(void 0===t)return!0;const r=t.prototype;return!!Mn(r)&&(!!r.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function Mn(e){return"[object Object]"===Object.prototype.toString.call(e)}function zn(e,t,r){return"function"==typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?Dn(e,t):t}function $n(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function Fn(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var Un=Symbol();function Bn(e,t){return!e.queryFn&&(null==t?void 0:t.initialPromise)?()=>t.initialPromise:e.queryFn&&e.queryFn!==Un?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}var Hn=new(s=class extends kn{constructor(){super(),Y(this,e),Y(this,t),Y(this,r),K(this,r,(e=>{if(!_n&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}))}onSubscribe(){V(this,t)||this.setEventListener(V(this,r))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=V(this,t))||e.call(this),K(this,t,void 0))}setEventListener(e){var s;K(this,r,e),null==(s=V(this,t))||s.call(this),K(this,t,e((e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})))}setFocused(t){V(this,e)!==t&&(K(this,e,t),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach((t=>{t(e)}))}isFocused(){var t;return"boolean"==typeof V(this,e)?V(this,e):"hidden"!==(null==(t=globalThis.document)?void 0:t.visibilityState)}},e=new WeakMap,t=new WeakMap,r=new WeakMap,s),qn=new(o=class extends kn{constructor(){super(),Y(this,a,!0),Y(this,n),Y(this,i),K(this,i,(e=>{if(!_n&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}))}onSubscribe(){V(this,n)||this.setEventListener(V(this,i))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=V(this,n))||e.call(this),K(this,n,void 0))}setEventListener(e){var t;K(this,i,e),null==(t=V(this,n))||t.call(this),K(this,n,e(this.setOnline.bind(this)))}setOnline(e){V(this,a)!==e&&(K(this,a,e),this.listeners.forEach((t=>{t(e)})))}isOnline(){return V(this,a)}},a=new WeakMap,n=new WeakMap,i=new WeakMap,o);function Wn(e){return Math.min(1e3*2**e,3e4)}function Gn(e){return"online"!==(e??"online")||qn.isOnline()}var Vn=class extends Error{constructor(e){super("CancelledError"),this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}};function Yn(e){return e instanceof Vn}function Kn(e){let t,r=!1,s=0,a=!1;const n=function(){let e,t;const r=new Promise(((r,s)=>{e=r,t=s}));function s(e){Object.assign(r,e),delete r.resolve,delete r.reject}return r.status="pending",r.catch((()=>{})),r.resolve=t=>{s({status:"fulfilled",value:t}),e(t)},r.reject=e=>{s({status:"rejected",reason:e}),t(e)},r}(),i=()=>Hn.isFocused()&&("always"===e.networkMode||qn.isOnline())&&e.canRun(),o=()=>Gn(e.networkMode)&&e.canRun(),l=r=>{var s;a||(a=!0,null==(s=e.onSuccess)||s.call(e,r),null==t||t(),n.resolve(r))},c=r=>{var s;a||(a=!0,null==(s=e.onError)||s.call(e,r),null==t||t(),n.reject(r))},d=()=>new Promise((r=>{var s;t=e=>{(a||i())&&r(e)},null==(s=e.onPause)||s.call(e)})).then((()=>{var r;t=void 0,a||null==(r=e.onContinue)||r.call(e)})),u=()=>{if(a)return;let t;const n=0===s?e.initialPromise:void 0;try{t=n??e.fn()}catch(o){t=Promise.reject(o)}Promise.resolve(t).then(l).catch((t=>{var n;if(a)return;const o=e.retry??(_n?0:3),l=e.retryDelay??Wn,h="function"==typeof l?l(s,t):l,m=!0===o||"number"==typeof o&&s<o||"function"==typeof o&&o(s,t);var f;!r&&m?(s++,null==(n=e.onFail)||n.call(e,s,t),(f=h,new Promise((e=>{setTimeout(e,f)}))).then((()=>i()?void 0:d())).then((()=>{r?c(t):u()}))):c(t)}))};return{promise:n,cancel:t=>{var r;a||(c(new Vn(t)),null==(r=e.abort)||r.call(e))},continue:()=>(null==t||t(),n),cancelRetry:()=>{r=!0},continueRetry:()=>{r=!1},canStart:o,start:()=>(o()?u():d().then(u),n)}}var Jn=function(){let e=[],t=0,r=e=>{e()},s=e=>{e()},a=e=>setTimeout(e,0);const n=s=>{t?e.push(s):a((()=>{r(s)}))};return{batch:n=>{let i;t++;try{i=n()}finally{t--,t||(()=>{const t=e;e=[],t.length&&a((()=>{s((()=>{t.forEach((e=>{r(e)}))}))}))})()}return i},batchCalls:e=>(...t)=>{n((()=>{e(...t)}))},schedule:n,setNotifyFunction:e=>{r=e},setBatchNotifyFunction:e=>{s=e},setScheduler:e=>{a=e}}}(),Xn=(c=class{constructor(){Y(this,l)}destroy(){this.clearGcTimeout()}scheduleGc(){var e;this.clearGcTimeout(),"number"==typeof(e=this.gcTime)&&e>=0&&e!==1/0&&K(this,l,setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(_n?1/0:3e5))}clearGcTimeout(){V(this,l)&&(clearTimeout(V(this,l)),K(this,l,void 0))}},l=new WeakMap,c),Qn=(y=class extends Xn{constructor(e){super(),Y(this,x),Y(this,d),Y(this,u),Y(this,h),Y(this,m),Y(this,f),Y(this,p),Y(this,g),K(this,g,!1),K(this,p,e.defaultOptions),this.setOptions(e.options),this.observers=[],K(this,m,e.client),K(this,h,V(this,m).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,K(this,d,function(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,s=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}(this.options)),this.state=e.state??V(this,d),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return null==(e=V(this,f))?void 0:e.promise}setOptions(e){this.options={...V(this,p),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||V(this,h).remove(this)}setData(e,t){const r=zn(this.state.data,e,this.options);return J(this,x,v).call(this,{data:r,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),r}setState(e,t){J(this,x,v).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,r;const s=null==(t=V(this,f))?void 0:t.promise;return null==(r=V(this,f))||r.cancel(e),s?s.then(Cn).catch(Cn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,d))}isActive(){return this.observers.some((e=>{return!1!==(t=e.options.enabled,r=this,"function"==typeof t?t(r):t);var t,r}))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Un||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some((e=>e.getCurrentResult().isStale)):void 0===this.state.data)}isStaleByTime(e=0){return this.state.isInvalidated||void 0===this.state.data||!function(e,t){return Math.max(e+(t||0)-Date.now(),0)}(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=this.observers.find((e=>e.shouldFetchOnWindowFocus()));null==t||t.refetch({cancelRefetch:!1}),null==(e=V(this,f))||e.continue()}onOnline(){var e;const t=this.observers.find((e=>e.shouldFetchOnReconnect()));null==t||t.refetch({cancelRefetch:!1}),null==(e=V(this,f))||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),V(this,h).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter((t=>t!==e)),this.observers.length||(V(this,f)&&(V(this,g)?V(this,f).cancel({revert:!0}):V(this,f).cancelRetry()),this.scheduleGc()),V(this,h).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||J(this,x,v).call(this,{type:"invalidate"})}fetch(e,t){var r,s,a;if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if(V(this,f))return V(this,f).continueRetry(),V(this,f).promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find((e=>e.options.queryFn));e&&this.setOptions(e.options)}const n=new AbortController,i=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(K(this,g,!0),n.signal)})},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:V(this,m),state:this.state,fetchFn:()=>{const e=Bn(this.options,t),r={client:V(this,m),queryKey:this.queryKey,meta:this.meta};return i(r),K(this,g,!1),this.options.persister?this.options.persister(e,r,this):e(r)}};i(o),null==(r=this.options.behavior)||r.onFetch(o,this),K(this,u,this.state),"idle"!==this.state.fetchStatus&&this.state.fetchMeta===(null==(s=o.fetchOptions)?void 0:s.meta)||J(this,x,v).call(this,{type:"fetch",meta:null==(a=o.fetchOptions)?void 0:a.meta});const l=e=>{var t,r,s,a;Yn(e)&&e.silent||J(this,x,v).call(this,{type:"error",error:e}),Yn(e)||(null==(r=(t=V(this,h).config).onError)||r.call(t,e,this),null==(a=(s=V(this,h).config).onSettled)||a.call(s,this.state.data,e,this)),this.scheduleGc()};return K(this,f,Kn({initialPromise:null==t?void 0:t.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:e=>{var t,r,s,a;if(void 0!==e){try{this.setData(e)}catch(n){return void l(n)}null==(r=(t=V(this,h).config).onSuccess)||r.call(t,e,this),null==(a=(s=V(this,h).config).onSettled)||a.call(s,e,this.state.error,this),this.scheduleGc()}else l(new Error(`${this.queryHash} data is undefined`))},onError:l,onFail:(e,t)=>{J(this,x,v).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{J(this,x,v).call(this,{type:"pause"})},onContinue:()=>{J(this,x,v).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),V(this,f).start()}},d=new WeakMap,u=new WeakMap,h=new WeakMap,m=new WeakMap,f=new WeakMap,p=new WeakMap,g=new WeakMap,x=new WeakSet,v=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...(r=t.data,s=this.options,{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Gn(s.networkMode)?"fetching":"paused",...void 0===r&&{error:null,status:"pending"}}),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return Yn(a)&&a.revert&&V(this,u)?{...V(this,u),fetchStatus:"idle"}:{...t,error:a,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}var r,s})(this.state),Jn.batch((()=>{this.observers.forEach((e=>{e.onQueryUpdate()})),V(this,h).notify({query:this,type:"updated",action:e})}))},y);var Zn=(w=class extends kn{constructor(e={}){super(),Y(this,b),this.config=e,K(this,b,new Map)}build(e,t,r){const s=t.queryKey,a=t.queryHash??On(s,t);let n=this.get(a);return n||(n=new Qn({client:e,queryKey:s,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(n)),n}add(e){V(this,b).has(e.queryHash)||(V(this,b).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=V(this,b).get(e.queryHash);t&&(e.destroy(),t===e&&V(this,b).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Jn.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}get(e){return V(this,b).get(e)}getAll(){return[...V(this,b).values()]}find(e){const t={exact:!0,...e};return this.getAll().find((e=>En(t,e)))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter((t=>En(e,t))):t}notify(e){Jn.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}onFocus(){Jn.batch((()=>{this.getAll().forEach((e=>{e.onFocus()}))}))}onOnline(){Jn.batch((()=>{this.getAll().forEach((e=>{e.onOnline()}))}))}},b=new WeakMap,w),ei=(C=class extends Xn{constructor(e){super(),Y(this,k),Y(this,j),Y(this,N),Y(this,S),this.mutationId=e.mutationId,K(this,N,e.mutationCache),K(this,j,[]),this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){V(this,j).includes(e)||(V(this,j).push(e),this.clearGcTimeout(),V(this,N).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){K(this,j,V(this,j).filter((t=>t!==e))),this.scheduleGc(),V(this,N).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){V(this,j).length||("pending"===this.state.status?this.scheduleGc():V(this,N).remove(this))}continue(){var e;return(null==(e=V(this,S))?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var t,r,s,a,n,i,o,l,c,d,u,h,m,f,p,g,x,v,y,b;K(this,S,Kn({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{J(this,k,_).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{J(this,k,_).call(this,{type:"pause"})},onContinue:()=>{J(this,k,_).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,N).canRun(this)}));const w="pending"===this.state.status,j=!V(this,S).canStart();try{if(!w){J(this,k,_).call(this,{type:"pending",variables:e,isPaused:j}),await(null==(r=(t=V(this,N).config).onMutate)?void 0:r.call(t,e,this));const n=await(null==(a=(s=this.options).onMutate)?void 0:a.call(s,e));n!==this.state.context&&J(this,k,_).call(this,{type:"pending",context:n,variables:e,isPaused:j})}const m=await V(this,S).start();return await(null==(i=(n=V(this,N).config).onSuccess)?void 0:i.call(n,m,e,this.state.context,this)),await(null==(l=(o=this.options).onSuccess)?void 0:l.call(o,m,e,this.state.context)),await(null==(d=(c=V(this,N).config).onSettled)?void 0:d.call(c,m,null,this.state.variables,this.state.context,this)),await(null==(h=(u=this.options).onSettled)?void 0:h.call(u,m,null,e,this.state.context)),J(this,k,_).call(this,{type:"success",data:m}),m}catch(C){try{throw await(null==(f=(m=V(this,N).config).onError)?void 0:f.call(m,C,e,this.state.context,this)),await(null==(g=(p=this.options).onError)?void 0:g.call(p,C,e,this.state.context)),await(null==(v=(x=V(this,N).config).onSettled)?void 0:v.call(x,void 0,C,this.state.variables,this.state.context,this)),await(null==(b=(y=this.options).onSettled)?void 0:b.call(y,void 0,C,e,this.state.context)),C}finally{J(this,k,_).call(this,{type:"error",error:C})}}finally{V(this,N).runNext(this)}}},j=new WeakMap,N=new WeakMap,S=new WeakMap,k=new WeakSet,_=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),Jn.batch((()=>{V(this,j).forEach((t=>{t.onMutationUpdate(e)})),V(this,N).notify({mutation:this,type:"updated",action:e})}))},C);var ti=(O=class extends kn{constructor(e={}){super(),Y(this,T),Y(this,E),Y(this,P),this.config=e,K(this,T,new Set),K(this,E,new Map),K(this,P,0)}build(e,t,r){const s=new ei({mutationCache:this,mutationId:++X(this,P)._,options:e.defaultMutationOptions(t),state:r});return this.add(s),s}add(e){V(this,T).add(e);const t=ri(e);if("string"==typeof t){const r=V(this,E).get(t);r?r.push(e):V(this,E).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(V(this,T).delete(e)){const t=ri(e);if("string"==typeof t){const r=V(this,E).get(t);if(r)if(r.length>1){const t=r.indexOf(e);-1!==t&&r.splice(t,1)}else r[0]===e&&V(this,E).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=ri(e);if("string"==typeof t){const r=V(this,E).get(t),s=null==r?void 0:r.find((e=>"pending"===e.state.status));return!s||s===e}return!0}runNext(e){var t;const r=ri(e);if("string"==typeof r){const s=null==(t=V(this,E).get(r))?void 0:t.find((t=>t!==e&&t.state.isPaused));return(null==s?void 0:s.continue())??Promise.resolve()}return Promise.resolve()}clear(){Jn.batch((()=>{V(this,T).forEach((e=>{this.notify({type:"removed",mutation:e})})),V(this,T).clear(),V(this,E).clear()}))}getAll(){return Array.from(V(this,T))}find(e){const t={exact:!0,...e};return this.getAll().find((e=>Pn(t,e)))}findAll(e={}){return this.getAll().filter((t=>Pn(e,t)))}notify(e){Jn.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}resumePausedMutations(){const e=this.getAll().filter((e=>e.state.isPaused));return Jn.batch((()=>Promise.all(e.map((e=>e.continue().catch(Cn))))))}},T=new WeakMap,E=new WeakMap,P=new WeakMap,O);function ri(e){var t;return null==(t=e.options.scope)?void 0:t.id}function si(e){return{onFetch:(t,r)=>{var s,a,n,i,o;const l=t.options,c=null==(n=null==(a=null==(s=t.fetchOptions)?void 0:s.meta)?void 0:a.fetchMore)?void 0:n.direction,d=(null==(i=t.state.data)?void 0:i.pages)||[],u=(null==(o=t.state.data)?void 0:o.pageParams)||[];let h={pages:[],pageParams:[]},m=0;const f=async()=>{let r=!1;const s=Bn(t.options,t.fetchOptions),a=async(e,a,n)=>{if(r)return Promise.reject();if(null==a&&e.pages.length)return Promise.resolve(e);const i={client:t.client,queryKey:t.queryKey,pageParam:a,direction:n?"backward":"forward",meta:t.options.meta};var o;o=i,Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(t.signal.aborted?r=!0:t.signal.addEventListener("abort",(()=>{r=!0})),t.signal)});const l=await s(i),{maxPages:c}=t.options,d=n?Fn:$n;return{pages:d(e.pages,l,c),pageParams:d(e.pageParams,a,c)}};if(c&&d.length){const e="backward"===c,t={pages:d,pageParams:u},r=(e?ni:ai)(l,t);h=await a(t,r,e)}else{const t=e??d.length;do{const e=0===m?u[0]??l.initialPageParam:ai(l,h);if(m>0&&null==e)break;h=await a(h,e),m++}while(m<t)}return h};t.options.persister?t.fetchFn=()=>{var e,s;return null==(s=(e=t.options).persister)?void 0:s.call(e,f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=f}}}function ai(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function ni(e,{pages:t,pageParams:r}){var s;return t.length>0?null==(s=e.getPreviousPageParam)?void 0:s.call(e,t[0],t,r[0],r):void 0}var ii,oi,li=(F=class{constructor(e={}){Y(this,A),Y(this,R),Y(this,D),Y(this,L),Y(this,I),Y(this,M),Y(this,z),Y(this,$),K(this,A,e.queryCache||new Zn),K(this,R,e.mutationCache||new ti),K(this,D,e.defaultOptions||{}),K(this,L,new Map),K(this,I,new Map),K(this,M,0)}mount(){X(this,M)._++,1===V(this,M)&&(K(this,z,Hn.subscribe((async e=>{e&&(await this.resumePausedMutations(),V(this,A).onFocus())}))),K(this,$,qn.subscribe((async e=>{e&&(await this.resumePausedMutations(),V(this,A).onOnline())}))))}unmount(){var e,t;X(this,M)._--,0===V(this,M)&&(null==(e=V(this,z))||e.call(this),K(this,z,void 0),null==(t=V(this,$))||t.call(this),K(this,$,void 0))}isFetching(e){return V(this,A).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return V(this,R).findAll({...e,status:"pending"}).length}getQueryData(e){var t;const r=this.defaultQueryOptions({queryKey:e});return null==(t=V(this,A).get(r.queryHash))?void 0:t.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=V(this,A).build(this,t),s=r.state.data;return void 0===s?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Tn(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return V(this,A).findAll(e).map((({queryKey:e,state:t})=>[e,t.data]))}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),a=V(this,A).get(s.queryHash),n=function(e,t){return"function"==typeof e?e(t):e}(t,null==a?void 0:a.state.data);if(void 0!==n)return V(this,A).build(this,s).setData(n,{...r,manual:!0})}setQueriesData(e,t,r){return Jn.batch((()=>V(this,A).findAll(e).map((({queryKey:e})=>[e,this.setQueryData(e,t,r)]))))}getQueryState(e){var t;const r=this.defaultQueryOptions({queryKey:e});return null==(t=V(this,A).get(r.queryHash))?void 0:t.state}removeQueries(e){const t=V(this,A);Jn.batch((()=>{t.findAll(e).forEach((e=>{t.remove(e)}))}))}resetQueries(e,t){const r=V(this,A);return Jn.batch((()=>(r.findAll(e).forEach((e=>{e.reset()})),this.refetchQueries({type:"active",...e},t))))}cancelQueries(e,t={}){const r={revert:!0,...t},s=Jn.batch((()=>V(this,A).findAll(e).map((e=>e.cancel(r)))));return Promise.all(s).then(Cn).catch(Cn)}invalidateQueries(e,t={}){return Jn.batch((()=>(V(this,A).findAll(e).forEach((e=>{e.invalidate()})),"none"===(null==e?void 0:e.refetchType)?Promise.resolve():this.refetchQueries({...e,type:(null==e?void 0:e.refetchType)??(null==e?void 0:e.type)??"active"},t))))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},s=Jn.batch((()=>V(this,A).findAll(e).filter((e=>!e.isDisabled())).map((e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(Cn)),"paused"===e.state.fetchStatus?Promise.resolve():t}))));return Promise.all(s).then(Cn)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const r=V(this,A).build(this,t);return r.isStaleByTime(Tn(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Cn).catch(Cn)}fetchInfiniteQuery(e){return e.behavior=si(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Cn).catch(Cn)}ensureInfiniteQueryData(e){return e.behavior=si(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return qn.isOnline()?V(this,R).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,A)}getMutationCache(){return V(this,R)}getDefaultOptions(){return V(this,D)}setDefaultOptions(e){K(this,D,e)}setQueryDefaults(e,t){V(this,L).set(An(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...V(this,L).values()],r={};return t.forEach((t=>{Rn(e,t.queryKey)&&Object.assign(r,t.defaultOptions)})),r}setMutationDefaults(e,t){V(this,I).set(An(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...V(this,I).values()],r={};return t.forEach((t=>{Rn(e,t.mutationKey)&&Object.assign(r,t.defaultOptions)})),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...V(this,D).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=On(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Un&&(t.enabled=!1),t}defaultMutationOptions(e){return(null==e?void 0:e._defaulted)?e:{...V(this,D).mutations,...(null==e?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){V(this,A).clear(),V(this,R).clear()}},A=new WeakMap,R=new WeakMap,D=new WeakMap,L=new WeakMap,I=new WeakMap,M=new WeakMap,z=new WeakMap,$=new WeakMap,F),ci=Pr.createContext(void 0),di=({client:e,children:t})=>(Pr.useEffect((()=>(e.mount(),()=>{e.unmount()})),[e]),te.jsx(ci.Provider,{value:e,children:t}));const ui=Dr(function(){if(oi)return ii;oi=1;var e="undefined"!=typeof Element,t="function"==typeof Map,r="function"==typeof Set,s="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(n,i){if(n===i)return!0;if(n&&i&&"object"==typeof n&&"object"==typeof i){if(n.constructor!==i.constructor)return!1;var o,l,c,d;if(Array.isArray(n)){if((o=n.length)!=i.length)return!1;for(l=o;0!=l--;)if(!a(n[l],i[l]))return!1;return!0}if(t&&n instanceof Map&&i instanceof Map){if(n.size!==i.size)return!1;for(d=n.entries();!(l=d.next()).done;)if(!i.has(l.value[0]))return!1;for(d=n.entries();!(l=d.next()).done;)if(!a(l.value[1],i.get(l.value[0])))return!1;return!0}if(r&&n instanceof Set&&i instanceof Set){if(n.size!==i.size)return!1;for(d=n.entries();!(l=d.next()).done;)if(!i.has(l.value[0]))return!1;return!0}if(s&&ArrayBuffer.isView(n)&&ArrayBuffer.isView(i)){if((o=n.length)!=i.length)return!1;for(l=o;0!=l--;)if(n[l]!==i[l])return!1;return!0}if(n.constructor===RegExp)return n.source===i.source&&n.flags===i.flags;if(n.valueOf!==Object.prototype.valueOf&&"function"==typeof n.valueOf&&"function"==typeof i.valueOf)return n.valueOf()===i.valueOf();if(n.toString!==Object.prototype.toString&&"function"==typeof n.toString&&"function"==typeof i.toString)return n.toString()===i.toString();if((o=(c=Object.keys(n)).length)!==Object.keys(i).length)return!1;for(l=o;0!=l--;)if(!Object.prototype.hasOwnProperty.call(i,c[l]))return!1;if(e&&n instanceof Element)return!1;for(l=o;0!=l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!n.$$typeof)&&!a(n[c[l]],i[c[l]]))return!1;return!0}return n!=n&&i!=i}return ii=function(e,t){try{return a(e,t)}catch(r){if((r.message||"").match(/stack|recursion/i))return!1;throw r}}}());var hi,mi;const fi=Dr(mi?hi:(mi=1,hi=function(e,t,r,s,a,n,i,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,s,a,n,i,o],d=0;(l=new Error(t.replace(/%s/g,(function(){return c[d++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}));var pi,gi;const xi=Dr(gi?pi:(gi=1,pi=function(e,t,r,s){var a=r?r.call(s,e,t):void 0;if(void 0!==a)return!!a;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),l=0;l<n.length;l++){var c=n[l];if(!o(c))return!1;var d=e[c],u=t[c];if(!1===(a=r?r.call(s,d,u,c):void 0)||void 0===a&&d!==u)return!1}return!0}));var vi=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(vi||{}),yi={rel:["amphtml","canonical","alternate"]},bi={type:["application/ld+json"]},wi={charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},ji=Object.values(vi),Ni={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Si=Object.entries(Ni).reduce(((e,[t,r])=>(e[r]=t,e)),{}),ki="data-rh",_i="defaultTitle",Ci="defer",Ti="encodeSpecialCharacters",Ei="onChangeClientState",Pi="titleTemplate",Oi="prioritizeSeoTags",Ai=(e,t)=>{for(let r=e.length-1;r>=0;r-=1){const s=e[r];if(Object.prototype.hasOwnProperty.call(s,t))return s[t]}return null},Ri=e=>{let t=Ai(e,"title");const r=Ai(e,Pi);if(Array.isArray(t)&&(t=t.join("")),r&&t)return r.replace(/%s/g,(()=>t));const s=Ai(e,_i);return t||s||void 0},Di=e=>Ai(e,Ei)||(()=>{}),Li=(e,t)=>t.filter((t=>void 0!==t[e])).map((t=>t[e])).reduce(((e,t)=>({...e,...t})),{}),Ii=(e,t)=>t.filter((e=>void 0!==e.base)).map((e=>e.base)).reverse().reduce(((t,r)=>{if(!t.length){const s=Object.keys(r);for(let a=0;a<s.length;a+=1){const n=s[a].toLowerCase();if(-1!==e.indexOf(n)&&r[n])return t.concat(r)}}return t}),[]),Mi=(e,t,r)=>{const s={};return r.filter((t=>!!Array.isArray(t[e])||(void 0!==t[e]&&(t[e],console&&console.warn),!1))).map((t=>t[e])).reverse().reduce(((e,r)=>{const a={};r.filter((e=>{let r;const n=Object.keys(e);for(let s=0;s<n.length;s+=1){const a=n[s],i=a.toLowerCase();-1===t.indexOf(i)||"rel"===r&&"canonical"===e[r].toLowerCase()||"rel"===i&&"stylesheet"===e[i].toLowerCase()||(r=i),-1===t.indexOf(a)||"innerHTML"!==a&&"cssText"!==a&&"itemprop"!==a||(r=a)}if(!r||!e[r])return!1;const i=e[r].toLowerCase();return s[r]||(s[r]={}),a[r]||(a[r]={}),!s[r][i]&&(a[r][i]=!0,!0)})).reverse().forEach((t=>e.push(t)));const n=Object.keys(a);for(let t=0;t<n.length;t+=1){const e=n[t],r={...s[e],...a[e]};s[e]=r}return e}),[]).reverse()},zi=(e,t)=>{if(Array.isArray(e)&&e.length)for(let r=0;r<e.length;r+=1){if(e[r][t])return!0}return!1},$i=e=>Array.isArray(e)?e.join(""):e,Fi=(e,t)=>Array.isArray(e)?e.reduce(((e,r)=>(((e,t)=>{const r=Object.keys(e);for(let s=0;s<r.length;s+=1)if(t[r[s]]&&t[r[s]].includes(e[r[s]]))return!0;return!1})(r,t)?e.priority.push(r):e.default.push(r),e)),{priority:[],default:[]}):{default:e,priority:[]},Ui=(e,t)=>({...e,[t]:void 0}),Bi=["noscript","script","style"],Hi=(e,t=!0)=>!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),qi=e=>Object.keys(e).reduce(((t,r)=>{const s=void 0!==e[r]?`${r}="${e[r]}"`:`${r}`;return t?`${t} ${s}`:s}),""),Wi=(e,t={})=>Object.keys(e).reduce(((t,r)=>(t[Ni[r]||r]=e[r],t)),t),Gi=(e,t)=>t.map(((t,r)=>{const s={key:r,[ki]:!0};return Object.keys(t).forEach((e=>{const r=Ni[e]||e;if("innerHTML"===r||"cssText"===r){const e=t.innerHTML||t.cssText;s.dangerouslySetInnerHTML={__html:e}}else s[r]=t[e]})),Ar.createElement(e,s)})),Vi=(e,t,r=!0)=>{switch(e){case"title":return{toComponent:()=>((e,t,r)=>{const s=Wi(r,{key:t,[ki]:!0});return[Ar.createElement("title",s,t)]})(0,t.title,t.titleAttributes),toString:()=>((e,t,r,s)=>{const a=qi(r),n=$i(t);return a?`<${e} ${ki}="true" ${a}>${Hi(n,s)}</${e}>`:`<${e} ${ki}="true">${Hi(n,s)}</${e}>`})(e,t.title,t.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>Wi(t),toString:()=>qi(t)};default:return{toComponent:()=>Gi(e,t),toString:()=>((e,t,r=!0)=>t.reduce(((t,s)=>{const a=s,n=Object.keys(a).filter((e=>!("innerHTML"===e||"cssText"===e))).reduce(((e,t)=>{const s=void 0===a[t]?t:`${t}="${Hi(a[t],r)}"`;return e?`${e} ${s}`:s}),""),i=a.innerHTML||a.cssText||"",o=-1===Bi.indexOf(e);return`${t}<${e} ${ki}="true" ${n}${o?"/>":`>${i}</${e}>`}`}),""))(e,t,r)}}},Yi=e=>{const{baseTag:t,bodyAttributes:r,encode:s=!0,htmlAttributes:a,noscriptTags:n,styleTags:i,title:o="",titleAttributes:l,prioritizeSeoTags:c}=e;let{linkTags:d,metaTags:u,scriptTags:h}=e,m={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:m,linkTags:d,metaTags:u,scriptTags:h}=(({metaTags:e,linkTags:t,scriptTags:r,encode:s})=>{const a=Fi(e,wi),n=Fi(t,yi),i=Fi(r,bi);return{priorityMethods:{toComponent:()=>[...Gi("meta",a.priority),...Gi("link",n.priority),...Gi("script",i.priority)],toString:()=>`${Vi("meta",a.priority,s)} ${Vi("link",n.priority,s)} ${Vi("script",i.priority,s)}`},metaTags:a.default,linkTags:n.default,scriptTags:i.default}})(e)),{priority:m,base:Vi("base",t,s),bodyAttributes:Vi("bodyAttributes",r,s),htmlAttributes:Vi("htmlAttributes",a,s),link:Vi("link",d,s),meta:Vi("meta",u,s),noscript:Vi("noscript",n,s),script:Vi("script",h,s),style:Vi("style",i,s),title:Vi("title",{title:o,titleAttributes:l},s)}},Ki=[],Ji=!("undefined"==typeof window||!window.document||!window.document.createElement),Xi=class{constructor(e,t){W(this,"instances",[]),W(this,"canUseDOM",Ji),W(this,"context"),W(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?Ki:this.instances,add:e=>{(this.canUseDOM?Ki:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?Ki:this.instances).indexOf(e);(this.canUseDOM?Ki:this.instances).splice(t,1)}}}),this.context=e,this.canUseDOM=t||!1,t||(e.helmet=Yi({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Qi=Ar.createContext({}),Zi=(U=class extends Pr.Component{constructor(e){super(e),W(this,"helmetData"),this.helmetData=new Xi(this.props.context||{},U.canUseDOM)}render(){return Ar.createElement(Qi.Provider,{value:this.helmetData.value},this.props.children)}},W(U,"canUseDOM",Ji),U),eo=(e,t)=>{const r=document.head||document.querySelector("head"),s=r.querySelectorAll(`${e}[${ki}]`),a=[].slice.call(s),n=[];let i;return t&&t.length&&t.forEach((t=>{const r=document.createElement(e);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))if("innerHTML"===e)r.innerHTML=t.innerHTML;else if("cssText"===e)r.styleSheet?r.styleSheet.cssText=t.cssText:r.appendChild(document.createTextNode(t.cssText));else{const s=e,a=void 0===t[s]?"":t[s];r.setAttribute(e,a)}r.setAttribute(ki,"true"),a.some(((e,t)=>(i=t,r.isEqualNode(e))))?a.splice(i,1):n.push(r)})),a.forEach((e=>{var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),n.forEach((e=>r.appendChild(e))),{oldTags:a,newTags:n}},to=(e,t)=>{const r=document.getElementsByTagName(e)[0];if(!r)return;const s=r.getAttribute(ki),a=s?s.split(","):[],n=[...a],i=Object.keys(t);for(const o of i){const e=t[o]||"";r.getAttribute(o)!==e&&r.setAttribute(o,e),-1===a.indexOf(o)&&a.push(o);const s=n.indexOf(o);-1!==s&&n.splice(s,1)}for(let o=n.length-1;o>=0;o-=1)r.removeAttribute(n[o]);a.length===n.length?r.removeAttribute(ki):r.getAttribute(ki)!==i.join(",")&&r.setAttribute(ki,i.join(","))},ro=(e,t)=>{const{baseTag:r,bodyAttributes:s,htmlAttributes:a,linkTags:n,metaTags:i,noscriptTags:o,onChangeClientState:l,scriptTags:c,styleTags:d,title:u,titleAttributes:h}=e;to("body",s),to("html",a),((e,t)=>{void 0!==e&&document.title!==e&&(document.title=$i(e)),to("title",t)})(u,h);const m={baseTag:eo("base",r),linkTags:eo("link",n),metaTags:eo("meta",i),noscriptTags:eo("noscript",o),scriptTags:eo("script",c),styleTags:eo("style",d)},f={},p={};Object.keys(m).forEach((e=>{const{newTags:t,oldTags:r}=m[e];t.length&&(f[e]=t),r.length&&(p[e]=m[e].oldTags)})),t&&t(),l(e,f,p)},so=null,ao=e=>{so&&cancelAnimationFrame(so),e.defer?so=requestAnimationFrame((()=>{ro(e,(()=>{so=null}))})):(ro(e),so=null)},no=class extends Pr.Component{constructor(){super(...arguments),W(this,"rendered",!1)}shouldComponentUpdate(e){return!xi(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let r=null;const s=(a=e.get().map((e=>{const t={...e.props};return delete t.context,t})),{baseTag:Ii(["href"],a),bodyAttributes:Li("bodyAttributes",a),defer:Ai(a,Ci),encode:Ai(a,Ti),htmlAttributes:Li("htmlAttributes",a),linkTags:Mi("link",["rel","href"],a),metaTags:Mi("meta",["name","charset","http-equiv","property","itemprop"],a),noscriptTags:Mi("noscript",["innerHTML"],a),onChangeClientState:Di(a),scriptTags:Mi("script",["src","innerHTML"],a),styleTags:Mi("style",["cssText"],a),title:Ri(a),titleAttributes:Li("titleAttributes",a),prioritizeSeoTags:zi(a,Oi)});var a;Zi.canUseDOM?ao(s):Yi&&(r=Yi(s)),t(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},io=(B=class extends Pr.Component{shouldComponentUpdate(e){return!ui(Ui(this.props,"helmetData"),Ui(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,r,s){return{...t,[e.type]:[...t[e.type]||[],{...r,...this.mapNestedChildrenToProps(e,s)}]}}mapObjectTypeChildren(e,t,r,s){switch(e.type){case"title":return{...t,[e.type]:s,titleAttributes:{...r}};case"body":return{...t,bodyAttributes:{...r}};case"html":return{...t,htmlAttributes:{...r}};default:return{...t,[e.type]:{...r}}}}mapArrayTypeChildrenToProps(e,t){let r={...t};return Object.keys(e).forEach((t=>{r={...r,[t]:e[t]}})),r}warnOnInvalidChildren(e,t){return fi(ji.some((t=>e.type===t)),"function"==typeof e.type?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${ji.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),fi(!t||"string"==typeof t||Array.isArray(t)&&!t.some((e=>"string"!=typeof e)),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let r={};return Ar.Children.forEach(e,(e=>{if(!e||!e.props)return;const{children:s,...a}=e.props,n=Object.keys(a).reduce(((e,t)=>(e[Si[t]||t]=a[t],e)),{});let{type:i}=e;switch("symbol"==typeof i?i=i.toString():this.warnOnInvalidChildren(e,s),i){case"Symbol(react.fragment)":t=this.mapChildrenToProps(s,t);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(e,r,n,s);break;default:t=this.mapObjectTypeChildren(e,t,n,s)}})),this.mapArrayTypeChildrenToProps(r,t)}render(){const{children:e,...t}=this.props;let r={...t},{helmetData:s}=t;if(e&&(r=this.mapChildrenToProps(e,r)),s&&!(s instanceof Xi)){s=new Xi(s.context,!0),delete r.helmetData}return s?Ar.createElement(no,{...r,context:s.value}):Ar.createElement(Qi.Consumer,null,(e=>Ar.createElement(no,{...r,context:e})))}},W(B,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),B);const oo={},lo=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),r=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));s=Promise.allSettled(t.map((e=>{if((e=function(e){return"/"+e}(e))in oo)return;oo[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${s}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script"),a.crossOrigin="",a.href=e,r&&a.setAttribute("nonce",r),document.head.appendChild(a),t?new Promise(((t,r)=>{a.addEventListener("load",t),a.addEventListener("error",(()=>r(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function a(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return s.then((t=>{for(const e of t||[])"rejected"===e.status&&a(e.reason);return e().catch(a)}))};class co extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class uo extends co{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ho extends co{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class mo extends co{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var fo,po;(po=fo||(fo={})).Any="any",po.ApNortheast1="ap-northeast-1",po.ApNortheast2="ap-northeast-2",po.ApSouth1="ap-south-1",po.ApSoutheast1="ap-southeast-1",po.ApSoutheast2="ap-southeast-2",po.CaCentral1="ca-central-1",po.EuCentral1="eu-central-1",po.EuWest1="eu-west-1",po.EuWest2="eu-west-2",po.EuWest3="eu-west-3",po.SaEast1="sa-east-1",po.UsEast1="us-east-1",po.UsWest1="us-west-1",po.UsWest2="us-west-2";var go=function(e,t,r,s){return new(r||(r=Promise))((function(a,n){function i(e){try{l(s.next(e))}catch(t){n(t)}}function o(e){try{l(s.throw(e))}catch(t){n(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}))};class xo{constructor(e,{headers:t={},customFetch:r,region:s=fo.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=(e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>lo((async()=>{const{default:e}=await Promise.resolve().then((()=>Po));return{default:e}}),void 0).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)})(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return go(this,void 0,void 0,(function*(){try{const{headers:s,method:a,body:n}=t;let i,o={},{region:l}=t;l||(l=this.region),l&&"any"!==l&&(o["x-region"]=l),n&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&("undefined"!=typeof Blob&&n instanceof Blob||n instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",i=n):"string"==typeof n?(o["Content-Type"]="text/plain",i=n):"undefined"!=typeof FormData&&n instanceof FormData?i=n:(o["Content-Type"]="application/json",i=JSON.stringify(n)));const c=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:i}).catch((e=>{throw new uo(e)})),d=c.headers.get("x-relay-error");if(d&&"true"===d)throw new ho(c);if(!c.ok)throw new mo(c);let u,h=(null!==(r=c.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return u="application/json"===h?yield c.json():"application/octet-stream"===h?yield c.blob():"text/event-stream"===h?c:"multipart/form-data"===h?yield c.formData():yield c.text(),{data:u,error:null}}catch(s){return{data:null,error:s}}}))}}var vo={},yo={},bo={},wo={},jo={},No={},So=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();const ko=So.fetch,_o=So.fetch.bind(So),Co=So.Headers,To=So.Request,Eo=So.Response,Po=Object.freeze(Object.defineProperty({__proto__:null,Headers:Co,Request:To,Response:Eo,default:_o,fetch:ko},Symbol.toStringTag,{value:"Module"})),Oo=Lr(Po);var Ao,Ro,Do,Lo,Io,Mo={};function zo(){if(Ao)return Mo;Ao=1,Object.defineProperty(Mo,"__esModule",{value:!0});class e extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}return Mo.default=e,Mo}function $o(){if(Ro)return No;Ro=1;var e=No&&No.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(No,"__esModule",{value:!0});const t=e(Oo),r=e(zo());return No.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"==typeof fetch?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let s=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async e=>{var t,s,a;let n=null,i=null,o=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(i="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const r=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),a=null===(s=e.headers.get("content-range"))||void 0===s?void 0:s.split("/");r&&a&&a.length>1&&(o=parseInt(a[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(i)&&(i.length>1?(n={code:"PGRST116",details:`Results contain ${i.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},i=null,o=null,l=406,c="Not Acceptable"):i=1===i.length?i[0]:null)}else{const t=await e.text();try{n=JSON.parse(t),Array.isArray(n)&&404===e.status&&(i=[],n=null,l=200,c="OK")}catch(d){404===e.status&&""===t?(l=204,c="No Content"):n={message:t}}if(n&&this.isMaybeSingle&&(null===(a=null==n?void 0:n.details)||void 0===a?void 0:a.includes("0 rows"))&&(n=null,l=200,c="OK"),n&&this.shouldThrowOnError)throw new r.default(n)}return{error:n,data:i,count:o,status:l,statusText:c}}));return this.shouldThrowOnError||(s=s.catch((e=>{var t,r,s;return{error:{message:`${null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null==e?void 0:e.message}`,details:`${null!==(r=null==e?void 0:e.stack)&&void 0!==r?r:""}`,hint:"",code:`${null!==(s=null==e?void 0:e.code)&&void 0!==s?s:""}`},data:null,count:null,status:0,statusText:""}}))),s.then(e,t)}returns(){return this}overrideTypes(){return this}},No}function Fo(){if(Do)return jo;Do=1;var e=jo&&jo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jo,"__esModule",{value:!0});const t=e($o());class r extends t.default{select(e){let t=!1;const r=(null!=e?e:"*").split("").map((e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e))).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:s,referencedTable:a=s}={}){const n=a?`${a}.order`:"order",i=this.url.searchParams.get(n);return this.url.searchParams.set(n,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const s=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:s=r}={}){const a=void 0===s?"offset":`${s}.offset`,n=void 0===s?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(n,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:s=!1,wal:a=!1,format:n="text"}={}){var i;const o=[e?"analyze":null,t?"verbose":null,r?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.Accept)&&void 0!==i?i:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${n}; for="${l}"; options=${o};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return jo.default=r,jo}function Uo(){if(Lo)return wo;Lo=1;var e=wo&&wo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wo,"__esModule",{value:!0});const t=e(Fo());class r extends t.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map((e=>"string"==typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`)).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:s}={}){let a="";"plain"===s?a="pl":"phrase"===s?a="ph":"websearch"===s&&(a="w");const n=void 0===r?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${n}.${t}`),this}match(e){return Object.entries(e).forEach((([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)})),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}}return wo.default=r,wo}function Bo(){if(Io)return bo;Io=1;var e=bo&&bo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bo,"__esModule",{value:!0});const t=e(Uo());return bo.default=class{constructor(e,{headers:t={},schema:r,fetch:s}){this.url=e,this.headers=t,this.schema=r,this.fetch=s}select(e,{head:r=!1,count:s}={}){const a=r?"HEAD":"GET";let n=!1;const i=(null!=e?e:"*").split("").map((e=>/\s/.test(e)&&!n?"":('"'===e&&(n=!n),e))).join("");return this.url.searchParams.set("select",i),s&&(this.headers.Prefer=`count=${s}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:s=!0}={}){const a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new t.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:s=!1,count:a,defaultToNull:n=!0}={}){const i=[`resolution=${s?"ignore":"merge"}-duplicates`];if(void 0!==r&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&i.push(this.headers.Prefer),a&&i.push(`count=${a}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new t.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new t.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new t.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}},bo}var Ho,qo,Wo,Go,Vo={},Yo={};function Ko(){if(qo)return Vo;qo=1,Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.DEFAULT_HEADERS=void 0;const e=(Ho||(Ho=1,Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.version=void 0,Yo.version="0.0.0-automated"),Yo);return Vo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Vo}const Jo=Dr(function(){if(Go)return vo;Go=1;var e=vo&&vo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vo,"__esModule",{value:!0}),vo.PostgrestError=vo.PostgrestBuilder=vo.PostgrestTransformBuilder=vo.PostgrestFilterBuilder=vo.PostgrestQueryBuilder=vo.PostgrestClient=void 0;const t=e(function(){if(Wo)return yo;Wo=1;var e=yo&&yo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yo,"__esModule",{value:!0});const t=e(Bo()),r=e(Uo()),s=Ko();class a{constructor(e,{headers:t={},schema:r,fetch:a}={}){this.url=e,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=a}from(e){const r=new URL(`${this.url}/${e}`);return new t.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new a(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:s=!1,get:a=!1,count:n}={}){let i;const o=new URL(`${this.url}/rpc/${e}`);let l;s||a?(i=s?"HEAD":"GET",Object.entries(t).filter((([e,t])=>void 0!==t)).map((([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`])).forEach((([e,t])=>{o.searchParams.append(e,t)}))):(i="POST",l=t);const c=Object.assign({},this.headers);return n&&(c.Prefer=`count=${n}`),new r.default({method:i,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}return yo.default=a,yo}());vo.PostgrestClient=t.default;const r=e(Bo());vo.PostgrestQueryBuilder=r.default;const s=e(Uo());vo.PostgrestFilterBuilder=s.default;const a=e(Fo());vo.PostgrestTransformBuilder=a.default;const n=e($o());vo.PostgrestBuilder=n.default;const i=e(zo());return vo.PostgrestError=i.default,vo.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:n.default,PostgrestError:i.default},vo}()),{PostgrestClient:Xo,PostgrestQueryBuilder:Qo,PostgrestFilterBuilder:Zo,PostgrestTransformBuilder:el,PostgrestBuilder:tl,PostgrestError:rl}=Jo,sl={"X-Client-Info":"realtime-js/2.11.2"};var al,nl,il,ol,ll,cl,dl,ul,hl,ml,fl;(nl=al||(al={}))[nl.connecting=0]="connecting",nl[nl.open=1]="open",nl[nl.closing=2]="closing",nl[nl.closed=3]="closed",(ol=il||(il={})).closed="closed",ol.errored="errored",ol.joined="joined",ol.joining="joining",ol.leaving="leaving",(cl=ll||(ll={})).close="phx_close",cl.error="phx_error",cl.join="phx_join",cl.reply="phx_reply",cl.leave="phx_leave",cl.access_token="access_token",(dl||(dl={})).websocket="websocket",(hl=ul||(ul={})).Connecting="connecting",hl.Open="open",hl.Closing="closing",hl.Closed="closed";class pl{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const s=t.getUint8(1),a=t.getUint8(2);let n=this.HEADER_LENGTH+2;const i=r.decode(e.slice(n,n+s));n+=s;const o=r.decode(e.slice(n,n+a));n+=a;return{ref:null,topic:i,event:o,payload:JSON.parse(r.decode(e.slice(n,e.byteLength)))}}}class gl{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}(fl=ml||(ml={})).abstime="abstime",fl.bool="bool",fl.date="date",fl.daterange="daterange",fl.float4="float4",fl.float8="float8",fl.int2="int2",fl.int4="int4",fl.int4range="int4range",fl.int8="int8",fl.int8range="int8range",fl.json="json",fl.jsonb="jsonb",fl.money="money",fl.numeric="numeric",fl.oid="oid",fl.reltime="reltime",fl.text="text",fl.time="time",fl.timestamp="timestamp",fl.timestamptz="timestamptz",fl.timetz="timetz",fl.tsrange="tsrange",fl.tstzrange="tstzrange";const xl=(e,t,r={})=>{var s;const a=null!==(s=r.skipTypes)&&void 0!==s?s:[];return Object.keys(t).reduce(((r,s)=>(r[s]=vl(s,e,t,a),r)),{})},vl=(e,t,r,s)=>{const a=t.find((t=>t.name===e)),n=null==a?void 0:a.type,i=r[e];return n&&!s.includes(n)?yl(n,i):bl(i)},yl=(e,t)=>{if("_"===e.charAt(0)){const r=e.slice(1,e.length);return Sl(t,r)}switch(e){case ml.bool:return wl(t);case ml.float4:case ml.float8:case ml.int2:case ml.int4:case ml.int8:case ml.numeric:case ml.oid:return jl(t);case ml.json:case ml.jsonb:return Nl(t);case ml.timestamp:return kl(t);case ml.abstime:case ml.date:case ml.daterange:case ml.int4range:case ml.int8range:case ml.money:case ml.reltime:case ml.text:case ml.time:case ml.timestamptz:case ml.timetz:case ml.tsrange:case ml.tstzrange:default:return bl(t)}},bl=e=>e,wl=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},jl=e=>{if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Nl=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e}return e},Sl=(e,t)=>{if("string"!=typeof e)return e;const r=e.length-1,s=e[r];if("{"===e[0]&&"}"===s){let s;const n=e.slice(1,r);try{s=JSON.parse("["+n+"]")}catch(a){s=n?n.split(","):[]}return s.map((e=>yl(t,e)))}return e},kl=e=>"string"==typeof e?e.replace(" ","T"):e,_l=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Cl{constructor(e,t,r={},s=1e4){this.channel=e,this.event=t,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter((t=>t.status===e)).forEach((e=>e.callback(t)))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Tl,El,Pl,Ol,Al,Rl,Dl,Ll;(El=Tl||(Tl={})).SYNC="sync",El.JOIN="join",El.LEAVE="leave";class Il{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},(e=>{const{onJoin:t,onLeave:r,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Il.syncState(this.state,e,t,r),this.pendingDiffs.forEach((e=>{this.state=Il.syncDiff(this.state,e,t,r)})),this.pendingDiffs=[],s()})),this.channel._on(r.diff,{},(e=>{const{onJoin:t,onLeave:r,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=Il.syncDiff(this.state,e,t,r),s())})),this.onJoin(((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})})),this.onLeave(((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(e,t,r,s){const a=this.cloneDeep(e),n=this.transformState(t),i={},o={};return this.map(a,((e,t)=>{n[e]||(o[e]=t)})),this.map(n,((e,t)=>{const r=a[e];if(r){const s=t.map((e=>e.presence_ref)),a=r.map((e=>e.presence_ref)),n=t.filter((e=>a.indexOf(e.presence_ref)<0)),l=r.filter((e=>s.indexOf(e.presence_ref)<0));n.length>0&&(i[e]=n),l.length>0&&(o[e]=l)}else i[e]=t})),this.syncDiff(a,{joins:i,leaves:o},r,s)}static syncDiff(e,t,r,s){const{joins:a,leaves:n}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(a,((t,s)=>{var a;const n=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(s),n.length>0){const r=e[t].map((e=>e.presence_ref)),s=n.filter((e=>r.indexOf(e.presence_ref)<0));e[t].unshift(...s)}r(t,n,s)})),this.map(n,((t,r)=>{let a=e[t];if(!a)return;const n=r.map((e=>e.presence_ref));a=a.filter((e=>n.indexOf(e.presence_ref)<0)),e[t]=a,s(t,a,r),0===a.length&&delete e[t]})),e}static map(e,t){return Object.getOwnPropertyNames(e).map((r=>t(r,e[r])))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce(((t,r)=>{const s=e[r];return t[r]="metas"in s?s.metas.map((e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e))):s,t}),{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(Ol=Pl||(Pl={})).ALL="*",Ol.INSERT="INSERT",Ol.UPDATE="UPDATE",Ol.DELETE="DELETE",(Rl=Al||(Al={})).BROADCAST="broadcast",Rl.PRESENCE="presence",Rl.POSTGRES_CHANGES="postgres_changes",Rl.SYSTEM="system",(Ll=Dl||(Dl={})).SUBSCRIBED="SUBSCRIBED",Ll.TIMED_OUT="TIMED_OUT",Ll.CLOSED="CLOSED",Ll.CHANNEL_ERROR="CHANNEL_ERROR";class Ml{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=il.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Cl(this,ll.join,this.params,this.timeout),this.rejoinTimer=new gl((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=il.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=il.closed,this.socket._remove(this)})),this._onError((e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=il.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=il.errored,this.rejoinTimer.scheduleTimeout())})),this._on(ll.reply,{},((e,t)=>{this._trigger(this._replyEventName(t),e)})),this.presence=new Il(this),this.broadcastEndpointURL=_l(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:n,private:i}}=this.params;this._onError((t=>null==e?void 0:e(Dl.CHANNEL_ERROR,t))),this._onClose((()=>null==e?void 0:e(Dl.CLOSED)));const o={},l={broadcast:a,presence:n,postgres_changes:null!==(s=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map((e=>e.filter)))&&void 0!==s?s:[],private:i};this.socket.accessTokenValue&&(o.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},o)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",(async({postgres_changes:t})=>{var r;if(this.socket.setAuth(),void 0!==t){const s=this.bindings.postgres_changes,a=null!==(r=null==s?void 0:s.length)&&void 0!==r?r:0,n=[];for(let r=0;r<a;r++){const a=s[r],{filter:{event:i,schema:o,table:l,filter:c}}=a,d=t&&t[r];if(!d||d.event!==i||d.schema!==o||d.table!==l||d.filter!==c)return this.unsubscribe(),void(null==e||e(Dl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));n.push(Object.assign(Object.assign({},a),{id:d.id}))}return this.bindings.postgres_changes=n,void(e&&e(Dl.SUBSCRIBED))}null==e||e(Dl.SUBSCRIBED)})).receive("error",(t=>{null==e||e(Dl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))})).receive("timeout",(()=>{null==e||e(Dl.TIMED_OUT)}))}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,s;if(this._canPush()||"broadcast"!==e.type)return new Promise((r=>{var s,a,n;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(n=null===(a=null===(s=this.params)||void 0===s?void 0:s.config)||void 0===a?void 0:a.broadcast)||void 0===n?void 0:n.ack)||r("ok"),i.receive("ok",(()=>r("ok"))),i.receive("error",(()=>r("error"))),i.receive("timeout",(()=>r("timed out")))}));{const{event:n,payload:i}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(r=t.timeout)&&void 0!==r?r:this.timeout);return await(null===(s=e.body)||void 0===s?void 0:s.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=il.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ll.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise((r=>{const s=new Cl(this,ll.leave,{},e);s.receive("ok",(()=>{t(),r("ok")})).receive("timeout",(()=>{t(),r("timed out")})).receive("error",(()=>{r("error")})),s.send(),this._canPush()||s.trigger("ok",{})}))}async _fetchWithTimeout(e,t,r){const s=new AbortController,a=setTimeout((()=>s.abort()),r),n=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(a),n}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Cl(this,e,t,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var s,a;const n=e.toLocaleLowerCase(),{close:i,error:o,leave:l,join:c}=ll;if(r&&[i,o,l,c].indexOf(n)>=0&&r!==this._joinRef())return;let d=this._onMessage(n,t,r);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(n)?null===(s=this.bindings.postgres_changes)||void 0===s||s.filter((e=>{var t,r,s;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(s=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===s?void 0:s.toLocaleLowerCase())===n})).map((e=>e.callback(d,r))):null===(a=this.bindings[n])||void 0===a||a.filter((e=>{var r,s,a,i,o,l;if(["broadcast","presence","postgres_changes"].includes(n)){if("id"in e){const n=e.id,i=null===(r=e.filter)||void 0===r?void 0:r.event;return n&&(null===(s=t.ids)||void 0===s?void 0:s.includes(n))&&("*"===i||(null==i?void 0:i.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const r=null===(o=null===(i=null==e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===r||r===(null===(l=null==t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===n})).map((e=>{if("object"==typeof d&&"ids"in d){const e=d.data,{schema:t,table:r,commit_timestamp:s,type:a,errors:n}=e,i={schema:t,table:r,commit_timestamp:s,eventType:a,new:{},old:{},errors:n};d=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(d,r)}))}_isClosed(){return this.state===il.closed}_isJoined(){return this.state===il.joined}_isJoining(){return this.state===il.joining}_isLeaving(){return this.state===il.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const s=e.toLocaleLowerCase(),a={type:s,filter:t,callback:r};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter((e=>{var s;return!((null===(s=e.type)||void 0===s?void 0:s.toLocaleLowerCase())===r&&Ml.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ll.close,{},e)}_onError(e){this._on(ll.error,{},(t=>e(t)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=il.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=xl(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=xl(e.columns,e.old_record)),t}}const zl=()=>{},$l="undefined"!=typeof WebSocket;class Fl{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=sl,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=zl,this.conn=null,this.sendBuffer=[],this.serializer=new pl,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>lo((async()=>{const{default:e}=await Promise.resolve().then((()=>Po));return{default:e}}),void 0).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)},this.endPoint=`${e}/${dl.websocket}`,this.httpEndpoint=_l(e),(null==t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null==t?void 0:t.params)&&(this.params=t.params),(null==t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null==t?void 0:t.timeout)&&(this.timeout=t.timeout),(null==t?void 0:t.logger)&&(this.logger=t.logger),(null==t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=null===(r=null==t?void 0:t.params)||void 0===r?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=(null==t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null==t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null==t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new gl((async()=>{this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(null==t?void 0:t.fetch),null==t?void 0:t.worker){if("undefined"!=typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null==t?void 0:t.worker)||!1,this.workerUrl=null==t?void 0:t.workerUrl}this.accessToken=(null==t?void 0:t.accessToken)||null}connect(){if(!this.conn)if(this.transport)this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});else{if($l)return this.conn=new WebSocket(this.endpointURL()),void this.setupConnection();this.conn=new Ul(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),lo((async()=>{const{default:e}=await import("./browser-CceAm2UU.js").then((e=>e.b));return{default:e}}),__vite__mapDeps([0,1])).then((({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()}))}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!=t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map((e=>e.unsubscribe())));return this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case al.connecting:return ul.Connecting;case al.open:return ul.Open;case al.closing:return ul.Closing;default:return ul.Closed}}isConnected(){return this.connectionState()===ul.Open}channel(e,t={config:{}}){const r=new Ml(`realtime:${e}`,t,this);return this.channels.push(r),r}push(e){const{topic:t,event:r,payload:s,ref:a}=e,n=()=>{this.encode(e,(e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)}))};this.log("push",`${t} ${r} (${a})`,s),this.isConnected()?n():this.sendBuffer.push(n)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let e=null;try{e=JSON.parse(atob(t.split(".")[1]))}catch(r){}if(e&&e.exp){if(!(Math.floor(Date.now()/1e3)-e.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${e.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${e.exp}`)}this.accessTokenValue=t,this.channels.forEach((e=>{t&&e.updateJoinPayload({access_token:t}),e.joinedOnce&&e._isJoined()&&e._push(ll.access_token,{access_token:t})}))}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((e=>e())),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find((t=>t.topic===e&&(t._isJoined()||t._isJoining())));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter((t=>t._joinRef()!==e._joinRef()))}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,(e=>{let{topic:t,event:r,payload:s,ref:a}=e;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${t} ${r} ${a&&"("+a+")"||""}`,s),this.channels.filter((e=>e._isMember(t))).forEach((e=>e._trigger(r,s,a))),this.stateChangeCallbacks.message.forEach((t=>t(e)))}))}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}else this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this.sendHeartbeat()),this.heartbeatIntervalMs);this.stateChangeCallbacks.open.forEach((e=>e()))}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((t=>t(e)))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((t=>t(e)))}_triggerChanError(){this.channels.forEach((e=>e._trigger(ll.error)))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?";return`${e}${r}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}}class Ul{constructor(e,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=al.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Bl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Hl(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class ql extends Bl{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Wl extends Bl{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Gl=function(e,t,r,s){return new(r||(r=Promise))((function(a,n){function i(e){try{l(s.next(e))}catch(t){n(t)}}function o(e){try{l(s.throw(e))}catch(t){n(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}))};const Vl=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>lo((async()=>{const{default:e}=await Promise.resolve().then((()=>Po));return{default:e}}),void 0).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)},Yl=e=>{if(Array.isArray(e))return e.map((e=>Yl(e)));if("function"==typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach((([e,r])=>{const s=e.replace(/([-_][a-z])/gi,(e=>e.toUpperCase().replace(/[-_]/g,"")));t[s]=Yl(r)})),t};var Kl=function(e,t,r,s){return new(r||(r=Promise))((function(a,n){function i(e){try{l(s.next(e))}catch(t){n(t)}}function o(e){try{l(s.throw(e))}catch(t){n(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}))};const Jl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Xl=(e,t,r)=>Kl(void 0,void 0,void 0,(function*(){const s=yield Gl(void 0,void 0,void 0,(function*(){return"undefined"==typeof Response?(yield lo((()=>Promise.resolve().then((()=>Po))),void 0)).Response:Response}));e instanceof s&&!(null==r?void 0:r.noResolveJson)?e.json().then((r=>{t(new ql(Jl(r),e.status||500))})).catch((e=>{t(new Wl(Jl(e),e))})):t(new Wl(Jl(e),e))}));function Ql(e,t,r,s,a,n){return Kl(this,void 0,void 0,(function*(){return new Promise(((i,o)=>{e(r,((e,t,r,s)=>{const a={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),s&&(a.body=JSON.stringify(s)),Object.assign(Object.assign({},a),r))})(t,s,a,n)).then((e=>{if(!e.ok)throw e;return(null==s?void 0:s.noResolveJson)?e:e.json()})).then((e=>i(e))).catch((e=>Xl(e,o,s)))}))}))}function Zl(e,t,r,s){return Kl(this,void 0,void 0,(function*(){return Ql(e,"GET",t,r,s)}))}function ec(e,t,r,s,a){return Kl(this,void 0,void 0,(function*(){return Ql(e,"POST",t,s,a,r)}))}function tc(e,t,r,s,a){return Kl(this,void 0,void 0,(function*(){return Ql(e,"DELETE",t,s,a,r)}))}var rc=function(e,t,r,s){return new(r||(r=Promise))((function(a,n){function i(e){try{l(s.next(e))}catch(t){n(t)}}function o(e){try{l(s.throw(e))}catch(t){n(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}))};const sc={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ac={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class nc{constructor(e,t={},r,s){this.url=e,this.headers=t,this.bucketId=r,this.fetch=Vl(s)}uploadOrUpdate(e,t,r,s){return rc(this,void 0,void 0,(function*(){try{let a;const n=Object.assign(Object.assign({},ac),s);let i=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(n.upsert)});const o=n.metadata;"undefined"!=typeof Blob&&r instanceof Blob?(a=new FormData,a.append("cacheControl",n.cacheControl),o&&a.append("metadata",this.encodeMetadata(o)),a.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(a=r,a.append("cacheControl",n.cacheControl),o&&a.append("metadata",this.encodeMetadata(o))):(a=r,i["cache-control"]=`max-age=${n.cacheControl}`,i["content-type"]=n.contentType,o&&(i["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),(null==s?void 0:s.headers)&&(i=Object.assign(Object.assign({},i),s.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:a,headers:i},(null==n?void 0:n.duplex)?{duplex:n.duplex}:{})),u=yield d.json();if(d.ok)return{data:{path:l,id:u.Id,fullPath:u.Key},error:null};return{data:null,error:u}}catch(a){if(Hl(a))return{data:null,error:a};throw a}}))}upload(e,t,r){return rc(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",e,t,r)}))}uploadToSignedUrl(e,t,r,s){return rc(this,void 0,void 0,(function*(){const a=this._removeEmptyFolders(e),n=this._getFinalPath(a),i=new URL(this.url+`/object/upload/sign/${n}`);i.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:ac.upsert},s),n=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!=typeof Blob&&r instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(e=r,e.append("cacheControl",t.cacheControl)):(e=r,n["cache-control"]=`max-age=${t.cacheControl}`,n["content-type"]=t.contentType);const o=yield this.fetch(i.toString(),{method:"PUT",body:e,headers:n}),l=yield o.json();if(o.ok)return{data:{path:a,fullPath:l.Key},error:null};return{data:null,error:l}}catch(o){if(Hl(o))return{data:null,error:o};throw o}}))}createSignedUploadUrl(e,t){return rc(this,void 0,void 0,(function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);(null==t?void 0:t.upsert)&&(s["x-upsert"]="true");const a=yield ec(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),n=new URL(this.url+a.url),i=n.searchParams.get("token");if(!i)throw new Bl("No token returned by API");return{data:{signedUrl:n.toString(),path:e,token:i},error:null}}catch(r){if(Hl(r))return{data:null,error:r};throw r}}))}update(e,t,r){return rc(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",e,t,r)}))}move(e,t,r){return rc(this,void 0,void 0,(function*(){try{return{data:yield ec(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Hl(s))return{data:null,error:s};throw s}}))}copy(e,t,r){return rc(this,void 0,void 0,(function*(){try{return{data:{path:(yield ec(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Hl(s))return{data:null,error:s};throw s}}))}createSignedUrl(e,t,r){return rc(this,void 0,void 0,(function*(){try{let s=this._getFinalPath(e),a=yield ec(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},(null==r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers});const n=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${n}`)},{data:a,error:null}}catch(s){if(Hl(s))return{data:null,error:s};throw s}}))}createSignedUrls(e,t,r){return rc(this,void 0,void 0,(function*(){try{const s=yield ec(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),a=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{data:s.map((e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${a}`):null}))),error:null}}catch(s){if(Hl(s))return{data:null,error:s};throw s}}))}download(e,t){return rc(this,void 0,void 0,(function*(){const r=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",s=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),a=s?`?${s}`:"";try{const t=this._getFinalPath(e),s=yield Zl(this.fetch,`${this.url}/${r}/${t}${a}`,{headers:this.headers,noResolveJson:!0});return{data:yield s.blob(),error:null}}catch(n){if(Hl(n))return{data:null,error:n};throw n}}))}info(e){return rc(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{const e=yield Zl(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Yl(e),error:null}}catch(r){if(Hl(r))return{data:null,error:r};throw r}}))}exists(e){return rc(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{return yield function(e,t,r,s){return Kl(this,void 0,void 0,(function*(){return Ql(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)}))}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Hl(r)&&r instanceof Wl){const e=r.originalError;if([400,404].includes(null==e?void 0:e.status))return{data:!1,error:r}}throw r}}))}getPublicUrl(e,t){const r=this._getFinalPath(e),s=[],a=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==a&&s.push(a);const n=void 0!==(null==t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==i&&s.push(i);let o=s.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${n}/public/${r}${o}`)}}}remove(e){return rc(this,void 0,void 0,(function*(){try{return{data:yield tc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Hl(t))return{data:null,error:t};throw t}}))}list(e,t,r){return rc(this,void 0,void 0,(function*(){try{const s=Object.assign(Object.assign(Object.assign({},sc),t),{prefix:e||""});return{data:yield ec(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Hl(s))return{data:null,error:s};throw s}}))}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!=typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const ic={"X-Client-Info":"storage-js/2.7.1"};var oc=function(e,t,r,s){return new(r||(r=Promise))((function(a,n){function i(e){try{l(s.next(e))}catch(t){n(t)}}function o(e){try{l(s.throw(e))}catch(t){n(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}))};class lc{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},ic),t),this.fetch=Vl(r)}listBuckets(){return oc(this,void 0,void 0,(function*(){try{return{data:yield Zl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Hl(e))return{data:null,error:e};throw e}}))}getBucket(e){return oc(this,void 0,void 0,(function*(){try{return{data:yield Zl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Hl(t))return{data:null,error:t};throw t}}))}createBucket(e,t={public:!1}){return oc(this,void 0,void 0,(function*(){try{return{data:yield ec(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Hl(r))return{data:null,error:r};throw r}}))}updateBucket(e,t){return oc(this,void 0,void 0,(function*(){try{const r=yield function(e,t,r,s,a){return Kl(this,void 0,void 0,(function*(){return Ql(e,"PUT",t,s,a,r)}))}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:r,error:null}}catch(r){if(Hl(r))return{data:null,error:r};throw r}}))}emptyBucket(e){return oc(this,void 0,void 0,(function*(){try{return{data:yield ec(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Hl(t))return{data:null,error:t};throw t}}))}deleteBucket(e){return oc(this,void 0,void 0,(function*(){try{return{data:yield tc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Hl(t))return{data:null,error:t};throw t}}))}}class cc extends lc{constructor(e,t={},r){super(e,t,r)}from(e){return new nc(this.url,this.headers,e,this.fetch)}}let dc="";dc="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const uc={headers:{"X-Client-Info":`supabase-js-${dc}/2.49.1`}},hc={schema:"public"},mc={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},fc={};var pc=function(e,t,r,s){return new(r||(r=Promise))((function(a,n){function i(e){try{l(s.next(e))}catch(t){n(t)}}function o(e){try{l(s.throw(e))}catch(t){n(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}))};const gc=(e,t,r)=>{const s=(e=>{let t;return t=e||("undefined"==typeof fetch?_o:fetch),(...e)=>t(...e)})(r),a="undefined"==typeof Headers?Co:Headers;return(r,n)=>pc(void 0,void 0,void 0,(function*(){var i;const o=null!==(i=yield t())&&void 0!==i?i:e;let l=new a(null==n?void 0:n.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),s(r,Object.assign(Object.assign({},n),{headers:l}))}))};var xc=function(e,t,r,s){return new(r||(r=Promise))((function(a,n){function i(e){try{l(s.next(e))}catch(t){n(t)}}function o(e){try{l(s.throw(e))}catch(t){n(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}))};const vc="2.68.0",yc=3e4,bc=9e4,wc={"X-Client-Info":`gotrue-js/${vc}`},jc="X-Supabase-Api-Version",Nc={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"};const Sc=()=>"undefined"!=typeof window&&"undefined"!=typeof document,kc={tested:!1,writable:!1},_c=()=>{if(!Sc())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(t){return!1}if(kc.tested)return kc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),kc.tested=!0,kc.writable=!0}catch(t){kc.tested=!0,kc.writable=!1}return kc.writable};const Cc=e=>{let t;return t=e||("undefined"==typeof fetch?(...e)=>lo((async()=>{const{default:e}=await Promise.resolve().then((()=>Po));return{default:e}}),void 0).then((({default:t})=>t(...e))):fetch),(...e)=>t(...e)},Tc=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ec=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(s){return r}},Pc=async(e,t)=>{await e.removeItem(t)};class Oc{constructor(){this.promise=new Oc.promiseConstructor(((e,t)=>{this.resolve=e,this.reject=t}))}}function Ac(e){const t=e.split(".");if(3!==t.length)throw new Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=t[1];return JSON.parse(function(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r,s,a,n,i,o,l,c="",d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)n=t.indexOf(e.charAt(d++)),i=t.indexOf(e.charAt(d++)),o=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),r=n<<2|i>>4,s=(15&i)<<4|o>>2,a=(3&o)<<6|l,c+=String.fromCharCode(r),64!=o&&0!=s&&(c+=String.fromCharCode(s)),64!=l&&0!=a&&(c+=String.fromCharCode(a));return c}(r))}function Rc(e){return("0"+e.toString(16)).substr(-2)}async function Dc(e){if(!("undefined"!=typeof crypto&&void 0!==crypto.subtle&&"undefined"!=typeof TextEncoder))return e;const t=await async function(e){const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(r);return Array.from(s).map((e=>String.fromCharCode(e))).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Lc(e,t,r=!1){const s=function(){const e=new Uint32Array(56);if("undefined"==typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let r="";for(let s=0;s<56;s++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,Rc).join("")}();let a=s;r&&(a+="/PASSWORD_RECOVERY"),await Tc(e,`${t}-code-verifier`,a);const n=await Dc(s);return[n,s===n?"plain":"s256"]}Oc.promiseConstructor=Promise;const Ic=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;class Mc extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function zc(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class $c extends Mc{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class Fc extends Mc{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Uc extends Mc{constructor(e,t,r,s){super(e,r,s),this.name=t,this.status=r}}class Bc extends Uc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Hc extends Uc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qc extends Uc{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Wc extends Uc{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Gc extends Uc{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vc extends Uc{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Yc(e){return zc(e)&&"AuthRetryableFetchError"===e.name}class Kc extends Uc{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}const Jc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Xc=[502,503,504];async function Qc(e){var t,r;if(!("object"==typeof(r=e)&&null!==r&&"status"in r&&"ok"in r&&"json"in r&&"function"==typeof r.json))throw new Vc(Jc(e),0);if(Xc.includes(e.status))throw new Vc(Jc(e),e.status);let s,a;try{s=await e.json()}catch(i){throw new Fc(Jc(i),i)}const n=function(e){const t=e.headers.get(jc);if(!t)return null;if(!t.match(Ic))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(i){return null}}(e);if(n&&n.getTime()>=Nc.timestamp&&"object"==typeof s&&s&&"string"==typeof s.code?a=s.code:"object"==typeof s&&s&&"string"==typeof s.error_code&&(a=s.error_code),a){if("weak_password"===a)throw new Kc(Jc(s),e.status,(null===(t=s.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new Bc}else if("object"==typeof s&&s&&"object"==typeof s.weak_password&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce(((e,t)=>e&&"string"==typeof t),!0))throw new Kc(Jc(s),e.status,s.weak_password.reasons);throw new $c(Jc(s),e.status||500,a)}async function Zc(e,t,r,s){var a;const n=Object.assign({},null==s?void 0:s.headers);n[jc]||(n[jc]=Nc.name),(null==s?void 0:s.jwt)&&(n.Authorization=`Bearer ${s.jwt}`);const i=null!==(a=null==s?void 0:s.query)&&void 0!==a?a:{};(null==s?void 0:s.redirectTo)&&(i.redirect_to=s.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await async function(e,t,r,s,a,n){const i=((e,t,r,s)=>{const a={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==t?void 0:t.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),r))})(t,s,a,n);let o;try{o=await e(r,Object.assign({},i))}catch(l){throw new Vc(Jc(l),0)}o.ok||await Qc(o);if(null==s?void 0:s.noResolveJson)return o;try{return await o.json()}catch(l){await Qc(l)}}(e,t,r+o,{headers:n,noResolveJson:null==s?void 0:s.noResolveJson},{},null==s?void 0:s.body);return(null==s?void 0:s.xform)?null==s?void 0:s.xform(l):{data:Object.assign({},l),error:null}}function ed(e){var t;let r=null;var s;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=(s=e.expires_in,Math.round(Date.now()/1e3)+s)));return{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function td(e){const t=ed(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce(((e,t)=>e&&"string"==typeof t),!0)&&(t.data.weak_password=e.weak_password),t}function rd(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function sd(e){return{data:e,error:null}}function ad(e){const{action_link:t,email_otp:r,hashed_token:s,redirect_to:a,verification_type:n}=e,i=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]])}return r}(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:r,hashed_token:s,redirect_to:a,verification_type:n},user:Object.assign({},i)},error:null}}function nd(e){return e}class id{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=Cc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await Zc(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(zc(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await Zc(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:rd})}catch(r){if(zc(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(r[s[a]]=e[s[a]])}return r}(e,["options"]),s=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(s.new_email=null==r?void 0:r.newEmail,delete s.newEmail),await Zc(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:ad,redirectTo:null==t?void 0:t.redirectTo})}catch(t){if(zc(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Zc(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:rd})}catch(t){if(zc(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,s,a,n,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await Zc(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(a=null===(s=null==e?void 0:e.perPage)||void 0===s?void 0:s.toString())&&void 0!==a?a:""},xform:nd});if(c.error)throw c.error;const d=await c.json(),u=null!==(n=c.headers.get("x-total-count"))&&void 0!==n?n:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach((e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t})),l.total=parseInt(u)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(zc(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){try{return await Zc(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:rd})}catch(t){if(zc(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await Zc(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:rd})}catch(r){if(zc(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){try{return await Zc(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:rd})}catch(r){if(zc(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:t,error:r}=await Zc(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(t){if(zc(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await Zc(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(zc(t))return{data:null,error:t};throw t}}}const od={getItem:e=>_c()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{_c()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{_c()&&globalThis.localStorage.removeItem(e)}};function ld(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const cd=!!(globalThis&&_c()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class dd extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ud extends dd{}async function hd(e,t,r){const s=new globalThis.AbortController;return t>0&&setTimeout((()=>{s.abort()}),t),await Promise.resolve().then((()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},(async s=>{if(!s){if(0===t)throw new ud(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(cd)try{await globalThis.navigator.locks.query()}catch(a){}return await r()}try{return await r()}finally{}}))))}!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();const md={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wc,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function fd(e,t,r){return await r()}class pd{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pd.nextInstanceID,pd.nextInstanceID+=1,this.instanceID>0&&Sc();const s=Object.assign(Object.assign({},md),e);if(this.logDebugMessages=!!s.debug,"function"==typeof s.debug&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new id({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Cc(s.fetch),this.lock=s.lock||fd,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Sc()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=hd:this.lock=fd,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:_c()?this.storage=od:(this.memoryStorage={},this.storage=ld(this.memoryStorage)):(this.memoryStorage={},this.storage=ld(this.memoryStorage)),Sc()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",(async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}))}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${vc}) ${(new Date).toISOString()}`,...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,(async()=>await this._initialize())))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach(((e,r)=>{t[r]=e}))}catch(s){}return r.searchParams.forEach(((e,r)=>{t[r]=e})),t}(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),Sc()&&this.detectSessionInUrl&&"none"!==r){const{data:s,error:a}=await this._getSessionFromURL(t,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return zc(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return await this._removeSession(),{error:a}}const{session:n,redirectType:i}=s;return this._debug("#_initialize()","detected session in URL",n,"redirect type",i),await this._saveSession(n),setTimeout((async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",n):await this._notifyAllSubscribers("SIGNED_IN",n)}),0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return zc(t)?{error:t}:{error:new Fc("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,s;try{const a=await Zc(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(r=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(s=null==e?void 0:e.options)||void 0===s?void 0:s.captchaToken}},xform:ed}),{data:n,error:i}=a;if(i||!n)return{data:{user:null,session:null},error:i};const o=n.session,l=n.user;return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(zc(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,r,s;try{let a;if("email"in e){const{email:r,password:s,options:n}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await Lc(this.storage,this.storageKey)),a=await Zc(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==n?void 0:n.emailRedirectTo,body:{email:r,password:s,data:null!==(t=null==n?void 0:n.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null==n?void 0:n.captchaToken},code_challenge:i,code_challenge_method:o},xform:ed})}else{if(!("phone"in e))throw new qc("You must provide either an email or phone number and a password");{const{phone:t,password:n,options:i}=e;a=await Zc(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:n,data:null!==(r=null==i?void 0:i.data)&&void 0!==r?r:{},channel:null!==(s=null==i?void 0:i.channel)&&void 0!==s?s:"sms",gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:ed})}}const{data:n,error:i}=a;if(i||!n)return{data:{user:null,session:null},error:i};const o=n.session,l=n.user;return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(a){if(zc(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:s,options:a}=e;t=await Zc(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:s,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:td})}else{if(!("phone"in e))throw new qc("You must provide either an email or phone number and a password");{const{phone:r,password:s,options:a}=e;t=await Zc(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:s,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},xform:td})}}const{data:r,error:s}=t;return s?{data:{user:null,session:null},error:s}:r&&r.session&&r.user?(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s}):{data:{user:null,session:null},error:new Hc}}catch(t){if(zc(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,s,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(s=e.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,(async()=>this._exchangeCodeForSession(e)))}async _exchangeCodeForSession(e){const t=await Ec(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(null!=t?t:"").split("/");try{const{data:t,error:a}=await Zc(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ed});if(await Pc(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!=s?s:null}),error:a}):{data:{user:null,session:null,redirectType:null},error:new Hc}}catch(a){if(zc(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:r,token:s,access_token:a,nonce:n}=e,i=await Zc(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:a,nonce:n,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:ed}),{data:o,error:l}=i;return l?{data:{user:null,session:null},error:l}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}):{data:{user:null,session:null},error:new Hc}}catch(t){if(zc(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,s,a,n;try{if("email"in e){const{email:s,options:a}=e;let n=null,i=null;"pkce"===this.flowType&&([n,i]=await Lc(this.storage,this.storageKey));const{error:o}=await Zc(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:null!==(t=null==a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(r=null==a?void 0:a.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken},code_challenge:n,code_challenge_method:i},redirectTo:null==a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:t,options:r}=e,{data:i,error:o}=await Zc(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(s=null==r?void 0:r.data)&&void 0!==s?s:{},create_user:null===(a=null==r?void 0:r.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null==r?void 0:r.captchaToken},channel:null!==(n=null==r?void 0:r.channel)&&void 0!==n?n:"sms"}});return{data:{user:null,session:null,messageId:null==i?void 0:i.message_id},error:o}}throw new qc("You must provide either an email or phone number.")}catch(i){if(zc(i))return{data:{user:null,session:null},error:i};throw i}}async verifyOtp(e){var t,r;try{let s,a;"options"in e&&(s=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(r=e.options)||void 0===r?void 0:r.captchaToken);const{data:n,error:i}=await Zc(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:ed});if(i)throw i;if(!n)throw new Error("An error occurred on token verification.");const o=n.session,l=n.user;return(null==o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(s){if(zc(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var t,r,s;try{let a=null,n=null;return"pkce"===this.flowType&&([a,n]=await Lc(this.storage,this.storageKey)),await Zc(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(s=null==e?void 0:e.options)||void 0===s?void 0:s.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:n}),headers:this.headers,xform:sd})}catch(a){if(zc(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._reauthenticate()))}async _reauthenticate(){try{return await this._useSession((async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new Bc;const{error:s}=await Zc(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:s}}))}catch(e){if(zc(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:a}=e,{error:n}=await Zc(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}},redirectTo:null==a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:n}}if("phone"in e){const{phone:r,type:s,options:a}=e,{data:n,error:i}=await Zc(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:null==a?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:null==n?void 0:n.message_id},error:i}}throw new qc("You must provide either an email or phone number and a type")}catch(t){if(zc(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,(async()=>this._useSession((async e=>e))))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(e){}})()),r}return await this.lock(`lock:${this.storageKey}`,e,(async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Ec(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=!!e.expires_at&&1e3*e.expires_at-Date.now()<bc;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,r,s)=>(t||"user"!==r||(t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,r,s))})}return{data:{session:e},error:null}}const{session:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,(async()=>await this._getUser()))}async _getUser(e){try{return e?await Zc(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:rd}):await this._useSession((async e=>{var t,r,s;const{data:a,error:n}=e;if(n)throw n;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Zc(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(s=null===(r=a.session)||void 0===r?void 0:r.access_token)&&void 0!==s?s:void 0,xform:rd}):{data:{user:null},error:new Bc}}))}catch(t){if(zc(t))return function(e){return zc(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await Pc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._updateUser(e,t)))}async _updateUser(e,t={}){try{return await this._useSession((async r=>{const{data:s,error:a}=r;if(a)throw a;if(!s.session)throw new Bc;const n=s.session;let i=null,o=null;"pkce"===this.flowType&&null!=e.email&&([i,o]=await Lc(this.storage,this.storageKey));const{data:l,error:c}=await Zc(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:o}),jwt:n.access_token,xform:rd});if(c)throw c;return n.user=l.user,await this._saveSession(n),await this._notifyAllSubscribers("USER_UPDATED",n),{data:{user:n.user},error:null}}))}catch(r){if(zc(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return Ac(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._setSession(e)))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Bc;const t=Date.now()/1e3;let r=t,s=!0,a=null;const n=Ac(e.access_token);if(n.exp&&(r=n.exp,s=r<=t),s){const{session:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return{data:{user:null,session:null},error:r};if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:s,error:n}=await this._getUser(e.access_token);if(n)throw n;a={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(zc(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._refreshSession(e)))}async _refreshSession(e){try{return await this._useSession((async t=>{var r;if(!e){const{data:s,error:a}=t;if(a)throw a;e=null!==(r=s.session)&&void 0!==r?r:void 0}if(!(null==e?void 0:e.refresh_token))throw new Bc;const{session:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(zc(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Sc())throw new Wc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Wc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new Gc("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Wc("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Gc("No code detected.");const{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;const s=new URL(window.location.href);return s.searchParams.delete("code"),window.history.replaceState(window.history.state,"",s.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:a,refresh_token:n,expires_in:i,expires_at:o,token_type:l}=e;if(!(a&&i&&n&&l))throw new Wc("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(i);let u=c+d;o&&(u=parseInt(o));const{data:h,error:m}=await this._getUser(a);if(m)throw m;const f={provider_token:r,provider_refresh_token:s,access_token:a,expires_in:d,expires_at:u,refresh_token:n,token_type:l,user:h.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:f,redirectType:e.type},error:null}}catch(r){if(zc(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Ec(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._signOut(e)))}async _signOut({scope:e}={scope:"global"}){return await this._useSession((async t=>{var r;const{data:s,error:a}=t;if(a)return{error:a};const n=null===(r=s.session)||void 0===r?void 0:r.access_token;if(n){const{error:t}=await this.admin.signOut(n,e);if(t&&(!function(e){return zc(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await Pc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,(async()=>{this._emitInitialSession(t)}))})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession((async t=>{var r,s;try{const{data:{session:s},error:a}=t;if(a)throw a;await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(a){await(null===(s=this.stateChangeEmitters.get(e))||void 0===s?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a)}}))}async resetPasswordForEmail(e,t={}){let r=null,s=null;"pkce"===this.flowType&&([r,s]=await Lc(this.storage,this.storageKey,!0));try{return await Zc(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(zc(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(zc(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:s}=await this._useSession((async t=>{var r,s,a,n,i;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(s=e.options)||void 0===s?void 0:s.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await Zc(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(n=o.session)||void 0===n?void 0:n.access_token)&&void 0!==i?i:void 0})}));if(s)throw s;return Sc()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null==r?void 0:r.url),{data:{provider:e.provider,url:null==r?void 0:r.url},error:null}}catch(r){if(zc(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession((async t=>{var r,s;const{data:a,error:n}=t;if(n)throw n;return await Zc(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(s=null===(r=a.session)||void 0===r?void 0:r.access_token)&&void 0!==s?s:void 0})}))}catch(t){if(zc(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const a=Date.now();return await(r=async r=>(r>0&&await async function(e){return await new Promise((t=>{setTimeout((()=>t(null)),e)}))}(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await Zc(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ed})),s=(e,t)=>{const r=200*Math.pow(2,e);return t&&Yc(t)&&Date.now()+r-a<yc},new Promise(((e,t)=>{(async()=>{for(let n=0;n<1/0;n++)try{const t=await r(n);if(!s(n,null,t))return void e(t)}catch(a){if(!s(n,a))return void t(a)}})()})))}catch(a){if(this._debug(t,"error",a),zc(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(t,"end")}var r,s}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),Sc()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await Ec(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r))return this._debug(t,"session is not valid"),void(null!==r&&await this._removeSession());const s=1e3*(null!==(e=r.expires_at)&&void 0!==e?e:1/0)-Date.now()<bc;if(this._debug(t,`session has${s?"":" not"} expired with margin of 90000s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:e}=await this._callRefreshToken(r.refresh_token);e&&(Yc(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){return void this._debug(t,"error",r)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new Bc;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Oc;const{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new Bc;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const s={session:t.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(s,"error",a),zc(a)){const e={session:null,error:a};return Yc(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const s=[],a=Array.from(this.stateChangeEmitters.values()).map((async r=>{try{await r.callback(e,t)}catch(a){s.push(a)}}));if(await Promise.all(a),s.length>0){for(let e=0;e<s.length;e+=1);throw s[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Tc(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Pc(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Sc()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval((()=>this._autoRefreshTokenTick()),yc);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout((async()=>{await this.initializePromise,await this._autoRefreshTokenTick()}),0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,(async()=>{try{const t=Date.now();try{return await this._useSession((async e=>{const{data:{session:r}}=e;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const s=Math.floor((1e3*r.expires_at-t)/yc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),s<=3&&await this._callRefreshToken(r.refresh_token)}))}catch(e){}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(!(e.isAcquireTimeout||e instanceof dd))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Sc()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,(async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const s=[`provider=${encodeURIComponent(t)}`];if((null==r?void 0:r.redirectTo)&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),(null==r?void 0:r.scopes)&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),"pkce"===this.flowType){const[e,t]=await Lc(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});s.push(r.toString())}if(null==r?void 0:r.queryParams){const e=new URLSearchParams(r.queryParams);s.push(e.toString())}return(null==r?void 0:r.skipBrowserRedirect)&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession((async t=>{var r;const{data:s,error:a}=t;return a?{data:null,error:a}:await Zc(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(r=null==s?void 0:s.session)||void 0===r?void 0:r.access_token})}))}catch(t){if(zc(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession((async t=>{var r,s;const{data:a,error:n}=t;if(n)return{data:null,error:n};const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:o,error:l}=await Zc(this.fetch,"POST",`${this.url}/factors`,{body:i,headers:this.headers,jwt:null===(r=null==a?void 0:a.session)||void 0===r?void 0:r.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(s=null==o?void 0:o.totp)||void 0===s?void 0:s.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})}))}catch(t){if(zc(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var r;const{data:s,error:a}=t;if(a)return{data:null,error:a};const{data:n,error:i}=await Zc(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(r=null==s?void 0:s.session)||void 0===r?void 0:r.access_token});return i?{data:null,error:i}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+n.expires_in},n)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",n),{data:n,error:i})}))}catch(t){if(zc(t))return{data:null,error:t};throw t}}))}async _challenge(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var r;const{data:s,error:a}=t;return a?{data:null,error:a}:await Zc(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(r=null==s?void 0:s.session)||void 0===r?void 0:r.access_token})}))}catch(t){if(zc(t))return{data:null,error:t};throw t}}))}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(null==e?void 0:e.factors)||[],s=r.filter((e=>"totp"===e.factor_type&&"verified"===e.status)),a=r.filter((e=>"phone"===e.factor_type&&"verified"===e.status));return{data:{all:r,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,(async()=>await this._useSession((async e=>{var t,r;const{data:{session:s},error:a}=e;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const n=this._decodeJWT(s.access_token);let i=null;n.aal&&(i=n.aal);let o=i;(null!==(r=null===(t=s.user.factors)||void 0===t?void 0:t.filter((e=>"verified"===e.status)))&&void 0!==r?r:[]).length>0&&(o="aal2");return{data:{currentLevel:i,nextLevel:o,currentAuthenticationMethods:n.amr||[]},error:null}}))))}}pd.nextInstanceID=0;const gd=pd;class xd extends gd{constructor(e){super(e)}}var vd=function(e,t,r,s){return new(r||(r=Promise))((function(a,n){function i(e){try{l(s.next(e))}catch(t){n(t)}}function o(e){try{l(s.throw(e))}catch(t){n(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,o)}l((s=s.apply(e,t||[])).next())}))};class yd{constructor(e,t,r){var s,a,n;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const i=e.replace(/\/$/,"");this.realtimeUrl=`${i}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${i}/auth/v1`,this.storageUrl=`${i}/storage/v1`,this.functionsUrl=`${i}/functions/v1`;const o=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l=function(e,t){const{db:r,auth:s,realtime:a,global:n}=e,{db:i,auth:o,realtime:l,global:c}=t,d={db:Object.assign(Object.assign({},i),r),auth:Object.assign(Object.assign({},o),s),realtime:Object.assign(Object.assign({},l),a),global:Object.assign(Object.assign({},c),n),accessToken:()=>xc(this,void 0,void 0,(function*(){return""}))};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}(null!=r?r:{},{db:hc,realtime:fc,auth:Object.assign(Object.assign({},mc),{storageKey:o}),global:uc});this.storageKey=null!==(s=l.auth.storageKey)&&void 0!==s?s:"",this.headers=null!==(a=l.global.headers)&&void 0!==a?a:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(n=l.auth)&&void 0!==n?n:{},this.headers,l.global.fetch),this.fetch=gc(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new Xo(`${i}/rest/v1`,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),l.accessToken||this._listenForAuthEvents()}get functions(){return new xo(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new cc(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return vd(this,void 0,void 0,(function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return null!==(t=null===(e=r.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null}))}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,storageKey:a,flowType:n,lock:i,debug:o},l,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new xd({url:this.authUrl,headers:Object.assign(Object.assign({},d),l),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,flowType:n,lock:i,debug:o,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Fl(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange(((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)}))}_handleTokenChanged(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=r}}const bd="https://bzryrvfjfzchzbmxzdyi.supabase.co",wd="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ6cnlydmZqZnpjaHpibXh6ZHlpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA3MTA2NDEsImV4cCI6MjA1NjI4NjY0MX0.Kqph8KJDbvwQdTHlpu0uhbaTYleopuftGgDI5lZfoI8",jd=(Nd=bd,Sd=wd,kd={auth:{persistSession:!0,storageKey:"becourageousnonprofit.auth.token",storage:window.localStorage,autoRefreshToken:!0,detectSessionInUrl:!0,flowType:"pkce",debug:!1},global:{fetch:(e,t)=>(Date.now(),fetch(e,t).then((e=>(Date.now(),e))).catch((e=>{throw Date.now(),e})))}},new yd(Nd,Sd,kd));var Nd,Sd,kd;jd.auth.onAuthStateChange(((e,t)=>{"SIGNED_OUT"===e&&localStorage.removeItem("courage-bot-adventure.user.profile")}));const _d=Object.freeze(Object.defineProperty({__proto__:null,checkSupabaseHealth:async()=>{const e=Date.now(),t=new Promise(((e,t)=>{setTimeout((()=>{t(new Error("Supabase health check timed out after 5000ms"))}),5e3)}));try{const r=await Promise.race([fetch(`${bd}/rest/v1/`,{headers:{apikey:wd,"Content-Type":"application/json"},signal:AbortSignal.timeout(4500)}),t]),s=Date.now()-e;return{healthy:r.ok,duration:s,status:r.status}}catch(r){const t=Date.now()-e,s=r instanceof TypeError&&(r.message.includes("network")||r.message.includes("fetch")),a=r instanceof Error&&r.message.includes("timed out");return{healthy:!1,duration:t,error:r,errorType:a?"timeout":s?"network":"unknown"}}},supabase:jd},Symbol.toStringTag,{value:"Module"})),Cd=new Map,Td=e=>{const t=Cd.get(e);if(!t)return null;return Date.now()-t.timestamp>t.expiresIn?(Cd.delete(e),null):t.data},Ed=(e,t,r=3e5)=>{Cd.set(e,{data:t,timestamp:Date.now(),expiresIn:r})},Pd=(e,t)=>{const r=Cd.get(e)||{data:null,timestamp:Date.now(),expiresIn:3e5};r.fetchPromise=t,Cd.set(e,r),t.finally((()=>{const t=Cd.get(e);t&&(delete t.fetchPromise,Cd.set(e,t))}))},Od=Pr.createContext(void 0);function Ad({children:e}){const[t,r]=Pr.useState(null),[s,a]=Pr.useState(null),[n,i]=Pr.useState(!0),[o,l]=Pr.useState(!1),[c,d]=Pr.useState(0),u=Ir(),{toast:h}=as();Pr.useEffect((()=>{(async()=>{var e,t;try{Date.now();i(!0);const{checkSupabaseHealth:n}=await lo((async()=>{const{checkSupabaseHealth:e}=await Promise.resolve().then((()=>_d));return{checkSupabaseHealth:e}}),void 0);(await n()).healthy,i(!0);const o=jd.auth.getSession(),l=new Promise(((e,t)=>{setTimeout((()=>{const e=new Error("Session fetch timed out (after 5 seconds)");t(e)}),5e3)})),c=await Promise.race([o,l]);if(r(c.data.session),a((null==(e=c.data.session)?void 0:e.user)??null),null==(t=c.data.session)?void 0:t.user)try{const{data:e,error:t}=await jd.from("user_profiles").select("*").eq("user_id",c.data.session.user.id).single();t&&"PGRST116"===t.code&&await m()}catch(s){}}catch(n){h({title:"Authentication error",description:"There was a problem retrieving your session. Please refresh the page.",variant:"destructive"}),r(null),a(null)}finally{i(!1)}})();const{data:{subscription:e}}=jd.auth.onAuthStateChange((async(e,t)=>{if(r(t),a((null==t?void 0:t.user)??null),"PASSWORD_RECOVERY"===e)return i(!1),void u("/reset-password");if("SIGNED_IN"!==e&&"TOKEN_REFRESHED"!==e||!(null==t?void 0:t.user))"SIGNED_OUT"===e?(r(null),a(null),i(!1)):i(!1);else{i(!0);const e=t.user.user_metadata;if(e&&!0===e.is_new_user)try{return await jd.auth.updateUser({data:{is_new_user:!1}}),i(!1),void u("/onboarding")}catch(s){}try{const e=new Promise((async e=>{var r,a;try{const{data:s,error:o}=await jd.from("user_profiles").select("*").eq("user_id",t.user.id).single();if(o&&o.code,s&&"PGRST116"!==(null==o?void 0:o.code)){if((null==(r=t.user.user_metadata)?void 0:r.avatar_url)&&!s.avatar_url)try{await jd.from("user_profiles").update({avatar_url:t.user.user_metadata.avatar_url}).eq("user_id",t.user.id)}catch(n){}else if(s.avatar_url&&!(null==(a=t.user.user_metadata)?void 0:a.avatar_url))try{await jd.auth.updateUser({data:{avatar_url:s.avatar_url}})}catch(n){}}else try{await m()}catch(i){}e()}catch(s){e()}})),r=new Promise(((e,t)=>{setTimeout((()=>{const e=new Error("Profile check timed out");t(e)}),5e3)}));await Promise.race([e,r]).catch((e=>{e.message.includes("timed out")}))}catch(s){}finally{i(!1)}}}));return()=>{e.unsubscribe()}}),[u,h]);const m=async()=>{try{if(!s)return{data:null,error:"No user is logged in"};const t=new Promise(((e,t)=>{setTimeout((()=>t(new Error("Profile creation timed out"))),4e3)})),r=new Promise((async e=>{try{const t=s.user_metadata||{},r={user_id:s.id,full_name:t.full_name||"",avatar_url:t.avatar_url||null,profile_completed:!1,created_at:(new Date).toISOString()},{data:a,error:n}=await jd.from("user_profiles").insert(r).select("*").single();if(n)return void e({data:null,error:n.message});e({data:a,error:null})}catch(t){e({data:null,error:"An unexpected error occurred"})}}));try{return await Promise.race([r,t])}catch(e){return{data:null,error:e instanceof Error?e.message:"Profile creation timed out"}}}catch(t){return{data:null,error:"An unexpected error occurred"}}};Pr.useEffect((()=>{(async()=>{if(!s||!t)return void d(0);Date.now();try{const t=Td(s.id);if(t)return void f(t);let r=null;new AbortController;const a=setTimeout((()=>{r||d(0)}),5e3);try{Date.now();const{data:e,error:t}=await jd.from("user_profiles").select("full_name, avatar_url, date_of_birth, key_fears, experience_level, challenge_intensity, learning_style, bio, location, phone_number").eq("user_id",s.id).single();clearTimeout(a);Date.now();t||(r=e,Ed(s.id,e))}catch(e){clearTimeout(a)}if(r){const e=10;let t=0;r.full_name&&t++,r.avatar_url&&t++,r.date_of_birth&&t++,r.key_fears&&r.key_fears.length>0&&t++,r.experience_level&&t++,r.challenge_intensity&&t++,r.learning_style&&t++,r.bio&&t++,r.location&&t++,r.phone_number&&t++,d(Math.round(t/e*100))}else d(0)}catch(r){d(0)}Date.now()})()}),[s]);const f=e=>{let t=0;e.full_name&&t++,e.avatar_url&&t++,e.date_of_birth&&t++,e.key_fears&&e.key_fears.length>0&&t++,e.experience_level&&t++,e.challenge_intensity&&t++,e.learning_style&&t++,e.bio&&t++,e.location&&t++,e.phone_number&&t++;const r=Math.round(t/10*100);d(r)},p={session:t,user:s,isLoading:n,signIn:async(e,t)=>{try{const{data:s,error:a}=await jd.auth.signInWithPassword({email:e,password:t});if(a)return{success:!1,error:a.message};if(null==s?void 0:s.user){try{const{data:e,error:t}=await jd.from("user_profiles").select("profile_completed").eq("user_id",s.user.id).single();t||e&&e.profile_completed}catch(r){}return{success:!0}}return{success:!1,error:"An unexpected error occurred"}}catch(s){return{success:!1,error:s.message}}},signUp:async(e,t,r)=>{try{const{data:s,error:a}=await jd.auth.signUp({email:e,password:t,options:{data:{is_new_user:!0,full_name:(null==r?void 0:r.fullName)||""},emailRedirectTo:`${window.location.origin}/auth/callback`}});return a?{success:!1,error:a.message}:{success:!0}}catch(s){return{success:!1,error:"An unexpected error occurred"}}},signOut:async()=>{try{const e=setTimeout((()=>{r(null),a(null),u("/")}),2e3);Cd.clear(),localStorage.removeItem("courage-bot-adventure.user.profile"),h({title:"Signing out...",description:"Please wait while we sign you out"});const{error:t}=await jd.auth.signOut();if(clearTimeout(e),t)return void h({title:"Error signing out",description:t.message,variant:"destructive"});r(null),a(null),d(0),h({title:"Signed out successfully",description:"You have been signed out"}),u("/")}catch(e){r(null),a(null),d(0),h({title:"Error signing out",description:"There was an error, but you have been signed out locally",variant:"destructive"}),u("/")}},resetPassword:async e=>{try{const{error:t}=await jd.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});return t?{success:!1,error:t.message}:{success:!0}}catch(t){return{success:!1,error:t.message}}},updatePassword:async e=>{try{const{error:t}=await jd.auth.updateUser({password:e});return t?{success:!1,error:t.message}:{success:!0}}catch(t){return{success:!1,error:t.message}}},updateProfile:async(e,t)=>{try{if(!s)return{success:!1,error:"No user is logged in"};const r={...e,updated_at:(new Date).toISOString(),...t?{profile_completed:!0}:{}},{error:a}=await jd.from("user_profiles").update(r).eq("user_id",s.id);if(a)return{success:!1,error:a.message};if(e.avatar_url){const{error:t}=await jd.auth.updateUser({data:{avatar_url:e.avatar_url}})}return{success:!0,error:null}}catch(r){return{success:!1,error:"An unexpected error occurred"}}},getUserProfile:async()=>{try{if(!s)return{data:null,error:"No user is logged in"};Date.now();const r=Td(s.id);if(r)return{data:r,error:null};const a=(e=>{const t=Cd.get(e);return(null==t?void 0:t.fetchPromise)?t.fetchPromise:null})(s.id);if(a)try{return await a}catch(e){}const n=new Promise((e=>{setTimeout((()=>{e({data:null,error:"Profile fetch timed out"})}),5e3)})),i=async(e=1,t=3)=>{try{Date.now();const{data:e,error:t}=await jd.from("user_profiles").select("*").eq("user_id",s.id).single();Date.now();return{data:e,error:t}}catch(r){if(e<t)return i(e+1,t);throw r}},o=new Promise((async t=>{var r;try{const{data:e,error:a}=await i();if(a){if("PGRST116"===a.code){return void t(await m())}return void t({data:null,error:a.message})}if(!e){return void t(await m())}(null==(r=s.user_metadata)?void 0:r.avatar_url)&&!e.avatar_url&&(e.avatar_url=s.user_metadata.avatar_url,jd.from("user_profiles").update({avatar_url:s.user_metadata.avatar_url}).eq("user_id",s.id).then((e=>{e.error})),Pd(s.id,o)),e&&Ed(s.id,e,3e5),t({data:e,error:null})}catch(e){t({data:null,error:"An unexpected error occurred"})}}));Pd(s.id,o);try{const e=await Promise.race([o,n]);Date.now();return e.data&&Ed(s.id,e.data),e}catch(t){Date.now();const e={data:null,error:t instanceof Error?t.message:"Unexpected profile fetch error"};Date.now();return e}}catch(e){Date.now();const t={data:null,error:"An unexpected error occurred"};Date.now();return t}},createProfileForUser:m,deleteAccount:async()=>{var e;try{if(!s)return{success:!1,error:"User not authenticated"};const{data:r}=await jd.auth.getSession();if(!(null==(e=r.session)?void 0:e.access_token))return{success:!1,error:"Authentication token not found"};try{const e=await fetch("https://bzryrvfjfzchzbmxzdyi.supabase.co/functions/v1/delete-account",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.session.access_token}`}});if(!e.ok){return{success:!1,error:(await e.json()).error||"Failed to delete account"}}return{success:!0}}catch(t){const{error:e}=await jd.from("user_profiles").delete().eq("user_id",s.id);return e?{success:!1,error:"Failed to delete profile: "+e.message}:{success:!0,warning:"Only profile data was deleted. The auth account remains but is inaccessible."}}}catch(r){const e=r instanceof Error?r.message:"Unknown error occurred";return r instanceof Error&&r.stack,{success:!1,error:e}}},profileCompletionPercentage:c,addActivityToJourney:async e=>{try{if(!s)return{success:!1,error:"User not authenticated"};const{error:t}=await jd.from("user_activities").select("id").limit(1);t&&t.message.includes("does not exist");const{data:r,error:a}=await jd.from("user_profiles").select("progress_tracking").eq("user_id",s.id).single();if(a)return{success:!1,error:"Failed to fetch user profile"};let n=r.progress_tracking||{},i=n.activities||[];if(i.some((t=>t.id===e.id)))return{success:!1,error:"Activity already added to your journey"};i.push({id:e.id,title:e.title,imageUrl:e.imageUrl||e.image,fearCategories:e.fearCategories,difficultyLevel:e.difficultyLevel,added_at:(new Date).toISOString(),status:"planned"}),n.activities=i;const{error:o}=await jd.from("user_profiles").update({progress_tracking:n}).eq("user_id",s.id);return o?{success:!1,error:"Failed to add activity to journey"}:(h({title:"Activity Added",description:`${e.title} has been added to your journey`,duration:3e3}),{success:!0})}catch(t){return{success:!1,error:t.message}}},getUserActivities:async()=>{try{if(!s)return{data:[],error:"User not authenticated"};const{data:e,error:t}=await jd.from("user_profiles").select("progress_tracking").eq("user_id",s.id).single();if(t)return{data:[],error:"Failed to fetch user profile"};const r=e.progress_tracking||{};return{data:r.activities||[],error:void 0}}catch(e){return{data:[],error:e.message}}},isAuthenticated:!!s,isAdmin:o};return te.jsx(Od.Provider,{value:p,children:e})}const Rd=()=>{const e=Pr.useContext(Od);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},Dd="/assets/Print_Transparent--ZQjpzG_.svg",Ld=()=>{const{user:e,signOut:t}=Rd(),r=Ir(),[s,a]=Pr.useState(!1),[n,i]=Pr.useState(!1),o=async()=>{try{a(!0),await t(),r("/")}catch(e){}finally{a(!1)}};return te.jsx("nav",{className:"bg-indigo-950 w-full border-b border-amber-500 py-2 shadow-md",children:te.jsxs("div",{className:"container mx-auto px-4",children:[te.jsxs("div",{className:"flex justify-between items-center py-2",children:[te.jsxs(Mr,{to:"/",className:"flex items-center",children:[te.jsx("img",{src:Dd,alt:"Be Courageous Logo",className:"h-12 w-auto mr-3"}),te.jsx("span",{className:"text-xl font-bold text-amber-400",children:"Be Courageous"})]}),te.jsx("div",{className:"md:hidden",children:te.jsx("button",{onClick:()=>{i(!n)},className:"text-white hover:text-amber-300 focus:outline-none",children:n?te.jsx(me,{size:24}):te.jsx(ve,{size:24})})}),te.jsx("div",{className:"hidden md:flex items-center gap-6",children:e?te.jsxs(te.Fragment,{children:[te.jsx(Mr,{to:"/",className:"text-white hover:text-amber-300 font-medium",children:"Home"}),te.jsx(Mr,{to:"/activities",className:"text-white hover:text-amber-300 font-medium",children:"Activities"}),te.jsx(Mr,{to:"/videos",className:"text-white hover:text-amber-300 font-medium",children:"Videos"}),te.jsx(Mr,{to:"/profile",className:"text-white hover:text-amber-300 font-medium",children:"Profile"}),te.jsx(Mr,{to:"/donate",className:"bg-growth-600 hover:bg-growth-700 text-white font-bold py-2 px-4 rounded-md shadow-sm transition-colors duration-200",children:"Donate"}),te.jsx("button",{onClick:o,disabled:s,className:"bg-amber-500 hover:bg-amber-600 text-indigo-950 font-bold py-2 px-4 rounded-md shadow-sm transition-colors duration-200",children:s?"Logging out...":"Logout"})]}):te.jsxs(te.Fragment,{children:[te.jsx(Mr,{to:"/login",className:"text-white hover:text-amber-300 font-medium",children:"Login"}),te.jsx(Mr,{to:"/register",className:"bg-amber-500 hover:bg-amber-600 text-indigo-950 font-bold py-2 px-4 rounded-md shadow-sm transition-colors duration-200",children:"Sign Up"}),te.jsx(Mr,{to:"/videos",className:"text-white hover:text-amber-300 font-medium",children:"Videos"}),te.jsx(Mr,{to:"/donate",className:"bg-growth-600 hover:bg-growth-700 text-white font-bold py-2 px-4 rounded-md shadow-sm transition-colors duration-200",children:"Donate"})]})})]}),n&&te.jsx("div",{className:"md:hidden py-4 border-t border-amber-500/30",children:te.jsx("div",{className:"flex flex-col space-y-3",children:e?te.jsxs(te.Fragment,{children:[te.jsx(Mr,{to:"/",className:"text-white hover:text-amber-300 font-medium py-2",onClick:()=>i(!1),children:"Home"}),te.jsx(Mr,{to:"/activities",className:"text-white hover:text-amber-300 font-medium py-2",onClick:()=>i(!1),children:"Activities"}),te.jsx(Mr,{to:"/videos",className:"text-white hover:text-amber-300 font-medium py-2",onClick:()=>i(!1),children:"Videos"}),te.jsx(Mr,{to:"/profile",className:"text-white hover:text-amber-300 font-medium py-2",onClick:()=>i(!1),children:"Profile"}),te.jsx(Mr,{to:"/donate",className:"text-white hover:text-amber-300 font-medium py-2",onClick:()=>i(!1),children:"Donate"}),te.jsx("button",{onClick:()=>{o(),i(!1)},disabled:s,className:"text-white hover:text-amber-300 font-medium py-2 text-left",children:s?"Logging out...":"Logout"})]}):te.jsxs(te.Fragment,{children:[te.jsx(Mr,{to:"/login",className:"text-white hover:text-amber-300 font-medium py-2",onClick:()=>i(!1),children:"Login"}),te.jsx(Mr,{to:"/register",className:"text-white hover:text-amber-300 font-medium py-2",onClick:()=>i(!1),children:"Sign Up"}),te.jsx(Mr,{to:"/videos",className:"text-white hover:text-amber-300 font-medium py-2",onClick:()=>i(!1),children:"Videos"}),te.jsx(Mr,{to:"/donate",className:"text-white hover:text-amber-300 font-medium py-2",onClick:()=>i(!1),children:"Donate"})]})})})]})})},Id=Ks("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",courage:"bg-courage-600 hover:bg-courage-700 text-white",vitality:"bg-vitality-500 hover:bg-vitality-600 text-white",growth:"bg-growth-500 hover:bg-growth-600 text-white",calmness:"bg-calmness-500 hover:bg-calmness-600 text-white",courageSoft:"bg-courage-100 text-courage-800 hover:bg-courage-200",vitalitySoft:"bg-vitality-100 text-vitality-800 hover:bg-vitality-200",growthSoft:"bg-growth-100 text-growth-800 hover:bg-growth-200",calmnessSoft:"bg-calmness-100 text-calmness-800 hover:bg-calmness-200"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",xl:"h-14 rounded-md px-10 py-3 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Md=Pr.forwardRef((({className:e,variant:t,size:r,asChild:s=!1,...a},n)=>{const i=s?ye:"button";return te.jsx(i,{className:Ba(Id({variant:t,size:r,className:e})),ref:n,...a})}));Md.displayName="Button";const zd=()=>{const e=(new Date).getFullYear();return te.jsxs("footer",{className:"bg-indigo-950 text-white",children:[te.jsx("div",{className:"container mx-auto px-4 py-12",children:te.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[te.jsxs("div",{children:[te.jsx("h3",{className:"text-xl font-bold mb-4 text-amber-400",children:"Be Courageous"}),te.jsx("p",{className:"text-gray-300 mb-4",children:"Helping people overcome their fears through guided adventure therapy and supportive community experiences."}),te.jsxs("div",{className:"flex space-x-4",children:[te.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:te.jsx(be,{className:"h-5 w-5 text-gray-400 hover:text-amber-400 transition-colors"})}),te.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:te.jsx(we,{className:"h-5 w-5 text-gray-400 hover:text-amber-400 transition-colors"})}),te.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter",children:te.jsx(je,{className:"h-5 w-5 text-gray-400 hover:text-amber-400 transition-colors"})}),te.jsx("a",{href:"https://youtube.com",target:"_blank",rel:"noopener noreferrer","aria-label":"YouTube",children:te.jsx(Ne,{className:"h-5 w-5 text-gray-400 hover:text-amber-400 transition-colors"})})]})]}),te.jsxs("div",{children:[te.jsx("h3",{className:"text-xl font-bold mb-4 text-amber-400",children:"Quick Links"}),te.jsxs("ul",{className:"space-y-2",children:[te.jsx("li",{children:te.jsx(Mr,{to:"/",className:"text-gray-300 hover:text-amber-400 transition-colors",children:"Home"})}),te.jsx("li",{children:te.jsx(Mr,{to:"/videos",className:"text-gray-300 hover:text-amber-400 transition-colors",children:"Courage Stories"})}),te.jsx("li",{children:te.jsx(Mr,{to:"/activities",className:"text-gray-300 hover:text-amber-400 transition-colors",children:"Activities"})}),te.jsx("li",{children:te.jsx(Mr,{to:"/donate",className:"text-gray-300 hover:text-amber-400 transition-colors",children:"Donate"})})]})]}),te.jsxs("div",{children:[te.jsx("h3",{className:"text-xl font-bold mb-4 text-amber-400",children:"Stay Connected"}),te.jsx("p",{className:"text-gray-300 mb-4",children:"Subscribe to our newsletter for tips, stories, and updates on our programs."}),te.jsxs("div",{className:"flex",children:[te.jsx("input",{type:"email",placeholder:"Your email",className:"px-4 py-2 w-full rounded-l-md text-gray-900 focus:outline-none"}),te.jsx(Md,{className:"rounded-l-none bg-amber-500 hover:bg-amber-600",children:te.jsx(Se,{className:"h-4 w-4"})})]}),te.jsx("div",{className:"mt-4",children:te.jsx(Mr,{to:"/donate",children:te.jsxs(Md,{className:"w-full bg-amber-500 hover:bg-amber-600 flex items-center justify-center gap-2",children:[te.jsx(ke,{className:"h-4 w-4"}),"Support Our Mission"]})})})]})]})}),te.jsx("div",{className:"border-t border-indigo-900 py-6",children:te.jsx("div",{className:"container mx-auto px-4",children:te.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[te.jsxs("div",{className:"text-gray-400 text-sm mb-4 md:mb-0",children:[" ",e," Be Courageous. All rights reserved."]}),te.jsxs("div",{className:"flex space-x-6",children:[te.jsx(Mr,{to:"/privacy-policy",className:"text-gray-400 hover:text-amber-400 text-sm transition-colors",children:"Privacy Policy"}),te.jsx(Mr,{to:"/terms-of-service",className:"text-gray-400 hover:text-amber-400 text-sm transition-colors",children:"Terms of Service"}),te.jsx(Mr,{to:"/contact",className:"text-gray-400 hover:text-amber-400 text-sm transition-colors",children:"Contact Us"})]})]})})})]})},$d=({children:e})=>te.jsx(Ad,{children:e}),Fd={mode:"system"},Ud=Pr.createContext(void 0);function Bd({children:e}){const{user:t}=Rd(),[r,s]=Pr.useState(Fd),[a,n]=Pr.useState("light");Pr.useEffect((()=>{(async()=>{if(t)try{const{data:e,error:r}=await jd.from("user_profiles").select("theme_preferences").eq("user_id",t.id).single();if(r)return;e&&e.theme_preferences&&s(e.theme_preferences)}catch(e){}})()}),[t]),Pr.useEffect((()=>{const e=window.matchMedia("(prefers-color-scheme: dark)"),t=()=>{"system"===r.mode&&n(e.matches?"dark":"light")};return t(),e.addEventListener("change",t),()=>{e.removeEventListener("change",t)}}),[r.mode]),Pr.useEffect((()=>{if("system"===r.mode){const e=window.matchMedia("(prefers-color-scheme: dark)").matches;n(e?"dark":"light")}else n(r.mode)}),[r.mode]),Pr.useEffect((()=>{"dark"===a?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}),[a]);return te.jsx(Ud.Provider,{value:{theme:r,currentMode:a,setTheme:async e=>{if(t)try{const a={...r,...e};s(a);const{error:n}=await jd.from("user_profiles").update({theme_preferences:a}).eq("user_id",t.id)}catch(a){}else s((t=>({...t,...e})))}},children:e})}const Hd=()=>{const e=Pr.useContext(Ud);if(void 0===e)throw new Error("useTheme must be used within a ThemeProvider");return e},qd={dashboardLayout:{viewMode:"grid",widgets:{activity:{visible:!0,position:0,size:"medium"},progress:{visible:!0,position:1,size:"large"},journal:{visible:!0,position:2,size:"medium"},recommended:{visible:!0,position:3,size:"medium"},personalized:{visible:!0,position:4,size:"large"},journey:{visible:!0,position:5,size:"medium"}}},experiencePreferences:{difficulty:"beginner",focus:["general"],pacing:"moderate",guidance:"balanced"},notificationPreferences:{email:!0,push:!0,frequency:"weekly"}},Wd=Pr.createContext(void 0);function Gd({children:e}){const{user:t}=Rd(),[r,s]=Pr.useState(qd);Pr.useEffect((()=>{(async()=>{if(t)try{const{data:r,error:a}=await jd.from("user_profiles").select("dashboard_layout, experience_preferences, notification_preferences").eq("user_id",t.id).single();if(a){s(qd);try{await jd.from("user_profiles").update({dashboard_layout:qd.dashboardLayout,experience_preferences:qd.experiencePreferences,notification_preferences:qd.notificationPreferences}).eq("user_id",t.id)}catch(e){}return}const n={dashboardLayout:r.dashboard_layout||qd.dashboardLayout,experiencePreferences:r.experience_preferences||qd.experiencePreferences,notificationPreferences:r.notification_preferences||qd.notificationPreferences};s(n)}catch(r){s(qd)}})()}),[t]);return te.jsx(Wd.Provider,{value:{preferences:r,dashboardLayout:r.dashboardLayout,experiencePreferences:r.experiencePreferences,notificationPreferences:r.notificationPreferences,setUserPreferences:e=>{s(e)},updateDashboardLayout:async e=>{if(t)try{const a={...r.dashboardLayout,...e};s((e=>({...e,dashboardLayout:a}))),await jd.from("user_profiles").update({dashboard_layout:a}).eq("user_id",t.id)}catch(a){}},updateExperiencePreferences:async e=>{if(t)try{const a={...r.experiencePreferences,...e};s((e=>({...e,experiencePreferences:a}))),await jd.from("user_profiles").update({experience_preferences:a}).eq("user_id",t.id)}catch(a){}},updateNotificationPreferences:async e=>{if(t)try{const a={...r.notificationPreferences,...e};s((e=>({...e,notificationPreferences:a}))),await jd.from("user_profiles").update({notification_preferences:a}).eq("user_id",t.id)}catch(a){}},resetPreferences:async()=>{if(t)try{s(qd),await jd.from("user_profiles").update({dashboard_layout:qd.dashboardLayout,experience_preferences:qd.experiencePreferences,notification_preferences:qd.notificationPreferences}).eq("user_id",t.id)}catch(e){}}},children:e})}function Vd(){const e=Pr.useContext(Wd);if(void 0===e)throw new Error("useUserPreferences must be used within a UserPreferencesProvider");return e}class Yd extends Pr.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?this.props.fallback||te.jsx("div",{className:"p-4 mx-auto max-w-lg my-8 bg-red-50 border border-red-200 rounded-lg shadow-md",children:te.jsxs("div",{className:"flex items-start",children:[te.jsx("div",{className:"flex-shrink-0",children:te.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:te.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),te.jsxs("div",{className:"ml-3",children:[te.jsx("h3",{className:"text-lg font-medium text-red-800",children:"Something went wrong"}),te.jsxs("div",{className:"mt-2 text-sm text-red-700",children:[te.jsx("p",{children:"We encountered an error while rendering this component. Please refresh the page and try again."}),!1]})]})]})}):this.props.children}}const Kd=({children:e,redirectTo:t="/onboarding"})=>{const{user:r,getUserProfile:s}=Rd(),a=Ir(),[n,i]=Pr.useState(!0),[o,l]=Pr.useState(!1);return Pr.useEffect((()=>{const e=setTimeout((()=>{n&&(i(!1),l(!0))}),5e3);return(async()=>{if(r)try{const t=s(),a=new Promise(((e,t)=>{setTimeout((()=>t(new Error("Profile completion check timed out"))),5e3)})),{data:n,error:o}=await Promise.race([t,a.then((()=>({data:null,error:"Timeout exceeded"})))]);if(o)return l(!0),void i(!1);if(!0===(null==n?void 0:n.profile_completed))return l(!0),void i(!1);if(["full_name"].every((e=>{const t=null==n?void 0:n[e];return null!=t&&("string"!=typeof t||""!==t.trim())}))){if(l(!0),!(null==n?void 0:n.profile_completed))try{jd.from("user_profiles").update({profile_completed:!0}).eq("user_id",r.id).then((({error:e})=>{}))}catch(e){}}else l(!1)}catch(t){l(!0)}finally{i(!1)}})(),()=>clearTimeout(e)}),[r,s]),Pr.useEffect((()=>{if(!n&&!o&&r){window.location.pathname!==t&&a(t)}}),[n,o,a,t,r]),n?te.jsx("div",{className:"flex items-center justify-center min-h-screen",children:te.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})}):o?te.jsx(te.Fragment,{children:e}):null},Jd=({children:e})=>{const{user:t,isLoading:r}=Rd(),s=zr(),[a,n]=Pr.useState(!1),[i,o]=Pr.useState(0),[l,c]=Pr.useState(!1);return Pr.useEffect((()=>{if(!r)return n(!1),void o(0);const e=setTimeout((()=>{n(!0),o(5)}),5e3),t=setTimeout((()=>{o(15)}),15e3),s=setTimeout((()=>{c(!0)}),3e4);return()=>{clearTimeout(e),clearTimeout(t),clearTimeout(s)}}),[r]),r?te.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center",children:[te.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-courage-600 mb-4"}),a&&te.jsxs("div",{className:"text-center mt-4",children:[te.jsx("p",{className:"text-gray-600 mb-2",children:i>=15?"Loading is taking longer than expected...":"Still loading..."}),te.jsxs(Md,{variant:"outline",size:"sm",onClick:()=>window.location.reload(),className:"flex items-center gap-2",children:[te.jsx(_e,{className:"h-4 w-4"})," Refresh Page"]})]}),l&&te.jsxs("div",{className:"text-center mt-8 max-w-md mx-auto p-4 bg-red-50 rounded-lg border border-red-200",children:[te.jsx("p",{className:"text-red-600 font-medium mb-2",children:"Authentication Error"}),te.jsx("p",{className:"text-gray-700 mb-4",children:"We're having trouble verifying your login status. This could be due to network issues or session expiration."}),te.jsxs("div",{className:"flex justify-center gap-4",children:[te.jsx(Md,{variant:"destructive",size:"sm",onClick:()=>{localStorage.clear(),window.location.href="/login"},children:"Sign Out & Login Again"}),te.jsx(Md,{variant:"outline",size:"sm",onClick:()=>window.location.reload(),children:"Try Again"})]})]})]}):t?te.jsxs(te.Fragment,{children:[te.jsx(Kd,{redirectTo:"/onboarding"}),e?te.jsx(te.Fragment,{children:e}):te.jsx(Fr,{})]}):te.jsx($r,{to:"/login",state:{from:s},replace:!0})},Xd=Ks("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Qd=Pr.forwardRef((({className:e,variant:t,...r},s)=>te.jsx("div",{ref:s,role:"alert",className:Ba(Xd({variant:t}),e),...r})));Qd.displayName="Alert";const Zd=Pr.forwardRef((({className:e,...t},r)=>te.jsx("h5",{ref:r,className:Ba("mb-1 font-medium leading-none tracking-tight",e),...t})));Zd.displayName="AlertTitle";const eu=Pr.forwardRef((({className:e,...t},r)=>te.jsx("div",{ref:r,className:Ba("text-sm [&_p]:leading-relaxed",e),...t})));eu.displayName="AlertDescription";const tu=({children:e})=>{const{user:t,isLoading:r,isAdmin:s}=Rd(),a=zr();return r?te.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center",children:[te.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-courage-600 mb-4"}),te.jsx("p",{className:"text-gray-600",children:"Verifying admin access..."})]}):t?s?e?te.jsx(te.Fragment,{children:e}):te.jsx(Fr,{}):te.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4",children:te.jsxs("div",{className:"max-w-md w-full",children:[te.jsxs(Qd,{variant:"destructive",className:"mb-4",children:[te.jsx(Ce,{className:"h-4 w-4"}),te.jsx(Zd,{children:"Access Denied"}),te.jsx(eu,{children:"You don't have permission to access this area. This section is restricted to admin users only."})]}),te.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[te.jsx(Md,{onClick:()=>window.history.back(),variant:"outline",children:"Go Back"}),te.jsx(Md,{onClick:()=>window.location.href="/dashboard",variant:"default",children:"Return to Dashboard"})]})]})}):te.jsx($r,{to:"/login",state:{from:a},replace:!0})},ru=De,su=Le,au=Ee,nu=Pr.forwardRef((({className:e,...t},r)=>te.jsx(Te,{ref:r,className:Ba("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t})));nu.displayName=Te.displayName;const iu=Pr.forwardRef((({className:e,children:t,...r},s)=>te.jsxs(au,{children:[te.jsx(nu,{}),te.jsxs(Pe,{ref:s,className:Ba("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,te.jsxs(Oe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[te.jsx(me,{className:"h-4 w-4"}),te.jsx("span",{className:"sr-only",children:"Close"})]})]})]})));iu.displayName=Pe.displayName;const ou=({className:e,...t})=>te.jsx("div",{className:Ba("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ou.displayName="DialogHeader";const lu=({className:e,...t})=>te.jsx("div",{className:Ba("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});lu.displayName="DialogFooter";const cu=Pr.forwardRef((({className:e,...t},r)=>te.jsx(Ae,{ref:r,className:Ba("text-lg font-semibold leading-none tracking-tight",e),...t})));cu.displayName=Ae.displayName;const du=Pr.forwardRef((({className:e,...t},r)=>te.jsx(Re,{ref:r,className:Ba("text-sm text-muted-foreground",e),...t})));du.displayName=Re.displayName;const uu=()=>{const[e,t]=Pr.useState(!1),r=zr();Pr.useEffect((()=>{if("/"!==r.pathname)return;const e=setTimeout((()=>{t(!0)}),1e3);return()=>clearTimeout(e)}),[r.pathname]);const s=()=>{t(!1)};return"/"!==r.pathname?null:te.jsx(ru,{open:e,onOpenChange:s,children:te.jsxs(iu,{className:"sm:max-w-[600px] bg-gray-950 border-gray-800",children:[te.jsxs(ou,{children:[te.jsx("div",{className:"flex items-center justify-between",children:te.jsx(cu,{className:"text-2xl font-bold bg-gradient-to-r from-growth-400 via-growth-500 to-growth-700 text-transparent bg-clip-text",children:"Support Our Mission"})}),te.jsx(du,{className:"text-gray-400",children:"At Be Courageous, we're dedicated to helping people overcome their fears and build lasting confidence. Your support makes this possible."}),te.jsxs("div",{className:"space-y-4 mt-4 text-gray-400",children:[te.jsxs("div",{className:"bg-gray-900 p-4 rounded-lg space-y-2",children:[te.jsx("h3",{className:"font-semibold text-growth-400",children:"Your donation helps us:"}),te.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-300",children:[te.jsx("li",{children:"Develop new tools and resources for fear management"}),te.jsx("li",{children:"Create personalized support programs"}),te.jsx("li",{children:"Make our platform accessible to more people"}),te.jsx("li",{children:"Research and implement evidence-based fear-facing techniques"})]})]}),te.jsx("div",{className:"text-sm text-gray-500",children:"Every contribution, no matter the size, helps someone take their first step towards courage."})]})]}),te.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-6",children:[te.jsx(Md,{variant:"default",className:"bg-growth-600 hover:bg-growth-700 text-white flex-1",onClick:()=>{window.location.href="/donate",s()},children:"Make a Donation"}),te.jsx(Md,{variant:"outline",className:"border-gray-700 text-gray-400 hover:text-white hover:bg-gray-800",onClick:s,children:"Maybe Later"})]})]})})},hu=Pr.forwardRef((({className:e,...t},r)=>te.jsx("div",{ref:r,className:Ba("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t})));hu.displayName="Card";const mu=Pr.forwardRef((({className:e,...t},r)=>te.jsx("div",{ref:r,className:Ba("flex flex-col space-y-1.5 p-6",e),...t})));mu.displayName="CardHeader";const fu=Pr.forwardRef((({className:e,...t},r)=>te.jsx("h3",{ref:r,className:Ba("text-2xl font-semibold leading-none tracking-tight",e),...t})));fu.displayName="CardTitle";const pu=Pr.forwardRef((({className:e,...t},r)=>te.jsx("p",{ref:r,className:Ba("text-sm text-muted-foreground",e),...t})));pu.displayName="CardDescription";const gu=Pr.forwardRef((({className:e,...t},r)=>te.jsx("div",{ref:r,className:Ba("p-6 pt-0",e),...t})));gu.displayName="CardContent";const xu=Pr.forwardRef((({className:e,...t},r)=>te.jsx("div",{ref:r,className:Ba("flex items-center p-6 pt-0",e),...t})));xu.displayName="CardFooter";const vu=Pr.forwardRef((({className:e,...t},r)=>te.jsx("textarea",{className:Ba("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t})));vu.displayName="Textarea";const yu=()=>te.jsxs("div",{className:"flex items-center space-x-1 p-2 bg-white rounded-lg border border-gray-300 shadow-sm max-w-[85%] animate-scale-in",children:[te.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),te.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),te.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),bu=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<768,wu={},ju=()=>{const[e,t]=Pr.useState(!1),[r,s]=Pr.useState([{id:"welcome",role:"assistant",content:"Hi there! I'm your Be Courageous guide. I'd like to help you understand and face your fears. What would you like to know about overcoming fears or building courage?",timestamp:new Date}]),[a,n]=Pr.useState(""),[i,o]=Pr.useState(!1),[l,c]=Pr.useState(bu()),[d,u]=Pr.useState(null),[h,m]=Pr.useState(0),[f,p]=Pr.useState(Date.now()),g=Pr.useRef(null);as();const x=()=>{t(!e)};Pr.useEffect((()=>{const e=()=>{c(bu())};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),Pr.useEffect((()=>{g.current&&(g.current.scrollTop=g.current.scrollHeight)}),[r]);const[v,y]=Pr.useState(0),[b,w]=Pr.useState(0),j=async e=>{if(e.preventDefault(),!a.trim()||i)return;const t={id:`user-${Date.now()}`,role:"user",content:a.trim(),timestamp:new Date};s((e=>[...e,t])),n(""),o(!0);try{const e=Date.now(),r=e-b;if(v>=10&&r<6e4){const e=6e4-r;await new Promise((t=>setTimeout(t,Math.min(e,3e3))));const t={id:`assistant-${Date.now()}`,role:"assistant",content:"I'm currently handling a lot of requests. Let me think about that for a moment...",timestamp:new Date};return void s((e=>[...e,t]))}const a=t.content.toLowerCase(),n=a.replace(/[^a-z0-9]/g," ").trim();if(wu[n]&&e-wu[n].timestamp<36e5){await new Promise((e=>setTimeout(e,800)));const e={id:`assistant-${Date.now()}`,role:"assistant",content:wu[n].content,timestamp:new Date};s((t=>[...t,e]))}else{await new Promise((e=>setTimeout(e,1500)));let t="";t=a.includes("height")||a.includes("afraid of heights")||a.includes("acrophobia")?"Fear of heights is very common. At Be Courageous, we offer guided climbing experiences with professional instructors who will help you gradually face your fear in a safe, controlled environment. Would you like to know more about our height-related programs?":a.includes("water")||a.includes("swimming")||a.includes("drowning")?"Many people have fears related to water. Our water confidence programs start with simple exposure therapy in shallow, controlled environments and gradually progress at your comfort level. Our instructors are trained in both swimming instruction and anxiety management.":a.includes("social")||a.includes("people")||a.includes("crowd")?"Social anxiety can be challenging. Our small group adventures create a supportive environment where you can practice social interactions while engaged in fun, distracting activities. This approach often makes social interaction feel more natural and less intimidating.":"I understand you're interested in overcoming fears. At Be Courageous, we offer guided adventure therapy experiences designed to help you face your fears in a supportive environment. Would you like to know more about our specific programs for fear of heights, water, or social situations?";const r={id:`assistant-${Date.now()}`,role:"assistant",content:t,timestamp:new Date};wu[n]={content:t,timestamp:e},y((e=>e+1)),w(e),setTimeout((()=>{y(0)}),6e4),s((e=>[...e,r]))}}catch(r){u("Sorry, I'm having trouble connecting to my knowledge base. Please try again later.")}finally{o(!1)}};return te.jsxs(te.Fragment,{children:[te.jsx(Md,{onClick:x,className:"fixed right-4 bottom-4 z-40 rounded-full w-12 h-12 p-0 shadow-lg "+(e?"bg-gray-700 hover:bg-gray-800":"bg-courage-600 hover:bg-courage-700"),"aria-label":"Toggle chat",children:e?te.jsx(me,{size:20}):te.jsx(Ie,{size:20})}),te.jsx("div",{className:"fixed right-0 sm:right-4 bottom-0 sm:bottom-20 z-40 w-full sm:max-w-sm md:max-w-md transition-all duration-300 ease-in-out chatbot-container "+(e?"chatbot-open "+(l?"h-[85vh]":"h-[90vh] sm:h-auto"):"chatbot-closed"),style:{maxHeight:l?"calc(100vh - 60px)":"auto"},children:te.jsxs(hu,{className:"border border-gray-200 shadow-xl overflow-hidden chatbot-card",children:[te.jsxs("div",{className:"bg-courage-600 text-white p-4 flex items-center justify-between",children:[te.jsxs("div",{className:"flex items-center space-x-2",children:[te.jsx(Ie,{size:20}),te.jsx("h3",{className:"font-medium",children:"Be Courageous Assistant"})]}),te.jsxs("div",{className:"flex items-center space-x-2",children:[te.jsx(Md,{variant:"ghost",size:"icon",onClick:()=>{s([{id:"welcome",role:"assistant",content:"Hi there! I'm your Be Courageous guide. I'd like to help you understand and face your fears. What would you like to know about overcoming fears or building courage?",timestamp:new Date}]),n(""),u(null)},className:"h-8 w-8 text-white hover:bg-courage-700/50",title:"Reset conversation",children:te.jsx(_e,{size:16})}),te.jsx(Md,{variant:"ghost",size:"icon",onClick:x,className:"h-8 w-8 text-white hover:bg-courage-700/50",title:"Close chat",children:te.jsx(me,{size:16})})]})]}),te.jsxs(gu,{className:"p-0",children:[d&&te.jsxs(Qd,{variant:"destructive",className:"m-2",children:[te.jsx(Ce,{className:"h-4 w-4"}),te.jsx(Zd,{children:"Error"}),te.jsxs(eu,{children:[d,te.jsxs("div",{className:"flex mt-2 space-x-2",children:[te.jsxs(Md,{variant:"outline",size:"sm",className:"h-8 text-xs",onClick:()=>{m((e=>e+1)),u(null),p(Date.now())},children:[te.jsx(_e,{size:12,className:"mr-1"}),"Retry Connection"]}),te.jsx(Md,{variant:"link",className:"p-0 h-auto text-white underline",onClick:()=>u(null),children:"Dismiss"})]})]})]}),te.jsxs("div",{className:"h-[calc(60vh-120px)] sm:h-96 overflow-y-auto p-3 sm:p-4 bg-gray-50 chatbot-messages",ref:g,style:{height:l?"calc(60vh - 100px)":"400px"},children:[r.map((e=>te.jsx("div",{className:"mb-4 flex "+("user"===e.role?"justify-end":"justify-start"),role:e.role,children:te.jsx("div",{className:"rounded-lg px-3 sm:px-4 py-2 max-w-[90%] sm:max-w-[85%] animate-scale-in "+("user"===e.role?"bg-courage-600 text-white user-message":"bg-white border border-gray-300 shadow-sm assistant-message"),style:{color:"user"===e.role?"white":"black",fontSize:l?"0.875rem":"0.9375rem"},children:te.jsx("div",{className:"whitespace-pre-wrap",children:e.content})})},`${e.id}-${f}`))),i&&te.jsx("div",{className:"flex justify-start mb-4",children:te.jsx("div",{className:"bg-white border border-gray-300 rounded-lg px-4 py-2 shadow-sm",children:te.jsx(yu,{})})})]},`message-container-${f}`)]}),te.jsx(xu,{className:"p-2 border-t",children:te.jsxs("form",{onSubmit:j,className:"flex w-full space-x-2",children:[te.jsx(vu,{value:a,onChange:e=>n(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),j(e))},placeholder:"Type your message...",className:"min-h-10 resize-none flex-1 text-sm sm:text-base",rows:l?2:1,disabled:i,style:{color:"black",backgroundColor:"white",padding:l?"8px 10px":"10px 12px"}}),te.jsx(Md,{type:"submit",size:"icon",disabled:i||!a.trim(),className:"bg-courage-600 hover:bg-courage-700 h-10 w-10",children:te.jsx(Me,{size:l?16:18})})]})})]})})]})},Nu=({size:e=24,color:t="currentColor",className:r=""})=>te.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,children:[te.jsx("path",{d:"M22 12H18L15 21L9 3L6 12H2",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),te.jsx("path",{d:"M18 6L20 8",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),te.jsx("path",{d:"M4 18L6 16",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),Su=({size:e=24,color:t="currentColor",className:r=""})=>te.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,children:[te.jsx("path",{d:"M8.5 14.5L5 18",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),te.jsx("path",{d:"M15.5 14.5L19 18",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),te.jsx("path",{d:"M12 13C14.7614 13 17 10.7614 17 8C17 5.23858 14.7614 3 12 3C9.23858 3 7 5.23858 7 8C7 10.7614 9.23858 13 12 13Z",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),te.jsx("path",{d:"M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21Z",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),te.jsx("path",{d:"M10 8H10.01",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),te.jsx("path",{d:"M14 8H14.01",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),ku=({src:e,alt:t,placeholderSrc:r="",className:s="",onLoad:a,onError:n,...i})=>{const[o,l]=Pr.useState(!1),[c,d]=Pr.useState(!1),u=Pr.useRef(null);Pr.useEffect((()=>{const e=new IntersectionObserver((t=>{const[r]=t;r.isIntersecting&&(d(!0),u.current&&e.unobserve(u.current))}),{rootMargin:"200px",threshold:.01});return u.current&&e.observe(u.current),()=>{u.current&&e.unobserve(u.current)}}),[]);return te.jsxs("div",{className:`relative overflow-hidden ${s}`,ref:u,children:[!o&&te.jsx("div",{className:"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center",children:r&&te.jsx("img",{src:r,alt:`${t} placeholder`,className:"w-full h-full object-cover"})}),c&&te.jsx("img",{src:e,alt:t,className:"w-full h-full object-cover transition-opacity duration-300 "+(o?"opacity-100":"opacity-0"),onLoad:()=>{l(!0),a&&a()},onError:()=>{n&&n()},loading:"lazy",...i})]})},_u=(e,t=[])=>{const r=Pr.useRef();Pr.useEffect((()=>("undefined"!=typeof window&&window.anime&&(r.current=e(window.anime)),()=>{"function"==typeof r.current&&r.current()})),t)},Cu=({className:e=""})=>{const t=Pr.useRef(null);return _u((e=>{if(!t.current)return;const r=t.current.getTotalLength();t.current.style.strokeDasharray=r.toString(),t.current.style.strokeDashoffset=r.toString()}),[]),te.jsxs("svg",{className:`absolute w-full h-full top-0 left-0 z-10 pointer-events-none ${e}`,viewBox:"0 0 1200 800",preserveAspectRatio:"xMidYMid meet",children:[te.jsx("path",{ref:t,className:"hero-path",d:"M200,400 C300,300 400,600 600,500 S800,300 1000,400",fill:"none",stroke:"rgba(255,255,255,0.2)",strokeWidth:"2",strokeLinecap:"round",style:{visibility:"hidden"}}),te.jsx("circle",{cx:"200",cy:"400",r:"5",fill:"rgba(255,255,255,0.5)",className:"hero-path-element"}),te.jsx("circle",{cx:"600",cy:"500",r:"5",fill:"rgba(255,255,255,0.5)",className:"hero-path-element"}),te.jsx("circle",{cx:"1000",cy:"400",r:"5",fill:"rgba(255,255,255,0.5)",className:"hero-path-element"}),te.jsx("text",{x:"180",y:"380",fill:"rgba(255,255,255,0.7)",fontSize:"12",className:"hero-path-text",children:"Start"}),te.jsx("text",{x:"580",y:"480",fill:"rgba(255,255,255,0.7)",fontSize:"12",className:"hero-path-text",children:"Growth"}),te.jsx("text",{x:"980",y:"380",fill:"rgba(255,255,255,0.7)",fontSize:"12",className:"hero-path-text",children:"Courage"})]})},Tu=({count:e=50,className:t=""})=>{const r=Pr.useRef(null),s=Pr.useRef([]),a=Pr.useRef(0),[n,i]=Pr.useState(!1),o=["rgba(255, 255, 255, 0.5)","rgba(126, 58, 242, 0.5)","rgba(255, 77, 77, 0.5)","rgba(78, 49, 170, 0.5)"];return Pr.useEffect((()=>{const t=r.current;if(!t||n)return;i(!0);const l=t.getContext("2d");if(!l)return;const c=()=>{t.width=window.innerWidth,t.height=window.innerHeight},d=()=>{s.current=[];for(let r=0;r<e;r++)s.current.push({x:Math.random()*t.width,y:Math.random()*t.height,size:3*Math.random()+1,speedX:.5*Math.random()-.25,speedY:.5*Math.random()-.25,opacity:.5*Math.random()+.1,color:o[Math.floor(Math.random()*o.length)]})},u=()=>{s.current.forEach((e=>{e.x+=e.speedX,e.y+=e.speedY,(e.x<0||e.x>t.width)&&(e.speedX*=-1),(e.y<0||e.y>t.height)&&(e.speedY*=-1),e.opacity+=.02*Math.random()-.01,e.opacity<.1&&(e.opacity=.1),e.opacity>.6&&(e.opacity=.6)})),l.clearRect(0,0,t.width,t.height),s.current.forEach((e=>{l.beginPath(),l.arc(e.x,e.y,e.size,0,2*Math.PI),l.fillStyle=e.color.replace("0.5",e.opacity.toString()),l.fill()})),a.current=requestAnimationFrame(u)};c(),d(),u(),window.addEventListener("resize",(()=>{c(),d()}));const h=e=>{const r=t.getBoundingClientRect(),a=e.clientX-r.left,n=e.clientY-r.top;s.current.forEach((e=>{const t=a-e.x,r=n-e.y;if(Math.sqrt(t*t+r*r)<100){const s=Math.atan2(r,t),a=.05;e.speedX+=Math.cos(s)*a,e.speedY+=Math.sin(s)*a;const n=2,i=Math.sqrt(e.speedX*e.speedX+e.speedY*e.speedY);i>n&&(e.speedX=e.speedX/i*n,e.speedY=e.speedY/i*n)}}))};return t.addEventListener("mousemove",h),()=>{cancelAnimationFrame(a.current),window.removeEventListener("resize",c),t.removeEventListener("mousemove",h)}}),[e,n]),te.jsx("canvas",{ref:r,className:`absolute inset-0 z-5 pointer-events-none ${t}`})},Eu=({isLoading:e,onAnimationComplete:t})=>{const r=Pr.useRef(null);_u((s=>{if(e||!r.current)return;const a=s.timeline({easing:"easeInOutQuad",complete:()=>{t&&t()}});return a.add({targets:".preloader-text .letter",opacity:[1,0],translateY:[0,-30],delay:s.stagger(50,{from:"center"}),duration:300}).add({targets:".preloader-logo",scale:[1,0],opacity:[1,0],duration:500},"-=200").add({targets:r.current,opacity:[1,0],duration:500,easing:"easeInOutQuad"},"-=300"),()=>{a.pause()}}),[e,t]);return e?te.jsxs("div",{ref:r,className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-black",children:[te.jsx("div",{className:"preloader-logo mb-8",children:te.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-courage-500 to-growth-500 flex items-center justify-center",children:te.jsx("div",{className:"w-20 h-20 rounded-full bg-black flex items-center justify-center",children:te.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-courage-500 to-growth-500 animate-pulse"})})})}),te.jsx("div",{className:"preloader-text text-white text-2xl font-bold mb-8",children:(s="Be Courageous",s.split("").map(((e,t)=>te.jsx("span",{className:"letter inline-block",children:" "===e?"":e},t))))}),te.jsx("div",{className:"preloader-spinner",children:te.jsx("div",{className:"w-12 h-12 border-t-2 border-l-2 border-white rounded-full animate-spin"})})]}):null;var s},Pu=()=>(()=>{if("undefined"==typeof window)return!1;if(void 0===window.anime)return!1;try{return"object"==typeof window.anime({targets:"body",duration:1,autoplay:!1})}catch(e){return!1}})(),Ou=["https://images.pexels.com/photos/15666484/pexels-photo-15666484/free-photo-of-man-on-rope-bridge-over-canyon.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2","https://images.pexels.com/photos/4237473/pexels-photo-4237473.jpeg?auto=compress&cs=tinysrgb&w=800","https://images.pexels.com/photos/16460415/pexels-photo-16460415/free-photo-of-aerial-view-of-silhouetted-shore-and-a-person-flying-with-a-parachute-over-the-sea-at-sunset.jpeg?auto=compress&cs=tinysrgb&w=800","https://images.pexels.com/photos/1761282/pexels-photo-1761282.jpeg?auto=compress&cs=tinysrgb&w=800","https://images.pexels.com/photos/2225771/pexels-photo-2225771.jpeg?auto=compress&cs=tinysrgb&w=800"],Au=()=>{const e=Pr.useRef(null),t=Pr.useRef(null),[r,s]=Pr.useState(!1),[a,n]=Pr.useState(0),[i,o]=Pr.useState(!0),[l,c]=Pr.useState(!1);Pr.useEffect((()=>{const e=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&(s(!0),e.unobserve(t.target))}))}),{threshold:.1});return t.current&&e.observe(t.current),()=>{t.current&&e.unobserve(t.current)}}),[]),Pr.useEffect((()=>{if(!l)return;const e=setInterval((()=>{o(!1),setTimeout((()=>{n((e=>(e+1)%Ou.length)),o(!0)}),500)}),3e3);return()=>{clearInterval(e)}}),[l]),Pr.useEffect((()=>{Pu()}),[]),_u((e=>{if(!r||!t.current)return;e({targets:".hero-text-animate",translateY:[20,0],opacity:[0,1],duration:1200,easing:"easeOutExpo",delay:e.stagger(100)}),e({targets:".hero-title",translateX:[-5,0],opacity:[0,1],duration:1e3,easing:"easeOutQuad"}),e({targets:".hero-cta-button",scale:[.95,1],opacity:[0,1],duration:800,easing:"easeOutElastic(1, .5)",delay:600});const s=e({targets:".scroll-indicator",translateY:["0px","10px"],opacity:[.5,1],duration:1200,direction:"alternate",loop:!0,easing:"easeInOutQuad"});return e({targets:".hero-path",strokeDashoffset:[e.setDashoffset,0],easing:"easeInOutSine",duration:1500,delay:300,begin:function(){const e=document.querySelector(".hero-path");e&&(e.style.visibility="visible")}}),()=>{s.pause()}}),[r,t]),Pr.useEffect((()=>{c(!0)}),[]);const d=()=>{const e=document.getElementById("activities");e&&e.scrollIntoView({behavior:"smooth"})};return te.jsxs("div",{id:"hero-section",ref:t,className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[te.jsx(Eu,{isLoading:!l,onAnimationComplete:()=>{}}),te.jsxs("div",{className:"absolute inset-0 z-0",children:[Ou.map(((e,t)=>te.jsx("div",{className:"hero-bg-slide "+(a===t&&i&&l?"active":""),style:{zIndex:a===t?1:0},children:(a===t||a===(t+1)%Ou.length)&&te.jsx(ku,{src:e,alt:"Inspirational background",className:"w-full h-full hero-bg-zoom"})},t))),te.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/95 via-courage-950/90 to-growth-900/85 backdrop-blur-[2px]"}),te.jsx("div",{className:"absolute inset-0 opacity-30 mix-blend-soft-light hero-bg-element",children:te.jsxs("svg",{className:"h-full w-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[te.jsx("defs",{children:te.jsx("pattern",{id:"hexagonPattern",width:"10",height:"17.321",patternUnits:"userSpaceOnUse",patternTransform:"scale(0.5)",children:te.jsx("polygon",{points:"5,0 10,2.5 10,7.5 5,10 0,7.5 0,2.5",fill:"rgba(255,255,255,0.05)"})})}),te.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#hexagonPattern)"})]})}),te.jsx("div",{className:"absolute top-[10%] right-[10%] w-24 h-24 rounded-full bg-growth-500/10 blur-xl hero-bg-element"}),te.jsx("div",{className:"absolute bottom-[15%] left-[15%] w-32 h-32 rounded-full bg-courage-400/10 blur-xl hero-bg-element"}),te.jsx("div",{className:"absolute top-[30%] left-[5%] w-16 h-16 rounded-full bg-courage-200/15 blur-lg hero-bg-element"})]}),te.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[te.jsx("div",{className:"absolute top-[20%] left-[10%] w-64 h-64 rounded-full bg-courage-200/10 blur-3xl animate-float hero-bg-element",style:{animationDelay:"0s"}}),te.jsx("div",{className:"absolute top-[40%] right-[15%] w-96 h-96 rounded-full bg-courage-300/10 blur-3xl animate-float hero-bg-element",style:{animationDelay:"2s"}}),te.jsx("div",{className:"absolute bottom-[20%] left-[25%] w-80 h-80 rounded-full bg-courage-100/10 blur-3xl animate-float hero-bg-element",style:{animationDelay:"4s"}})]}),te.jsx(Cu,{className:"hero-scroll-animate"}),te.jsx(Tu,{count:75}),te.jsx("div",{className:"w-full relative z-10 flex items-center justify-center min-h-[80vh] pt-16 sm:pt-0",children:te.jsxs("div",{className:"hero-content-container transition-all duration-1000 transform "+(r?"opacity-100 translate-y-0":"opacity-0 translate-y-10"),children:[te.jsx("span",{className:"hero-badge inline-block px-5 py-2 mb-10 text-sm sm:text-base font-medium rounded-full bg-growth-700/50 backdrop-blur-sm text-white animate-text-focus-in link-hover-effect hero-scroll-animate",children:te.jsx("span",{className:"hero-subtext",children:"Overcome Fears. Build Lasting Confidence."})}),te.jsx("div",{className:"hero-title-container scroll-fade-in visible mb-8","data-animation":"fade-in",children:te.jsxs("h1",{ref:e,className:"hero-title",style:{wordWrap:"break-word",overflowWrap:"break-word"},children:[te.jsx("span",{className:"hero-title-glow",children:"Courage Is One Adventure Away"}),te.jsx("span",{className:"block",children:"Courage Is One"}),te.jsx("span",{className:"block",children:"Adventure Away"})]})}),te.jsx("div",{className:"hero-text-container",children:te.jsxs("p",{className:"hero-subtext hero-text text-base sm:text-lg md:text-xl text-white/90 mb-8 sm:mb-12 animate-tracking-in-expand hero-scroll-animate",style:{animationDelay:"0.5s"},"data-animation":"fade-up",children:["Push your boundaries and discover the incredible strength that lives within you. Our guided adventure therapy experiences are designed to help you",te.jsx("span",{className:"text-growth-300 font-medium",children:" overcome your fears "}),"and emerge with",te.jsx("span",{className:"text-growth-300 font-medium",children:" lasting confidence and courage"}),"."]})}),te.jsx("div",{className:"flex justify-center mt-6 sm:mt-8 transition-all duration-1000 delay-500 transform staggered-animation visible "+(r?"opacity-100 translate-y-0":"opacity-0 translate-y-10"),children:te.jsxs(Md,{size:"lg",variant:"outline",className:"hero-cta-button text-white border-white/20 bg-white/10 hover:bg-white/20 backdrop-blur-sm flex items-center gap-3 px-6 sm:px-10 py-5 sm:py-7 text-base sm:text-lg font-medium transition-all duration-300 hover:scale-105 btn-micro-interaction shadow-lg",onClick:d,children:[te.jsx(Nu,{size:20,color:"white",className:"hidden sm:inline"}),"Discover Courage-Building Activities"]})})]})}),te.jsxs("div",{className:`absolute bottom-6 sm:bottom-10 left-1/2 transform -translate-x-1/2 transition-all duration-1000 delay-700 ${r?"opacity-100 translate-y-0":"opacity-0 translate-y-10"} scroll-indicator`,children:[te.jsxs(Md,{variant:"ghost",size:"icon",className:"text-white rounded-full h-12 w-12 sm:h-16 sm:w-16 flex items-center justify-center border-2 border-growth-400/50 bg-gradient-to-br from-growth-800/60 to-growth-900/60 backdrop-blur-sm hover:bg-white/20 transition-all duration-300 hover:scale-110 btn-micro-interaction shadow-lg",onClick:d,children:[te.jsx(ze,{size:18,className:"text-white sm:hidden"}),te.jsx(ze,{size:24,className:"text-white hidden sm:block"})]}),te.jsx("div",{className:"text-center mt-3 text-growth-100 hero-subtext text-xs sm:text-sm font-medium opacity-90 text-shadow",children:"Explore"})]})]})};var Ru="Collapsible",[Du,Lu]=Q(Ru),[Iu,Mu]=Du(Ru),zu=Pr.forwardRef(((e,t)=>{const{__scopeCollapsible:r,open:s,defaultOpen:a,disabled:n,onOpenChange:i,...o}=e,[l=!1,c]=ae({prop:s,defaultProp:a,onChange:i});return te.jsx(Iu,{scope:r,disabled:n,contentId:$e(),open:l,onOpenToggle:Pr.useCallback((()=>c((e=>!e))),[c]),children:te.jsx(se.div,{"data-state":qu(l),"data-disabled":n?"":void 0,...o,ref:t})})}));zu.displayName=Ru;var $u="CollapsibleTrigger",Fu=Pr.forwardRef(((e,t)=>{const{__scopeCollapsible:r,...s}=e,a=Mu($u,r);return te.jsx(se.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":qu(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...s,ref:t,onClick:ie(e.onClick,a.onOpenToggle)})}));Fu.displayName=$u;var Uu="CollapsibleContent",Bu=Pr.forwardRef(((e,t)=>{const{forceMount:r,...s}=e,a=Mu(Uu,e.__scopeCollapsible);return te.jsx(ne,{present:r||a.open,children:({present:e})=>te.jsx(Hu,{...s,ref:t,present:e})})}));Bu.displayName=Uu;var Hu=Pr.forwardRef(((e,t)=>{const{__scopeCollapsible:r,present:s,children:a,...n}=e,i=Mu(Uu,r),[o,l]=Pr.useState(s),c=Pr.useRef(null),d=ee(t,c),u=Pr.useRef(0),h=u.current,m=Pr.useRef(0),f=m.current,p=i.open||o,g=Pr.useRef(p),x=Pr.useRef(void 0);return Pr.useEffect((()=>{const e=requestAnimationFrame((()=>g.current=!1));return()=>cancelAnimationFrame(e)}),[]),ue((()=>{const e=c.current;if(e){x.current=x.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";const t=e.getBoundingClientRect();u.current=t.height,m.current=t.width,g.current||(e.style.transitionDuration=x.current.transitionDuration,e.style.animationName=x.current.animationName),l(s)}}),[i.open,s]),te.jsx(se.div,{"data-state":qu(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!p,...n,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":f?`${f}px`:void 0,...e.style},children:p&&a})}));function qu(e){return e?"open":"closed"}var Wu=zu,Gu=Fu,Vu=Bu,Yu="Accordion",Ku=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Ju,Xu,Qu]=Z(Yu),[Zu,eh]=Q(Yu,[Qu,Lu]),th=Lu(),rh=Ar.forwardRef(((e,t)=>{const{type:r,...s}=e,a=s,n=s;return te.jsx(Ju.Provider,{scope:e.__scopeAccordion,children:"multiple"===r?te.jsx(lh,{...n,ref:t}):te.jsx(oh,{...a,ref:t})})}));rh.displayName=Yu;var[sh,ah]=Zu(Yu),[nh,ih]=Zu(Yu,{collapsible:!1}),oh=Ar.forwardRef(((e,t)=>{const{value:r,defaultValue:s,onValueChange:a=()=>{},collapsible:n=!1,...i}=e,[o,l]=ae({prop:r,defaultProp:s,onChange:a});return te.jsx(sh,{scope:e.__scopeAccordion,value:o?[o]:[],onItemOpen:l,onItemClose:Ar.useCallback((()=>n&&l("")),[n,l]),children:te.jsx(nh,{scope:e.__scopeAccordion,collapsible:n,children:te.jsx(uh,{...i,ref:t})})})})),lh=Ar.forwardRef(((e,t)=>{const{value:r,defaultValue:s,onValueChange:a=()=>{},...n}=e,[i=[],o]=ae({prop:r,defaultProp:s,onChange:a}),l=Ar.useCallback((e=>o(((t=[])=>[...t,e]))),[o]),c=Ar.useCallback((e=>o(((t=[])=>t.filter((t=>t!==e))))),[o]);return te.jsx(sh,{scope:e.__scopeAccordion,value:i,onItemOpen:l,onItemClose:c,children:te.jsx(nh,{scope:e.__scopeAccordion,collapsible:!0,children:te.jsx(uh,{...n,ref:t})})})})),[ch,dh]=Zu(Yu),uh=Ar.forwardRef(((e,t)=>{const{__scopeAccordion:r,disabled:s,dir:a,orientation:n="vertical",...i}=e,o=Ar.useRef(null),l=ee(o,t),c=Xu(r),d="ltr"===Fe(a),u=ie(e.onKeyDown,(e=>{var t;if(!Ku.includes(e.key))return;const r=e.target,s=c().filter((e=>{var t;return!(null==(t=e.ref.current)?void 0:t.disabled)})),a=s.findIndex((e=>e.ref.current===r)),i=s.length;if(-1===a)return;e.preventDefault();let o=a;const l=i-1,u=()=>{o=a+1,o>l&&(o=0)},h=()=>{o=a-1,o<0&&(o=l)};switch(e.key){case"Home":o=0;break;case"End":o=l;break;case"ArrowRight":"horizontal"===n&&(d?u():h());break;case"ArrowDown":"vertical"===n&&u();break;case"ArrowLeft":"horizontal"===n&&(d?h():u());break;case"ArrowUp":"vertical"===n&&h()}null==(t=s[o%i].ref.current)||t.focus()}));return te.jsx(ch,{scope:r,disabled:s,direction:a,orientation:n,children:te.jsx(Ju.Slot,{scope:r,children:te.jsx(se.div,{...i,"data-orientation":n,ref:l,onKeyDown:s?void 0:u})})})})),hh="AccordionItem",[mh,fh]=Zu(hh),ph=Ar.forwardRef(((e,t)=>{const{__scopeAccordion:r,value:s,...a}=e,n=dh(hh,r),i=ah(hh,r),o=th(r),l=$e(),c=s&&i.value.includes(s)||!1,d=n.disabled||e.disabled;return te.jsx(mh,{scope:r,open:c,disabled:d,triggerId:l,children:te.jsx(Wu,{"data-orientation":n.orientation,"data-state":jh(c),...o,...a,ref:t,disabled:d,open:c,onOpenChange:e=>{e?i.onItemOpen(s):i.onItemClose(s)}})})}));ph.displayName=hh;var gh="AccordionHeader",xh=Ar.forwardRef(((e,t)=>{const{__scopeAccordion:r,...s}=e,a=dh(Yu,r),n=fh(gh,r);return te.jsx(se.h3,{"data-orientation":a.orientation,"data-state":jh(n.open),"data-disabled":n.disabled?"":void 0,...s,ref:t})}));xh.displayName=gh;var vh="AccordionTrigger",yh=Ar.forwardRef(((e,t)=>{const{__scopeAccordion:r,...s}=e,a=dh(Yu,r),n=fh(vh,r),i=ih(vh,r),o=th(r);return te.jsx(Ju.ItemSlot,{scope:r,children:te.jsx(Gu,{"aria-disabled":n.open&&!i.collapsible||void 0,"data-orientation":a.orientation,id:n.triggerId,...o,...s,ref:t})})}));yh.displayName=vh;var bh="AccordionContent",wh=Ar.forwardRef(((e,t)=>{const{__scopeAccordion:r,...s}=e,a=dh(Yu,r),n=fh(bh,r),i=th(r);return te.jsx(Vu,{role:"region","aria-labelledby":n.triggerId,"data-orientation":a.orientation,...i,...s,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})}));function jh(e){return e?"open":"closed"}wh.displayName=bh;var Nh=ph,Sh=xh,kh=yh,_h=wh;const Ch=rh,Th=Pr.forwardRef((({className:e,...t},r)=>te.jsx(Nh,{ref:r,className:Ba("border-b",e),...t})));Th.displayName="AccordionItem";const Eh=Pr.forwardRef((({className:e,children:t,...r},s)=>te.jsx(Sh,{className:"flex",children:te.jsxs(kh,{ref:s,className:Ba("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,te.jsx(Ue,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})));Eh.displayName=kh.displayName;const Ph=Pr.forwardRef((({className:e,children:t,...r},s)=>te.jsx(_h,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:te.jsx("div",{className:Ba("pb-4 pt-0",e),children:t})})));Ph.displayName=_h.displayName;const Oh={boulder:{id:"boulder",name:"Boulder Canyon",city:"Boulder",state:"Colorado",country:"USA",coordinates:{latitude:40.015,longitude:-105.2705}},moab:{id:"moab",name:"Moab Desert",city:"Moab",state:"Utah",country:"USA",coordinates:{latitude:38.5733,longitude:-109.5498}},yosemite:{id:"yosemite",name:"Yosemite National Park",city:"Yosemite Valley",state:"California",country:"USA",coordinates:{latitude:37.8651,longitude:-119.5383}},new_zealand:{id:"new_zealand",name:"Queenstown",country:"New Zealand",coordinates:{latitude:-45.0312,longitude:168.6626}},interlaken:{id:"interlaken",name:"Interlaken",country:"Switzerland",coordinates:{latitude:46.6863,longitude:7.8632}},san_francisco:{id:"san_francisco",name:"San Francisco",state:"California",country:"USA",coordinates:{latitude:37.7749,longitude:-122.4194}},grand_canyon:{id:"grand_canyon",name:"Grand Canyon",state:"Arizona",country:"USA",coordinates:{latitude:36.0544,longitude:-112.2583}},costa_rica:{id:"costa_rica",name:"Monteverde",country:"Costa Rica",coordinates:{latitude:10.301,longitude:-84.8097}},vancouver:{id:"vancouver",name:"Whistler",state:"British Columbia",country:"Canada",coordinates:{latitude:50.1163,longitude:-122.9574}},seattle:{id:"seattle",name:"Seattle",state:"Washington",country:"USA",coordinates:{latitude:47.6062,longitude:-122.3321}},hawaii:{id:"hawaii",name:"Kona",state:"Hawaii",country:"USA",coordinates:{latitude:19.64,longitude:-155.9969}},south_africa:{id:"south_africa",name:"Gansbaai",country:"South Africa",coordinates:{latitude:-34.5805,longitude:19.3518}},tonga:{id:"tonga",name:"Vava'u",country:"Tonga",coordinates:{latitude:-18.6216,longitude:-173.9777}},great_barrier_reef:{id:"great_barrier_reef",name:"Great Barrier Reef",state:"Queensland",country:"Australia",coordinates:{latitude:-18.2871,longitude:147.6992}}},Ah=[{id:"snorkeling_tour",title:"Guided Reef Snorkeling Tour",description:"Explore vibrant coral reefs with expert guides in calm, clear ocean waters.",imageUrl:"https://images.unsplash.com/photo-1560275619-4cc5fa59d3ae?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1600&q=80",fearCategories:["water"],difficultyLevel:"moderate",safety:"Life vests required, boat support, and professional marine guides.",costRange:"medium",location:"Coral reef",locations:[Oh.hawaii,Oh.great_barrier_reef],timeCommitment:"half_day",indoorOutdoor:"outdoor",minGroupSize:2,maxGroupSize:10,minimumAge:10,physicalDemand:"moderate",weatherDependent:!0,seasonalAvailability:["spring","summer","fall"],progression:"whitewater_kayaking"},{id:"whitewater_kayaking",title:"Whitewater Kayaking",description:"Navigate challenging rapids and turbulent river currents in a thrilling kayaking adventure.",imageUrl:"/images/kayak.jpg",fearCategories:["water"],difficultyLevel:"moderate",safety:"Professional guides, safety kayakers, helmets, life jackets, and comprehensive training.",costRange:"medium",location:"River rapids",locations:[Oh.boulder,Oh.vancouver],timeCommitment:"half_day",indoorOutdoor:"outdoor",minGroupSize:2,maxGroupSize:8,minimumAge:14,physicalDemand:"high",weatherDependent:!0,seasonalAvailability:["spring","summer"],progression:"swim_with_sharks"},{id:"swim_with_sharks",title:"Swimming with Sharks Experience",description:"Encounter sharks in their natural habitat with the safety of a protective cage and expert marine biologists.",imageUrl:"/images/sharks.jpg",alternateImageUrl:"https://images.unsplash.com/photo-1560275619-1cffec0a3360?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1600&q=80",fearCategories:["water"],difficultyLevel:"challenging",safety:"Protective cage, professional shark experts, boat support, and comprehensive safety briefing.",costRange:"high",location:"Open ocean",locations:[Oh.hawaii,Oh.south_africa],timeCommitment:"full_day",indoorOutdoor:"outdoor",minGroupSize:2,maxGroupSize:8,minimumAge:16,physicalDemand:"high",weatherDependent:!0,seasonalAvailability:["summer","fall"],progression:"swim_with_whales"},{id:"swim_with_whales",title:"Swimming with Whales Expedition",description:"Swim alongside gentle giants of the ocean in a life-changing encounter with humpback or minke whales.",imageUrl:"/images/whale.png",alternateImageUrl:"https://images.unsplash.com/photo-1561715276-a2d087060f1d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1600&q=80",fearCategories:["water"],difficultyLevel:"difficult",safety:"Marine biologist guides, support vessel, safety divers, and strict wildlife interaction protocols.",costRange:"premium",location:"Deep ocean migration routes",locations:[Oh.hawaii,Oh.tonga],timeCommitment:"multi_day",indoorOutdoor:"outdoor",minGroupSize:4,maxGroupSize:8,minimumAge:18,physicalDemand:"high",weatherDependent:!0,seasonalAvailability:["summer"],progression:""}],Rh=e=>{switch(e){case"heights":default:return te.jsx("div",{className:"flex items-center justify-center w-4 h-4 bg-growth-800 rounded-full",children:te.jsx(Be,{size:12,className:"text-growth-300"})});case"water":return te.jsx("div",{className:"flex items-center justify-center w-4 h-4 bg-cyan-900 rounded-full",children:te.jsx(He,{size:12,className:"text-cyan-300"})})}},Dh=[{id:"skydiving",title:"Sky Diving",description:"Free fall from 14,000 feet and experience the ultimate adrenaline rush.",imageUrl:"https://images.unsplash.com/photo-1521673252667-e05da380b252?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80",safety:"All jumps are tandem with certified instructors who have 1000+ jumps. Equipment undergoes rigorous safety checks.",fearCategories:["heights"]},{id:"hanggliding",title:"Hang Gliding",description:"Soar like a bird and experience the freedom of unpowered flight.",imageUrl:"https://images.pexels.com/photos/9532461/pexels-photo-9532461.jpeg?auto=compress&cs=tinysrgb&w=800",safety:"Tandem flights with experienced pilots. Modern gliders with redundant safety systems and full certification.",fearCategories:["heights"]},{id:"rockclimbing",title:"Rock Climbing",description:"Scale natural rock formations and push your mental and physical limits.",imageUrl:"https://images.pexels.com/photos/303040/pexels-photo-303040.jpeg?auto=compress&cs=tinysrgb&w=800",safety:"Routes established by certified guides. All equipment meets UIAA safety standards with regular inspections.",fearCategories:["heights"]},{id:"basejumping",title:"Tandem Base Jumping",description:"Experience the thrill of jumping from fixed objects with a parachute.",imageUrl:"https://images.pexels.com/photos/11049262/pexels-photo-11049262.jpeg?auto=compress&cs=tinysrgb&w=800",safety:"Tandem jumps with world-class base jumpers having 500+ jumps. Modern equipment with redundant systems.",fearCategories:["heights"]},{id:"kayaking",title:"White Water Kayaking",description:"Navigate through challenging rapids and feel the power of rushing water.",imageUrl:"https://images.pexels.com/photos/2348108/pexels-photo-2348108.jpeg?auto=compress&cs=tinysrgb&w=800",safety:"Professional guides with swift water rescue training. Quality equipment and comprehensive safety briefings.",fearCategories:["water"]},{id:"wingwalking",title:"Wing Walking",description:"Stand on the wings of a flying biplane for an unforgettable experience.",imageUrl:"https://images.pexels.com/photos/30871452/pexels-photo-30871452/free-photo-of-airplane-wing-view-at-sunset.jpeg?auto=compress&cs=tinysrgb&w=800",safety:"Secured to the aircraft with professional harness systems. Planes maintained to strict aviation standards.",fearCategories:["heights"]},{id:"bungeejumping",title:"Bungee Jumping",description:"Take a leap of faith from great heights with nothing but a bungee cord.",imageUrl:"https://images.pexels.com/photos/26811613/pexels-photo-26811613/free-photo-of-man-jumping-bungee.jpeg?auto=compress&cs=tinysrgb&w=800",safety:"Equipment tested to withstand 10 times your weight. Comprehensive medical checks and professional supervision.",fearCategories:["heights"]},{id:"ziplines",title:"Zip Lines",description:"Glide through the air on cables stretched between points of different heights.",imageUrl:"https://images.pexels.com/photos/6422046/pexels-photo-6422046.jpeg?auto=compress&cs=tinysrgb&w=800",safety:"Lines tested daily. Redundant braking systems and professional guides to ensure safe takeoffs and landings.",fearCategories:["heights"]},{id:"ropeswings",title:"Rope Swings",description:"Swing from towering heights over canyons, valleys, or waterbodies.",imageUrl:"https://images.pexels.com/photos/10889628/pexels-photo-10889628.jpeg?auto=compress&cs=tinysrgb&w=800",safety:"Multiple attachment points and redundancy in all systems. Supervised by experienced adventure specialists.",fearCategories:["heights"]},{id:"whaleswimming",title:"Swimming with Whales",description:"Get close to these gentle giants in their natural oceanic habitat.",imageUrl:"https://images.pexels.com/photos/27026630/pexels-photo-27026630/free-photo-of-close-encounter-diving-with-a-whale-shark-in-the-deep-blue.jpeg?auto=compress&cs=tinysrgb&w=800",safety:"Small guided groups with marine biologists. Protocols to minimize impact on whales and ensure participant safety.",fearCategories:["water"]},{id:"deepdiving",title:"Deep Water Diving",description:"Explore the mysterious depths of the ocean and encounter fascinating marine life.",imageUrl:"https://images.unsplash.com/photo-1544551763-92ab472cad5d?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80",safety:"PADI certified instructors. Top-quality diving equipment with regular maintenance and safety checks.",fearCategories:["water"]},...Ah].filter((e=>"sharkswimming"!==e.id)),Lh=()=>{const e=Pr.useRef(null),t=Pr.useRef(null),{toast:r}=as(),s=Dh.reduce(((e,t)=>((t.fearCategories||[t.category]).forEach((r=>{e[r]||(e[r]=[]),e[r].push(t)})),e)),{});const a=Object.keys(s);return Pr.useEffect((()=>{localStorage.getItem("hasShownDonationMessage")||(r({title:"Support Our Mission",description:te.jsxs("div",{className:"mt-2",children:[te.jsx("p",{className:"mb-3",children:"Help us continue providing resources and support for people facing their fears."}),te.jsx(Md,{variant:"default",className:"bg-growth-600 hover:bg-growth-700 text-white",onClick:()=>window.open("https://www.zeffy.com/your-donation-page","_blank"),children:"Make a Donation"})]}),duration:1e4}),localStorage.setItem("hasShownDonationMessage","true"))}),[r]),te.jsxs("section",{id:"activities",className:"py-8 bg-gradient-to-b from-gray-950 via-black to-gray-950 relative",ref:e,children:[te.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-5 z-0",children:te.jsxs("svg",{className:"w-full h-full",xmlns:"http://www.w3.org/2000/svg",children:[te.jsx("defs",{children:te.jsx("pattern",{id:"grid-pattern",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:te.jsx("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:"rgba(139, 92, 246, 0.3)",strokeWidth:"0.5"})})}),te.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid-pattern)"})]})}),te.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[te.jsxs("div",{className:"text-center mb-6 sm:mb-8 scroll-fade-in",ref:t,children:[te.jsxs("div",{className:"inline-block mb-2",children:[te.jsx("span",{className:"bg-gradient-to-r from-growth-600 to-growth-800 h-1 w-20 block mx-auto"}),te.jsx("span",{className:"text-xs sm:text-sm font-medium text-growth-400 uppercase tracking-wider",children:"Overcoming Fear Through Action"})]}),te.jsxs("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold mb-3 sm:mb-4 bg-gradient-to-r from-growth-400 via-growth-500 to-growth-700 text-transparent bg-clip-text px-2 sm:px-0",children:[te.jsx(Su,{size:24,className:"inline-block mr-2 mb-1"}),"Courage-Building Adventure Activities"]}),te.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto px-4 sm:px-0 text-sm sm:text-base",children:"Discover transformative activities designed to help you overcome fears and build lasting confidence through guided adventure therapy and supportive experiences."})]}),te.jsx("div",{className:"max-w-3xl mx-auto px-4 sm:px-6",children:te.jsx(Ch,{type:"single",collapsible:!0,className:"w-full",children:a.map((e=>te.jsxs(Th,{value:e,className:"border border-gray-800 rounded-lg mb-3 overflow-hidden",children:[te.jsx(Eh,{className:"bg-gray-900 hover:bg-gray-800 px-4 py-2.5 text-left",children:te.jsxs("div",{className:"flex items-center gap-2",children:[Rh(e),te.jsxs("span",{className:"capitalize font-medium text-growth-300",children:["Overcome ",e," Fears (",s[e].length," Activities)"]})]})}),te.jsx(Ph,{className:"bg-black/20 p-0",children:te.jsx("div",{className:"divide-y divide-gray-800/50",children:s[e].map((e=>te.jsxs("div",{className:"p-3 hover:bg-gray-900/50 transition-colors flex items-center gap-3",children:[te.jsx("div",{className:"h-12 w-12 flex-shrink-0 rounded-md overflow-hidden",children:te.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover"})}),te.jsxs("div",{className:"flex-1 min-w-0",children:[te.jsx("h4",{className:"font-medium text-white text-sm",children:e.title}),te.jsx("p",{className:"text-xs text-gray-400 truncate",children:e.description})]})]},e.id)))})})]},e)))})}),te.jsx("div",{className:"mt-6 text-center",children:te.jsx("p",{className:"text-gray-400 text-sm max-w-2xl mx-auto",children:"Our mission is to help you understand your fears, not to book adventures. We provide education, support, and empowerment to help you face your fears on your own terms."})})]})]})},Ih={julie:{name:"Julie",type:"vimeo",videoId:"1072428960",embedSrc:"https://player.vimeo.com/video/1072428960?h=756979b04e&badge=0&autopause=0&player_id=0&app_id=58479",category:"Personal Story",description:"Julie's personal journey of courage and growth."},laura:{name:"Laura",type:"cloudinary",videoSrc:"https://res.cloudinary.com/dwt0yikij/video/upload/v1743743304/laura_ubzloo.mp4",cloudinaryId:"laura_ubzloo",cloudName:"dwt0yikij",category:"Overcoming Fear",description:"Laura's personal journey of courage and growth."},michael:{name:"Michael",type:"cloudinary",videoSrc:"https://res.cloudinary.com/dwt0yikij/video/upload/v1743743357/michael_sgd9xa.mp4",cloudinaryId:"michael_sgd9xa",cloudName:"dwt0yikij",category:"Growth Journey",description:"Michael's personal journey of courage and growth."},nicolas:{name:"Nicolas",type:"cloudinary",videoSrc:"https://res.cloudinary.com/dwt0yikij/video/upload/v1743743386/nicolas_jfgxo2.mp4",cloudinaryId:"nicolas_jfgxo2",cloudName:"dwt0yikij",category:"Transformation",description:"Nicolas's personal journey of courage and growth."},compilation:{name:"Compilation",type:"vimeo",videoId:"1072428847",embedSrc:"https://player.vimeo.com/video/1072428847?h=fb07f16cf1&badge=0&autopause=0&player_id=0&app_id=58479",category:"Featured",description:"A compilation of courage stories."}},Mh=()=>{const[e,t]=Pr.useState(!1),[r,s]=Pr.useState(!1),a=()=>{s(!0)};return te.jsx("section",{id:"videos",className:"py-12 sm:py-20 bg-white",children:te.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[te.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-6 sm:mb-16 px-2 sm:px-4",children:[te.jsx("span",{className:"inline-block px-3 py-1 text-xs sm:text-sm font-medium rounded-full bg-courage-100 text-courage-800 mb-3 sm:mb-4",children:"Our Journey"}),te.jsx("h2",{className:"text-xl sm:text-2xl md:text-4xl font-bold text-gray-900 mb-3 sm:mb-4",children:"Watch Our Courage-Building Adventures"}),te.jsx("p",{className:"text-sm sm:text-base md:text-lg text-gray-600 mb-6 sm:mb-8",children:"See how we face our fears and grow through challenges. Our real experiences show the power of courage in action."})]}),te.jsxs("div",{className:"max-w-4xl mx-auto",children:[te.jsx(hu,{className:"overflow-hidden shadow-lg",children:te.jsx(gu,{className:"p-0",children:te.jsx("div",{className:"relative aspect-video bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:r?te.jsx("iframe",{src:Ih.compilation.embedSrc,className:"w-full h-full",title:"Facing Our Fears Together - Compilation",frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0}):te.jsxs(te.Fragment,{children:[te.jsx("img",{src:Dd,alt:"Be Courageous Logo Placeholder",className:"object-contain h-3/4 w-3/4 opacity-50 cursor-pointer",style:{backgroundColor:"transparent"},onClick:a}),te.jsx(Md,{variant:"ghost",size:"icon",className:"absolute inset-0 flex items-center justify-center w-20 h-20 m-auto bg-black/50 text-white rounded-full hover:bg-black/70 transition-all",onClick:a,"aria-label":"Play Video",children:te.jsx(qe,{size:48,className:"fill-current"})})]})})})}),te.jsxs("div",{className:"mt-4 sm:mt-6 text-center px-2 sm:px-0",children:[te.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Facing Our Fears Together: A Journey of Courage"}),te.jsx("p",{className:"mt-2 text-sm sm:text-base text-gray-600",children:"This video shows our team members challenging themselves and supporting each other through various courage-building activities. Every step outside our comfort zone is a victory worth celebrating."}),te.jsxs("div",{className:"mt-3 sm:mt-4 flex items-center justify-center text-xs sm:text-sm text-gray-500",children:[te.jsx("span",{className:"mr-2",children:"Filmed on location"}),te.jsx("span",{children:""}),te.jsx("span",{className:"ml-2",children:"March 2025"})]})]})]}),te.jsxs("div",{className:"mt-16 max-w-3xl mx-auto text-center",children:[te.jsx("blockquote",{className:"italic text-lg text-gray-600 mb-4",children:'"The experience changed how I view challenges. Now, I see fear as an opportunity for growth rather than something to avoid."'}),te.jsx("div",{className:"font-medium",children:"- Alex, Team Member"})]})]})})},zh=({title:e="Be Courageous - Overcome Fears & Build Lasting Confidence",description:t="Be Courageous helps you face your fears through guided adventure therapy. Transform anxiety into confidence with our supportive programs.",keywords:r="overcome fears, courage building, adventure therapy, confidence, personal growth",ogType:s="website",ogImage:a="/og-image.png",ogUrl:n,twitterCard:i="summary_large_image",canonicalUrl:o})=>{const l="undefined"!=typeof window?window.location.href:"",c=n||l,d=o||l;return te.jsxs(io,{children:[te.jsx("title",{children:e}),te.jsx("meta",{name:"description",content:t}),te.jsx("meta",{name:"keywords",content:r}),te.jsx("meta",{property:"og:type",content:s}),te.jsx("meta",{property:"og:url",content:c}),te.jsx("meta",{property:"og:title",content:e}),te.jsx("meta",{property:"og:description",content:t}),te.jsx("meta",{property:"og:image",content:a}),te.jsx("meta",{property:"twitter:card",content:i}),te.jsx("meta",{property:"twitter:url",content:c}),te.jsx("meta",{property:"twitter:title",content:e}),te.jsx("meta",{property:"twitter:description",content:t}),te.jsx("meta",{property:"twitter:image",content:a}),te.jsx("link",{rel:"canonical",href:d})]})},$h=()=>(Pr.useEffect((()=>{window.scrollTo(0,0)}),[]),te.jsxs("div",{className:"min-h-screen bg-white",children:[te.jsx(zh,{title:"Be Courageous - Overcome Fears & Build Lasting Confidence",description:"Be Courageous helps you face your fears through guided adventure therapy. Transform anxiety into confidence with our supportive programs.",keywords:"overcome fears, courage building, adventure therapy, confidence, personal growth, fear of heights, fear of water",canonicalUrl:"https://becourageousnonprofit.org/"}),te.jsx(Au,{}),te.jsx(Lh,{}),te.jsx(Mh,{}),te.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:te.jsx(ju,{})})]})),Fh=Pr.forwardRef((({className:e,type:t,...r},s)=>te.jsx("input",{type:t,className:Ba("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm text-gray-900 dark:text-white",e),ref:s,...r})));Fh.displayName="Input";var Uh=Pr.forwardRef(((e,t)=>te.jsx(se.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null==(r=e.onMouseDown)||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}})));Uh.displayName="Label";var Bh=Uh;const Hh=Ks("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),qh=Pr.forwardRef((({className:e,...t},r)=>te.jsx(Bh,{ref:r,className:Ba(Hh(),e),...t})));qh.displayName=Bh.displayName;const Wh=()=>{const[e,t]=Pr.useState(""),[r,s]=Pr.useState(""),[a,n]=Pr.useState(!1),{toast:i}=as(),o=Ir();return te.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:te.jsxs("div",{className:"w-full max-w-md p-4",children:[te.jsx("div",{className:"text-center mb-8",children:te.jsx(Mr,{to:"/",className:"inline-block",children:te.jsx("h1",{className:"text-3xl font-bold text-courage-800",children:"Be Courageous"})})}),te.jsxs(hu,{children:[te.jsxs(mu,{children:[te.jsx(fu,{className:"text-2xl",children:"Login"}),te.jsx(pu,{children:"Sign in to your account"})]}),te.jsxs("form",{onSubmit:async t=>{var s;if(t.preventDefault(),e&&r){n(!0);try{const{data:t,error:l}=await jd.auth.signInWithPassword({email:e,password:r});if(l)return i({title:"Login failed",description:l.message||"Invalid email or password.",variant:"destructive"}),void n(!1);if(t.user)try{const{data:e,error:r}=await jd.from("user_profiles").select("*").eq("user_id",t.user.id).single();if(r&&"PGRST116"===r.code){const e={user_id:t.user.id,full_name:(null==(s=t.user.user_metadata)?void 0:s.full_name)||"",created_at:(new Date).toISOString(),profile_completed:!1},{error:r}=await jd.from("user_profiles").insert(e)}}catch(a){}i({title:"Login successful",description:"Welcome back!"}),o("/dashboard")}catch(l){i({title:"Login error",description:l.message||"An unexpected error occurred.",variant:"destructive"}),n(!1)}finally{n(!1)}}else i({title:"Missing fields",description:"Please enter your email and password.",variant:"destructive"})},children:[te.jsxs(gu,{className:"space-y-4",children:[te.jsxs("div",{className:"space-y-2",children:[te.jsx(qh,{htmlFor:"email",children:"Email"}),te.jsx(Fh,{id:"email",type:"email",placeholder:"your@email.com",value:e,onChange:e=>t(e.target.value),disabled:a,required:!0})]}),te.jsxs("div",{className:"space-y-2",children:[te.jsxs("div",{className:"flex items-center justify-between",children:[te.jsx(qh,{htmlFor:"password",children:"Password"}),te.jsx(Mr,{to:"/forgot-password",className:"text-xs text-courage-600 hover:text-courage-800",children:"Forgot password?"})]}),te.jsx(Fh,{id:"password",type:"password",placeholder:"",value:r,onChange:e=>s(e.target.value),disabled:a,required:!0})]})]}),te.jsxs(xu,{className:"flex flex-col",children:[te.jsx(Md,{type:"submit",className:"w-full bg-courage-600 hover:bg-courage-700",disabled:a,children:a?te.jsxs(te.Fragment,{children:[te.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"}),te.jsxs("p",{className:"mt-4 text-center text-sm text-gray-600",children:["Don't have an account?"," ",te.jsx(Mr,{to:"/register",className:"font-medium text-courage-600 hover:text-courage-800",children:"Sign up"})]})]})]})]})]})})};async function Gh(e){var t;try{const{data:r}=await jd.auth.getSession();if(!(null==(t=r.session)?void 0:t.access_token))return{success:!1,error:"Authentication token not found"};const s=await fetch("https://bzryrvfjfzchzbmxzdyi.supabase.co/functions/v1/airtable",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.session.access_token}`},body:JSON.stringify({action:"sync_user",userId:e})}),a=await s.json();return s.ok?{success:!0,data:a}:{success:!1,error:a.message||"Failed to sync user data to Airtable"}}catch(r){return{success:!1,error:r.message||"An unexpected error occurred during Airtable sync"}}}const Vh=()=>{const[e,t]=Pr.useState(""),[r,s]=Pr.useState(""),[a,n]=Pr.useState(""),[i,o]=Pr.useState(""),[l,c]=Pr.useState(""),[d,u]=Pr.useState(!1),[h,m]=Pr.useState(!1),[f,p]=Pr.useState(""),{toast:g}=as(),x=Ir();return h?te.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:te.jsxs("div",{className:"w-full max-w-md p-4",children:[te.jsx("div",{className:"text-center mb-8",children:te.jsx(Mr,{to:"/",className:"inline-block",children:te.jsx("h1",{className:"text-3xl font-bold text-courage-800",children:"Be Courageous"})})}),te.jsxs(hu,{children:[te.jsxs(mu,{children:[te.jsx(fu,{className:"text-2xl",children:"Registration Complete"}),te.jsx(pu,{children:"Your account has been created successfully"})]}),te.jsxs(gu,{className:"space-y-4 text-center",children:[te.jsx("div",{className:"flex justify-center my-6",children:te.jsx("div",{className:"bg-courage-100 p-4 rounded-full",children:te.jsx(Se,{className:"h-12 w-12 text-courage-600"})})}),te.jsx("p",{children:"You've successfully created an account with:"}),te.jsx("p",{className:"font-medium text-lg",children:f})]}),te.jsx(xu,{className:"flex flex-col gap-4",children:te.jsxs(Md,{onClick:()=>x("/login"),className:"w-full bg-courage-600 hover:bg-courage-700",children:["Go to Login",te.jsx(Ge,{className:"ml-2 h-4 w-4"})]})})]})]})}):te.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:te.jsxs("div",{className:"w-full max-w-md p-4",children:[te.jsx("div",{className:"text-center mb-8",children:te.jsx(Mr,{to:"/",className:"inline-block",children:te.jsx("h1",{className:"text-3xl font-bold text-courage-800",children:"Be Courageous"})})}),te.jsxs(hu,{children:[te.jsxs(mu,{children:[te.jsx(fu,{className:"text-2xl",children:"Create an Account"}),te.jsx(pu,{children:"Join Be Courageous to track your progress and overcome your fears"})]}),te.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),!(e&&r&&i&&l))return void g({title:"Missing fields",description:"Please fill in all fields.",variant:"destructive"});if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r))if(i===l)if(i.length<8)g({title:"Password too short",description:"Password must be at least 8 characters long.",variant:"destructive"});else{u(!0);try{try{const{data:t,error:o}=await jd.auth.signUp({email:r,password:i,options:{data:{full_name:e,phone:a||null,is_new_user:!0},emailRedirectTo:`${window.location.origin}/auth/callback`}});if(o)return g({title:"Registration failed",description:o.message||"An error occurred during registration",variant:"destructive"}),void u(!1);if(!t||!t.user)return g({title:"Registration failed",description:"No user data returned from registration",variant:"destructive"}),void u(!1);try{await Gh(t.user.id)}catch(s){}try{const{error:r}=await jd.from("user_profiles").insert({user_id:t.user.id,full_name:e,profile_completed:!1,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),notification_preferences:{},dashboard_layout:{},experience_preferences:{},theme_preferences:{}})}catch(n){}}catch(o){return g({title:"Registration failed",description:o instanceof Error?o.message:"An unexpected error occurred",variant:"destructive"}),void u(!1)}g({title:"Registration successful",description:"Your account has been created successfully!"}),p(r),m(!0)}catch(c){g({title:"Registration error",description:c.message||"An unexpected error occurred.",variant:"destructive"})}finally{u(!1)}}else g({title:"Password mismatch",description:"Passwords do not match.",variant:"destructive"});else g({title:"Invalid email",description:"Please enter a valid email address.",variant:"destructive"})},children:[te.jsxs(gu,{className:"space-y-4",children:[te.jsxs("div",{className:"space-y-2",children:[te.jsx(qh,{htmlFor:"fullName",children:"Full Name"}),te.jsx(Fh,{id:"fullName",placeholder:"John Doe",value:e,onChange:e=>t(e.target.value),disabled:d,required:!0})]}),te.jsxs("div",{className:"space-y-2",children:[te.jsx(qh,{htmlFor:"email",children:"Email"}),te.jsx(Fh,{id:"email",type:"email",placeholder:"your@email.com",value:r,onChange:e=>s(e.target.value),disabled:d,required:!0})]}),te.jsxs("div",{className:"space-y-2",children:[te.jsx(qh,{htmlFor:"phone",children:"Phone Number (optional)"}),te.jsx(Fh,{id:"phone",type:"tel",placeholder:"(123) 456-7890",value:a,onChange:e=>n(e.target.value),disabled:d})]}),te.jsxs("div",{className:"space-y-2",children:[te.jsx(qh,{htmlFor:"password",children:"Password"}),te.jsx(Fh,{id:"password",type:"password",placeholder:"",value:i,onChange:e=>o(e.target.value),disabled:d,required:!0}),te.jsx("p",{className:"text-xs text-gray-500",children:"Must be at least 8 characters long"})]}),te.jsxs("div",{className:"space-y-2",children:[te.jsx(qh,{htmlFor:"confirmPassword",children:"Confirm Password"}),te.jsx(Fh,{id:"confirmPassword",type:"password",placeholder:"",value:l,onChange:e=>c(e.target.value),disabled:d,required:!0})]})]}),te.jsxs(xu,{className:"flex flex-col",children:[te.jsx(Md,{type:"submit",className:"w-full bg-courage-600 hover:bg-courage-700",disabled:d,children:d?te.jsxs(te.Fragment,{children:[te.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Sign Up"}),te.jsxs("p",{className:"mt-4 text-center text-sm text-gray-600",children:["Already have an account?"," ",te.jsx(Mr,{to:"/login",className:"font-medium text-courage-600 hover:text-courage-800",children:"Log in"})]})]})]})]})]})})},Yh=()=>{const[e,t]=Pr.useState(""),[r,s]=Pr.useState(!1),[a,n]=Pr.useState(!1),{resetPassword:i}=Rd(),{toast:o}=as();return te.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:te.jsxs("div",{className:"w-full max-w-md p-4",children:[te.jsx("div",{className:"text-center mb-8",children:te.jsx(Mr,{to:"/",className:"inline-block",children:te.jsx("h1",{className:"text-3xl font-bold text-courage-800",children:"Be Courageous"})})}),te.jsxs(hu,{children:[te.jsxs(mu,{children:[te.jsx(fu,{className:"text-2xl",children:"Reset Password"}),te.jsx(pu,{children:"Enter your email to receive a password reset link"})]}),te.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),e){s(!0);try{const{success:t,error:r}=await i(e);t?(n(!0),o({title:"Reset email sent",description:"Check your email for the password reset link."})):o({title:"Error",description:r||"An error occurred. Please try again.",variant:"destructive"})}catch(r){o({title:"Error",description:r.message||"An unexpected error occurred.",variant:"destructive"})}finally{s(!1)}}else o({title:"Email required",description:"Please enter your email address.",variant:"destructive"})},children:[te.jsx(gu,{className:"space-y-4",children:a?te.jsxs("div",{className:"bg-green-50 p-4 rounded-md text-center",children:[te.jsx("div",{className:"flex items-center justify-center mb-2",children:te.jsx("div",{className:"rounded-full bg-green-100 p-2",children:te.jsx(Ve,{className:"h-6 w-6 text-green-600"})})}),te.jsx("h3",{className:"text-lg font-medium text-green-800",children:"Email Sent"}),te.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["We've sent a password reset link to ",e]}),te.jsx("p",{className:"text-xs text-green-600 mt-4",children:"Don't see it? Check your spam folder or try again."})]}):te.jsxs("div",{className:"space-y-2",children:[te.jsx(qh,{htmlFor:"email",children:"Email"}),te.jsx(Fh,{id:"email",type:"email",placeholder:"your@email.com",value:e,onChange:e=>t(e.target.value),disabled:r,required:!0})]})}),te.jsxs(xu,{className:"flex flex-col",children:[a?te.jsxs("div",{className:"w-full space-y-2",children:[te.jsx(Mr,{to:"/login",children:te.jsx(Md,{className:"w-full bg-courage-600 hover:bg-courage-700",type:"button",children:"Return to Login"})}),te.jsx(Md,{variant:"outline",className:"w-full",type:"button",onClick:()=>{n(!1),t("")},children:"Try a different email"})]}):te.jsx(Md,{type:"submit",className:"w-full bg-courage-600 hover:bg-courage-700",disabled:r,children:r?te.jsxs(te.Fragment,{children:[te.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Reset Link"}),!a&&te.jsx("div",{className:"mt-4 text-center text-sm",children:te.jsx(Mr,{to:"/login",className:"text-courage-600 hover:text-courage-800",children:"Back to login"})})]})]})]})]})})},Kh=()=>{const[e,t]=Pr.useState(""),[r,s]=Pr.useState(""),[a,n]=Pr.useState(!1),{updatePassword:i}=Rd(),{toast:o}=as(),l=Ir();return te.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:te.jsxs("div",{className:"w-full max-w-md p-4",children:[te.jsx("div",{className:"text-center mb-8",children:te.jsx(Mr,{to:"/",className:"inline-block",children:te.jsx("h1",{className:"text-3xl font-bold text-courage-800",children:"Be Courageous"})})}),te.jsxs(hu,{children:[te.jsxs(mu,{children:[te.jsx(fu,{className:"text-2xl",children:"Set New Password"}),te.jsx(pu,{children:"Create a new password for your account"})]}),te.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),e&&r)if(e===r)if(e.length<8)o({title:"Password too short",description:"Password must be at least 8 characters long.",variant:"destructive"});else{n(!0);try{const{success:t,error:r}=await i(e);t?(o({title:"Password updated",description:"Your password has been successfully reset."}),l("/login")):o({title:"Update failed",description:r||"An error occurred while updating your password.",variant:"destructive"})}catch(s){o({title:"Update error",description:s.message||"An unexpected error occurred.",variant:"destructive"})}finally{n(!1)}}else o({title:"Password mismatch",description:"Passwords do not match.",variant:"destructive"});else o({title:"Missing fields",description:"Please fill in all fields.",variant:"destructive"})},children:[te.jsxs(gu,{className:"space-y-4",children:[te.jsxs("div",{className:"space-y-2",children:[te.jsx(qh,{htmlFor:"password",children:"New Password"}),te.jsx(Fh,{id:"password",type:"password",placeholder:"",value:e,onChange:e=>t(e.target.value),disabled:a,required:!0}),te.jsx("p",{className:"text-xs text-gray-500",children:"Must be at least 8 characters long"})]}),te.jsxs("div",{className:"space-y-2",children:[te.jsx(qh,{htmlFor:"confirmPassword",children:"Confirm New Password"}),te.jsx(Fh,{id:"confirmPassword",type:"password",placeholder:"",value:r,onChange:e=>s(e.target.value),disabled:a,required:!0})]})]}),te.jsxs(xu,{className:"flex flex-col",children:[te.jsx(Md,{type:"submit",className:"w-full bg-courage-600 hover:bg-courage-700",disabled:a,children:a?te.jsxs(te.Fragment,{children:[te.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating password..."]}):"Reset Password"}),te.jsx("div",{className:"mt-4 text-center text-sm",children:te.jsx(Mr,{to:"/login",className:"text-courage-600 hover:text-courage-800",children:"Back to login"})})]})]})]})]})})},Jh=()=>{const e=Ir(),{toast:t}=as();return te.jsxs("div",{className:"min-h-screen bg-gray-50",children:[te.jsx(Kd,{redirectTo:"/onboarding",children:te.jsx(te.Fragment,{})}),te.jsxs("div",{className:"container mx-auto px-4 py-6",children:[te.jsxs("div",{className:"flex justify-between items-center mb-6",children:[te.jsx("div",{children:te.jsx("p",{className:"text-gray-500",children:"Your personal dashboard"})}),te.jsx(Md,{variant:"outline",onClick:async()=>{try{await jd.auth.signOut(),t({title:"Logged out successfully",description:"Redirecting to home page..."}),setTimeout((()=>e("/")),1500)}catch(r){t({title:"Error signing out",description:"Please try again",variant:"destructive"})}},children:"Logout"})]}),te.jsx("div",{className:"bg-white p-8 rounded-lg shadow-sm",children:te.jsx("div",{className:"text-center py-12",children:te.jsx("p",{className:"text-gray-500 max-w-md mx-auto",children:"The dashboard content has been removed as requested."})})})]})]})};function Xh({className:e,...t}){return te.jsx("div",{className:Ba("animate-pulse rounded-md bg-muted",e),...t})}const Qh=it,Zh=ot,em=lt;Pr.forwardRef((({className:e,inset:t,children:r,...s},a)=>te.jsxs(Ye,{ref:a,className:Ba("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[r,te.jsx(Ke,{className:"ml-auto h-4 w-4"})]}))).displayName=Ye.displayName;Pr.forwardRef((({className:e,...t},r)=>te.jsx(Je,{ref:r,className:Ba("z-[9999] min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}))).displayName=Je.displayName;const tm=Pr.forwardRef((({className:e,sideOffset:t=4,...r},s)=>te.jsx(Xe,{children:te.jsx(Qe,{ref:s,sideOffset:t,className:Ba("z-[9999] min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})})));tm.displayName=Qe.displayName;const rm=Pr.forwardRef((({className:e,inset:t,...r},s)=>te.jsx(Ze,{ref:s,className:Ba("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r})));rm.displayName=Ze.displayName;Pr.forwardRef((({className:e,children:t,checked:r,...s},a)=>te.jsxs(et,{ref:a,className:Ba("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...s,children:[te.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:te.jsx(tt,{children:te.jsx(Ve,{className:"h-4 w-4"})})}),t]}))).displayName=et.displayName;const sm=Pr.forwardRef((({className:e,children:t,...r},s)=>te.jsxs(rt,{ref:s,className:Ba("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[te.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:te.jsx(tt,{children:te.jsx(st,{className:"h-2 w-2 fill-current"})})}),t]})));sm.displayName=rt.displayName;const am=Pr.forwardRef((({className:e,inset:t,...r},s)=>te.jsx(at,{ref:s,className:Ba("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r})));am.displayName=at.displayName;const nm=Pr.forwardRef((({className:e,...t},r)=>te.jsx(nt,{ref:r,className:Ba("-mx-1 my-1 h-px bg-muted",e),...t})));nm.displayName=nt.displayName;const im=()=>{const{theme:e,setTheme:t}=Hd();return te.jsxs(Qh,{children:[te.jsx(Zh,{asChild:!0,children:te.jsxs(Md,{variant:"outline",size:"icon",className:"h-8 w-8 relative z-10 hover:bg-accent",onClick:e=>{e.stopPropagation(),e.preventDefault()},children:[te.jsx(ct,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),te.jsx(dt,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),te.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),te.jsxs(tm,{align:"end",className:"z-[9999] mt-1",children:[te.jsx(am,{children:"Appearance"}),te.jsx(nm,{}),te.jsxs(em,{value:e.mode,onValueChange:e=>{t({mode:e})},children:[te.jsxs(sm,{value:"light",className:"cursor-pointer",children:[te.jsx(ct,{className:"mr-2 h-4 w-4"}),te.jsx("span",{children:"Light"}),"light"===e.mode&&te.jsx(ut,{className:"ml-auto h-4 w-4"})]}),te.jsxs(sm,{value:"dark",className:"cursor-pointer",children:[te.jsx(dt,{className:"mr-2 h-4 w-4"}),te.jsx("span",{children:"Dark"}),"dark"===e.mode&&te.jsx(ut,{className:"ml-auto h-4 w-4"})]}),te.jsxs(sm,{value:"system",className:"cursor-pointer",children:[te.jsx(ht,{className:"mr-2 h-4 w-4"}),te.jsx("span",{children:"System"}),"system"===e.mode&&te.jsx(ut,{className:"ml-auto h-4 w-4"})]})]})]})]})},om=De,lm=Le,cm=Ee,dm=Pr.forwardRef((({className:e,...t},r)=>te.jsx(Te,{className:Ba("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r})));dm.displayName=Te.displayName;const um=Ks("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),hm=Pr.forwardRef((({side:e="right",className:t,children:r,...s},a)=>te.jsxs(cm,{children:[te.jsx(dm,{}),te.jsxs(Pe,{ref:a,className:Ba(um({side:e}),t),...s,children:[r,te.jsxs(Oe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[te.jsx(me,{className:"h-4 w-4"}),te.jsx("span",{className:"sr-only",children:"Close"})]})]})]})));hm.displayName=Pe.displayName;const mm=({className:e,...t})=>te.jsx("div",{className:Ba("flex flex-col space-y-2 text-center sm:text-left",e),...t});mm.displayName="SheetHeader";const fm=({className:e,...t})=>te.jsx("div",{className:Ba("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});fm.displayName="SheetFooter";const pm=Pr.forwardRef((({className:e,...t},r)=>te.jsx(Ae,{ref:r,className:Ba("text-lg font-semibold text-foreground",e),...t})));pm.displayName=Ae.displayName;const gm=Pr.forwardRef((({className:e,...t},r)=>te.jsx(Re,{ref:r,className:Ba("text-sm text-muted-foreground",e),...t})));function xm(e,[t,r]){return Math.min(r,Math.max(t,e))}function vm(e){const t=Pr.useRef({value:e,previous:e});return Pr.useMemo((()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous)),[e])}gm.displayName=Re.displayName;var ym=[" ","Enter","ArrowUp","ArrowDown"],bm=[" ","Enter"],wm="Select",[jm,Nm,Sm]=Z(wm),[km,_m]=Q(wm,[Sm,mt]),Cm=mt(),[Tm,Em]=km(wm),[Pm,Om]=km(wm),Am=e=>{const{__scopeSelect:t,children:r,open:s,defaultOpen:a,onOpenChange:n,value:i,defaultValue:o,onValueChange:l,dir:c,name:d,autoComplete:u,disabled:h,required:m,form:f}=e,p=Cm(t),[g,x]=Pr.useState(null),[v,y]=Pr.useState(null),[b,w]=Pr.useState(!1),j=Fe(c),[N=!1,S]=ae({prop:s,defaultProp:a,onChange:n}),[k,_]=ae({prop:i,defaultProp:o,onChange:l}),C=Pr.useRef(null),T=!g||(f||!!g.closest("form")),[E,P]=Pr.useState(new Set),O=Array.from(E).map((e=>e.props.value)).join(";");return te.jsx(wt,{...p,children:te.jsxs(Tm,{required:m,scope:t,trigger:g,onTriggerChange:x,valueNode:v,onValueNodeChange:y,valueNodeHasChildren:b,onValueNodeHasChildrenChange:w,contentId:$e(),value:k,onValueChange:_,open:N,onOpenChange:S,dir:j,triggerPointerDownPosRef:C,disabled:h,children:[te.jsx(jm.Provider,{scope:t,children:te.jsx(Pm,{scope:e.__scopeSelect,onNativeOptionAdd:Pr.useCallback((e=>{P((t=>new Set(t).add(e)))}),[]),onNativeOptionRemove:Pr.useCallback((e=>{P((t=>{const r=new Set(t);return r.delete(e),r}))}),[]),children:r})}),T?te.jsxs(yf,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:u,value:k,onChange:e=>_(e.target.value),disabled:h,form:f,children:[void 0===k?te.jsx("option",{value:""}):null,Array.from(E)]},O):null]})})};Am.displayName=wm;var Rm="SelectTrigger",Dm=Pr.forwardRef(((e,t)=>{const{__scopeSelect:r,disabled:s=!1,...a}=e,n=Cm(r),i=Em(Rm,r),o=i.disabled||s,l=ee(t,i.onTriggerChange),c=Nm(r),d=Pr.useRef("touch"),[u,h,m]=bf((e=>{const t=c().filter((e=>!e.disabled)),r=t.find((e=>e.value===i.value)),s=wf(t,e,r);void 0!==s&&i.onValueChange(s.value)})),f=e=>{o||(i.onOpenChange(!0),m()),e&&(i.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return te.jsx(ft,{asChild:!0,...n,children:te.jsx(se.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":vf(i.value)?"":void 0,...a,ref:l,onClick:ie(a.onClick,(e=>{e.currentTarget.focus(),"mouse"!==d.current&&f(e)})),onPointerDown:ie(a.onPointerDown,(e=>{d.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(f(e),e.preventDefault())})),onKeyDown:ie(a.onKeyDown,(e=>{const t=""!==u.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||h(e.key),t&&" "===e.key||ym.includes(e.key)&&(f(),e.preventDefault())}))})})}));Dm.displayName=Rm;var Lm="SelectValue",Im=Pr.forwardRef(((e,t)=>{const{__scopeSelect:r,className:s,style:a,children:n,placeholder:i="",...o}=e,l=Em(Lm,r),{onValueNodeHasChildrenChange:c}=l,d=void 0!==n,u=ee(t,l.onValueNodeChange);return ue((()=>{c(d)}),[c,d]),te.jsx(se.span,{...o,ref:u,style:{pointerEvents:"none"},children:vf(l.value)?te.jsx(te.Fragment,{children:i}):n})}));Im.displayName=Lm;var Mm=Pr.forwardRef(((e,t)=>{const{__scopeSelect:r,children:s,...a}=e;return te.jsx(se.span,{"aria-hidden":!0,...a,ref:t,children:s||""})}));Mm.displayName="SelectIcon";var zm=e=>te.jsx(de,{asChild:!0,...e});zm.displayName="SelectPortal";var $m="SelectContent",Fm=Pr.forwardRef(((e,t)=>{const r=Em($m,e.__scopeSelect),[s,a]=Pr.useState();if(ue((()=>{a(new DocumentFragment)}),[]),!r.open){const t=s;return t?Or.createPortal(te.jsx(Bm,{scope:e.__scopeSelect,children:te.jsx(jm.Slot,{scope:e.__scopeSelect,children:te.jsx("div",{children:e.children})})}),t):null}return te.jsx(qm,{...e,ref:t})}));Fm.displayName=$m;var Um=10,[Bm,Hm]=km($m),qm=Pr.forwardRef(((e,t)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:n,onPointerDownOutside:i,side:o,sideOffset:l,align:c,alignOffset:d,arrowPadding:u,collisionBoundary:h,collisionPadding:m,sticky:f,hideWhenDetached:p,avoidCollisions:g,...x}=e,v=Em($m,r),[y,b]=Pr.useState(null),[w,j]=Pr.useState(null),N=ee(t,(e=>b(e))),[S,k]=Pr.useState(null),[_,C]=Pr.useState(null),T=Nm(r),[E,P]=Pr.useState(!1),O=Pr.useRef(!1);Pr.useEffect((()=>{if(y)return pt(y)}),[y]),gt();const A=Pr.useCallback((e=>{const[t,...r]=T().map((e=>e.ref.current)),[s]=r.slice(-1),a=document.activeElement;for(const n of e){if(n===a)return;if(null==n||n.scrollIntoView({block:"nearest"}),n===t&&w&&(w.scrollTop=0),n===s&&w&&(w.scrollTop=w.scrollHeight),null==n||n.focus(),document.activeElement!==a)return}}),[T,w]),R=Pr.useCallback((()=>A([S,y])),[A,S,y]);Pr.useEffect((()=>{E&&R()}),[E,R]);const{onOpenChange:D,triggerPointerDownPosRef:L}=v;Pr.useEffect((()=>{if(y){let e={x:0,y:0};const t=t=>{var r,s;e={x:Math.abs(Math.round(t.pageX)-((null==(r=L.current)?void 0:r.x)??0)),y:Math.abs(Math.round(t.pageY)-((null==(s=L.current)?void 0:s.y)??0))}},r=r=>{e.x<=10&&e.y<=10?r.preventDefault():y.contains(r.target)||D(!1),document.removeEventListener("pointermove",t),L.current=null};return null!==L.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r,{capture:!0})}}}),[y,D,L]),Pr.useEffect((()=>{const e=()=>D(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}}),[D]);const[I,M]=bf((e=>{const t=T().filter((e=>!e.disabled)),r=t.find((e=>e.ref.current===document.activeElement)),s=wf(t,e,r);s&&setTimeout((()=>s.ref.current.focus()))})),z=Pr.useCallback(((e,t,r)=>{const s=!O.current&&!r;(void 0!==v.value&&v.value===t||s)&&(k(e),s&&(O.current=!0))}),[v.value]),$=Pr.useCallback((()=>null==y?void 0:y.focus()),[y]),F=Pr.useCallback(((e,t,r)=>{const s=!O.current&&!r;(void 0!==v.value&&v.value===t||s)&&C(e)}),[v.value]),U="popper"===s?Gm:Wm,B=U===Gm?{side:o,sideOffset:l,align:c,alignOffset:d,arrowPadding:u,collisionBoundary:h,collisionPadding:m,sticky:f,hideWhenDetached:p,avoidCollisions:g}:{};return te.jsx(Bm,{scope:r,content:y,viewport:w,onViewportChange:j,itemRefCallback:z,selectedItem:S,onItemLeave:$,itemTextRefCallback:F,focusSelectedItem:R,selectedItemText:_,position:s,isPositioned:E,searchRef:I,children:te.jsx(xt,{as:ye,allowPinchZoom:!0,children:te.jsx(vt,{asChild:!0,trapped:v.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:ie(a,(e=>{var t;null==(t=v.trigger)||t.focus({preventScroll:!0}),e.preventDefault()})),children:te.jsx(yt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:te.jsx(U,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:e=>e.preventDefault(),...x,...B,onPlaced:()=>P(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ie(x.onKeyDown,(e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||M(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=T().filter((e=>!e.disabled)).map((e=>e.ref.current));if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const r=e.target,s=t.indexOf(r);t=t.slice(s+1)}setTimeout((()=>A(t))),e.preventDefault()}}))})})})})})}));qm.displayName="SelectContentImpl";var Wm=Pr.forwardRef(((e,t)=>{const{__scopeSelect:r,onPlaced:s,...a}=e,n=Em($m,r),i=Hm($m,r),[o,l]=Pr.useState(null),[c,d]=Pr.useState(null),u=ee(t,(e=>d(e))),h=Nm(r),m=Pr.useRef(!1),f=Pr.useRef(!0),{viewport:p,selectedItem:g,selectedItemText:x,focusSelectedItem:v}=i,y=Pr.useCallback((()=>{if(n.trigger&&n.valueNode&&o&&c&&p&&g&&x){const e=n.trigger.getBoundingClientRect(),t=c.getBoundingClientRect(),r=n.valueNode.getBoundingClientRect(),a=x.getBoundingClientRect();if("rtl"!==n.dir){const s=a.left-t.left,n=r.left-s,i=e.left-n,l=e.width+i,c=Math.max(l,t.width),d=window.innerWidth-Um,u=xm(n,[Um,Math.max(Um,d-c)]);o.style.minWidth=l+"px",o.style.left=u+"px"}else{const s=t.right-a.right,n=window.innerWidth-r.right-s,i=window.innerWidth-e.right-n,l=e.width+i,c=Math.max(l,t.width),d=window.innerWidth-Um,u=xm(n,[Um,Math.max(Um,d-c)]);o.style.minWidth=l+"px",o.style.right=u+"px"}const i=h(),l=window.innerHeight-2*Um,d=p.scrollHeight,u=window.getComputedStyle(c),f=parseInt(u.borderTopWidth,10),v=parseInt(u.paddingTop,10),y=parseInt(u.borderBottomWidth,10),b=f+v+d+parseInt(u.paddingBottom,10)+y,w=Math.min(5*g.offsetHeight,b),j=window.getComputedStyle(p),N=parseInt(j.paddingTop,10),S=parseInt(j.paddingBottom,10),k=e.top+e.height/2-Um,_=l-k,C=g.offsetHeight/2,T=f+v+(g.offsetTop+C),E=b-T;if(T<=k){const e=i.length>0&&g===i[i.length-1].ref.current;o.style.bottom="0px";const t=c.clientHeight-p.offsetTop-p.offsetHeight,r=T+Math.max(_,C+(e?S:0)+t+y);o.style.height=r+"px"}else{const e=i.length>0&&g===i[0].ref.current;o.style.top="0px";const t=Math.max(k,f+p.offsetTop+(e?N:0)+C)+E;o.style.height=t+"px",p.scrollTop=T-k+p.offsetTop}o.style.margin=`${Um}px 0`,o.style.minHeight=w+"px",o.style.maxHeight=l+"px",null==s||s(),requestAnimationFrame((()=>m.current=!0))}}),[h,n.trigger,n.valueNode,o,c,p,g,x,n.dir,s]);ue((()=>y()),[y]);const[b,w]=Pr.useState();ue((()=>{c&&w(window.getComputedStyle(c).zIndex)}),[c]);const j=Pr.useCallback((e=>{e&&!0===f.current&&(y(),null==v||v(),f.current=!1)}),[y,v]);return te.jsx(Vm,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:m,onScrollButtonChange:j,children:te.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:te.jsx(se.div,{...a,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})}));Wm.displayName="SelectItemAlignedPosition";var Gm=Pr.forwardRef(((e,t)=>{const{__scopeSelect:r,align:s="start",collisionPadding:a=Um,...n}=e,i=Cm(r);return te.jsx(bt,{...i,...n,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...n.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})}));Gm.displayName="SelectPopperPosition";var[Vm,Ym]=km($m,{}),Km="SelectViewport",Jm=Pr.forwardRef(((e,t)=>{const{__scopeSelect:r,nonce:s,...a}=e,n=Hm(Km,r),i=Ym(Km,r),o=ee(t,n.onViewportChange),l=Pr.useRef(0);return te.jsxs(te.Fragment,{children:[te.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),te.jsx(jm.Slot,{scope:r,children:te.jsx(se.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ie(a.onScroll,(e=>{const t=e.currentTarget,{contentWrapper:r,shouldExpandOnScrollRef:s}=i;if((null==s?void 0:s.current)&&r){const e=Math.abs(l.current-t.scrollTop);if(e>0){const s=window.innerHeight-2*Um,a=parseFloat(r.style.minHeight),n=parseFloat(r.style.height),i=Math.max(a,n);if(i<s){const a=i+e,n=Math.min(s,a),o=a-n;r.style.height=n+"px","0px"===r.style.bottom&&(t.scrollTop=o>0?o:0,r.style.justifyContent="flex-end")}}}l.current=t.scrollTop}))})})]})}));Jm.displayName=Km;var Xm="SelectGroup",[Qm,Zm]=km(Xm);Pr.forwardRef(((e,t)=>{const{__scopeSelect:r,...s}=e,a=$e();return te.jsx(Qm,{scope:r,id:a,children:te.jsx(se.div,{role:"group","aria-labelledby":a,...s,ref:t})})})).displayName=Xm;var ef="SelectLabel",tf=Pr.forwardRef(((e,t)=>{const{__scopeSelect:r,...s}=e,a=Zm(ef,r);return te.jsx(se.div,{id:a.id,...s,ref:t})}));tf.displayName=ef;var rf="SelectItem",[sf,af]=km(rf),nf=Pr.forwardRef(((e,t)=>{const{__scopeSelect:r,value:s,disabled:a=!1,textValue:n,...i}=e,o=Em(rf,r),l=Hm(rf,r),c=o.value===s,[d,u]=Pr.useState(n??""),[h,m]=Pr.useState(!1),f=ee(t,(e=>{var t;return null==(t=l.itemRefCallback)?void 0:t.call(l,e,s,a)})),p=$e(),g=Pr.useRef("touch"),x=()=>{a||(o.onValueChange(s),o.onOpenChange(!1))};if(""===s)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return te.jsx(sf,{scope:r,value:s,disabled:a,textId:p,isSelected:c,onItemTextChange:Pr.useCallback((e=>{u((t=>t||((null==e?void 0:e.textContent)??"").trim()))}),[]),children:te.jsx(jm.ItemSlot,{scope:r,value:s,disabled:a,textValue:d,children:te.jsx(se.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:f,onFocus:ie(i.onFocus,(()=>m(!0))),onBlur:ie(i.onBlur,(()=>m(!1))),onClick:ie(i.onClick,(()=>{"mouse"!==g.current&&x()})),onPointerUp:ie(i.onPointerUp,(()=>{"mouse"===g.current&&x()})),onPointerDown:ie(i.onPointerDown,(e=>{g.current=e.pointerType})),onPointerMove:ie(i.onPointerMove,(e=>{var t;g.current=e.pointerType,a?null==(t=l.onItemLeave)||t.call(l):"mouse"===g.current&&e.currentTarget.focus({preventScroll:!0})})),onPointerLeave:ie(i.onPointerLeave,(e=>{var t;e.currentTarget===document.activeElement&&(null==(t=l.onItemLeave)||t.call(l))})),onKeyDown:ie(i.onKeyDown,(e=>{var t;""!==(null==(t=l.searchRef)?void 0:t.current)&&" "===e.key||(bm.includes(e.key)&&x()," "===e.key&&e.preventDefault())}))})})})}));nf.displayName=rf;var of="SelectItemText",lf=Pr.forwardRef(((e,t)=>{const{__scopeSelect:r,className:s,style:a,...n}=e,i=Em(of,r),o=Hm(of,r),l=af(of,r),c=Om(of,r),[d,u]=Pr.useState(null),h=ee(t,(e=>u(e)),l.onItemTextChange,(e=>{var t;return null==(t=o.itemTextRefCallback)?void 0:t.call(o,e,l.value,l.disabled)})),m=null==d?void 0:d.textContent,f=Pr.useMemo((()=>te.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value)),[l.disabled,l.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:g}=c;return ue((()=>(p(f),()=>g(f))),[p,g,f]),te.jsxs(te.Fragment,{children:[te.jsx(se.span,{id:l.textId,...n,ref:h}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Or.createPortal(n.children,i.valueNode):null]})}));lf.displayName=of;var cf="SelectItemIndicator",df=Pr.forwardRef(((e,t)=>{const{__scopeSelect:r,...s}=e;return af(cf,r).isSelected?te.jsx(se.span,{"aria-hidden":!0,...s,ref:t}):null}));df.displayName=cf;var uf="SelectScrollUpButton",hf=Pr.forwardRef(((e,t)=>{const r=Hm(uf,e.__scopeSelect),s=Ym(uf,e.__scopeSelect),[a,n]=Pr.useState(!1),i=ee(t,s.onScrollButtonChange);return ue((()=>{if(r.viewport&&r.isPositioned){let e=function(){const e=t.scrollTop>0;n(e)};const t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}}),[r.viewport,r.isPositioned]),a?te.jsx(pf,{...e,ref:i,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null}));hf.displayName=uf;var mf="SelectScrollDownButton",ff=Pr.forwardRef(((e,t)=>{const r=Hm(mf,e.__scopeSelect),s=Ym(mf,e.__scopeSelect),[a,n]=Pr.useState(!1),i=ee(t,s.onScrollButtonChange);return ue((()=>{if(r.viewport&&r.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,r=Math.ceil(t.scrollTop)<e;n(r)};const t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}}),[r.viewport,r.isPositioned]),a?te.jsx(pf,{...e,ref:i,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null}));ff.displayName=mf;var pf=Pr.forwardRef(((e,t)=>{const{__scopeSelect:r,onAutoScroll:s,...a}=e,n=Hm("SelectScrollButton",r),i=Pr.useRef(null),o=Nm(r),l=Pr.useCallback((()=>{null!==i.current&&(window.clearInterval(i.current),i.current=null)}),[]);return Pr.useEffect((()=>()=>l()),[l]),ue((()=>{var e;const t=o().find((e=>e.ref.current===document.activeElement));null==(e=null==t?void 0:t.ref.current)||e.scrollIntoView({block:"nearest"})}),[o]),te.jsx(se.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:ie(a.onPointerDown,(()=>{null===i.current&&(i.current=window.setInterval(s,50))})),onPointerMove:ie(a.onPointerMove,(()=>{var e;null==(e=n.onItemLeave)||e.call(n),null===i.current&&(i.current=window.setInterval(s,50))})),onPointerLeave:ie(a.onPointerLeave,(()=>{l()}))})})),gf=Pr.forwardRef(((e,t)=>{const{__scopeSelect:r,...s}=e;return te.jsx(se.div,{"aria-hidden":!0,...s,ref:t})}));gf.displayName="SelectSeparator";var xf="SelectArrow";function vf(e){return""===e||void 0===e}Pr.forwardRef(((e,t)=>{const{__scopeSelect:r,...s}=e,a=Cm(r),n=Em(xf,r),i=Hm(xf,r);return n.open&&"popper"===i.position?te.jsx(jt,{...a,...s,ref:t}):null})).displayName=xf;var yf=Pr.forwardRef(((e,t)=>{const{value:r,...s}=e,a=Pr.useRef(null),n=ee(t,a),i=vm(r);return Pr.useEffect((()=>{const e=a.current,t=window.HTMLSelectElement.prototype,s=Object.getOwnPropertyDescriptor(t,"value").set;if(i!==r&&s){const t=new Event("change",{bubbles:!0});s.call(e,r),e.dispatchEvent(t)}}),[i,r]),te.jsx(le,{asChild:!0,children:te.jsx("select",{...s,ref:n,defaultValue:r})})}));function bf(e){const t=oe(e),r=Pr.useRef(""),s=Pr.useRef(0),a=Pr.useCallback((e=>{const a=r.current+e;t(a),function e(t){r.current=t,window.clearTimeout(s.current),""!==t&&(s.current=window.setTimeout((()=>e("")),1e3))}(a)}),[t]),n=Pr.useCallback((()=>{r.current="",window.clearTimeout(s.current)}),[]);return Pr.useEffect((()=>()=>window.clearTimeout(s.current)),[]),[r,a,n]}function wf(e,t,r){const s=t.length>1&&Array.from(t).every((e=>e===t[0]))?t[0]:t,a=r?e.indexOf(r):-1;let n=(i=e,o=Math.max(a,0),i.map(((e,t)=>i[(o+t)%i.length])));var i,o;1===s.length&&(n=n.filter((e=>e!==r)));const l=n.find((e=>e.textValue.toLowerCase().startsWith(s.toLowerCase())));return l!==r?l:void 0}yf.displayName="BubbleSelect";var jf=Dm,Nf=Mm,Sf=zm,kf=Fm,_f=Jm,Cf=tf,Tf=nf,Ef=lf,Pf=df,Of=hf,Af=ff,Rf=gf;const Df=Am,Lf=Im,If=Pr.forwardRef((({className:e,children:t,...r},s)=>te.jsxs(jf,{ref:s,className:Ba("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,te.jsx(Nf,{asChild:!0,children:te.jsx(Ue,{className:"h-4 w-4 opacity-50"})})]})));If.displayName=jf.displayName;const Mf=Pr.forwardRef((({className:e,...t},r)=>te.jsx(Of,{ref:r,className:Ba("flex cursor-default items-center justify-center py-1",e),...t,children:te.jsx(Nt,{className:"h-4 w-4"})})));Mf.displayName=Of.displayName;const zf=Pr.forwardRef((({className:e,...t},r)=>te.jsx(Af,{ref:r,className:Ba("flex cursor-default items-center justify-center py-1",e),...t,children:te.jsx(Ue,{className:"h-4 w-4"})})));zf.displayName=Af.displayName;const $f=Pr.forwardRef((({className:e,children:t,position:r="popper",...s},a)=>te.jsx(Sf,{children:te.jsxs(kf,{ref:a,className:Ba("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:[te.jsx(Mf,{}),te.jsx(_f,{className:Ba("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),te.jsx(zf,{})]})})));$f.displayName=kf.displayName;Pr.forwardRef((({className:e,...t},r)=>te.jsx(Cf,{ref:r,className:Ba("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}))).displayName=Cf.displayName;const Ff=Pr.forwardRef((({className:e,children:t,...r},s)=>te.jsxs(Tf,{ref:s,className:Ba("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[te.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:te.jsx(Pf,{children:te.jsx(Ve,{className:"h-4 w-4"})})}),te.jsx(Ef,{children:t})]})));Ff.displayName=Tf.displayName;Pr.forwardRef((({className:e,...t},r)=>te.jsx(Rf,{ref:r,className:Ba("-mx-1 my-1 h-px bg-muted",e),...t}))).displayName=Rf.displayName;const Uf=()=>{const{dashboardLayout:e,updateDashboardLayout:t,resetPreferences:r}=Vd(),[s,a]=Ar.useState(e),[n,i]=Ar.useState(!1);Ar.useEffect((()=>{a(e)}),[e]);const o=e=>{a({...s,viewMode:e})},l=e=>{switch(e){case"progress":return"Progress Charts";case"activity":return"Activity Tracker";case"journal":return"Journal Entries";case"recommended":return"Recommended Activities";case"personalized":return"Personalized Recommendations";case"journey":return"My Journey";default:return e}},c=[...(null==s?void 0:s.widgets)?Object.keys(s.widgets):[]].sort(((e,t)=>{var r,a,n,i;return(null==(a=null==(r=null==s?void 0:s.widgets)?void 0:r[e])?void 0:a.position)-(null==(i=null==(n=null==s?void 0:s.widgets)?void 0:n[t])?void 0:i.position)||0}));return te.jsxs(om,{open:n,onOpenChange:i,children:[te.jsx(lm,{asChild:!0,children:te.jsxs(Md,{variant:"ghost",size:"sm",className:"w-full justify-start gap-2 px-2 py-2 rounded-md hover:bg-accent",onClick:()=>i(!0),children:[te.jsx(St,{className:"h-[1.2rem] w-[1.2rem]"}),te.jsx("span",{className:"flex-1 text-left",children:"Customize Dashboard"})]})}),te.jsxs(hm,{className:"w-[400px] sm:max-w-md",children:[te.jsxs(mm,{className:"mb-6",children:[te.jsx(pm,{children:"Dashboard Preferences"}),te.jsx(gm,{children:"Customize your dashboard layout and widgets."})]}),te.jsxs("div",{className:"space-y-6",children:[te.jsxs("div",{children:[te.jsx("h3",{className:"text-sm font-medium mb-3",children:"Layout View"}),te.jsxs("div",{className:"flex gap-2",children:[te.jsxs(Md,{variant:"grid"===s.viewMode?"default":"outline",size:"sm",className:"flex items-center gap-2",onClick:()=>o("grid"),children:[te.jsx(kt,{className:"h-4 w-4"}),"Grid","grid"===s.viewMode&&te.jsx(Ve,{className:"h-3 w-3 ml-1"})]}),te.jsxs(Md,{variant:"list"===s.viewMode?"default":"outline",size:"sm",className:"flex items-center gap-2",onClick:()=>o("list"),children:[te.jsx(_t,{className:"h-4 w-4"}),"List","list"===s.viewMode&&te.jsx(Ve,{className:"h-3 w-3 ml-1"})]})]})]}),te.jsxs("div",{children:[te.jsx("h3",{className:"text-sm font-medium mb-3",children:"Widget Visibility & Size"}),te.jsx("div",{className:"space-y-3",children:c.map((e=>{const t=s.widgets[e];return te.jsxs("div",{className:"p-3 rounded-md border "+(t.visible?"bg-card":"bg-muted opacity-60"),children:[te.jsxs("div",{className:"flex items-center gap-3",children:[te.jsx("div",{className:"flex-1",children:te.jsx("div",{className:"font-medium",children:l(e)})}),te.jsx("div",{className:"flex items-center gap-2",children:te.jsx(Md,{variant:"ghost",size:"icon",onClick:()=>(e=>{const t={...s.widgets,[e]:{...s.widgets[e],visible:!s.widgets[e].visible}};a({...s,widgets:t})})(e),title:t.visible?"Hide":"Show",children:t.visible?te.jsx(Ct,{className:"h-4 w-4"}):te.jsx(Tt,{className:"h-4 w-4"})})})]}),t.visible&&te.jsx("div",{className:"mt-2 pl-2",children:te.jsxs("div",{className:"flex items-center gap-4",children:[te.jsx(qh,{htmlFor:`${e}-size`,className:"w-14",children:"Size:"}),te.jsxs(Df,{value:t.size,onValueChange:t=>((e,t)=>{const r={...s.widgets,[e]:{...s.widgets[e],size:t}};a({...s,widgets:r})})(e,t),id:`${e}-size-select`,name:`${e}-size`,children:[te.jsx(If,{id:`${e}-size`,className:"w-32",children:te.jsx(Lf,{})}),te.jsxs($f,{children:[te.jsx(Ff,{value:"small",children:"Small"}),te.jsx(Ff,{value:"medium",children:"Medium"}),te.jsx(Ff,{value:"large",children:"Large"})]})]})]})})]},e)}))})]})]}),te.jsxs(fm,{className:"mt-6 flex-col sm:flex-row gap-2",children:[te.jsx(Md,{variant:"outline",onClick:async()=>{await r(),i(!1)},children:"Reset to Default"}),te.jsx(Md,{onClick:async()=>{await t(s),i(!1)},children:"Save Changes"})]})]})]})};var Bf=["PageUp","PageDown"],Hf=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],qf={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Wf="Slider",[Gf,Vf,Yf]=Z(Wf),[Kf,Jf]=Q(Wf,[Yf]),[Xf,Qf]=Kf(Wf),Zf=Pr.forwardRef(((e,t)=>{const{name:r,min:s=0,max:a=100,step:n=1,orientation:i="horizontal",disabled:o=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[s],value:d,onValueChange:u=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:f,...p}=e,g=Pr.useRef(new Set),x=Pr.useRef(0),v="horizontal"===i?rp:sp,[y=[],b]=ae({prop:d,defaultProp:c,onChange:e=>{var t;null==(t=[...g.current][x.current])||t.focus(),u(e)}}),w=Pr.useRef(y);function j(e,t,{commit:r}={commit:!1}){const i=function(e){return(String(e).split(".")[1]||"").length}(n),o=function(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}(Math.round((e-s)/n)*n+s,i),c=xm(o,[s,a]);b(((e=[])=>{const s=function(e=[],t,r){const s=[...e];return s[r]=t,s.sort(((e,t)=>e-t))}(e,c,t);if(function(e,t){if(t>0){const r=function(e){return e.slice(0,-1).map(((t,r)=>e[r+1]-t))}(e);return Math.min(...r)>=t}return!0}(s,l*n)){x.current=s.indexOf(c);const t=String(s)!==String(e);return t&&r&&h(s),t?s:e}return e}))}return te.jsx(Xf,{scope:e.__scopeSlider,name:r,disabled:o,min:s,max:a,valueIndexToChangeRef:x,thumbs:g.current,values:y,orientation:i,form:f,children:te.jsx(Gf.Provider,{scope:e.__scopeSlider,children:te.jsx(Gf.Slot,{scope:e.__scopeSlider,children:te.jsx(v,{"aria-disabled":o,"data-disabled":o?"":void 0,...p,ref:t,onPointerDown:ie(p.onPointerDown,(()=>{o||(w.current=y)})),min:s,max:a,inverted:m,onSlideStart:o?void 0:function(e){const t=function(e,t){if(1===e.length)return 0;const r=e.map((e=>Math.abs(e-t))),s=Math.min(...r);return r.indexOf(s)}(y,e);j(e,t)},onSlideMove:o?void 0:function(e){j(e,x.current)},onSlideEnd:o?void 0:function(){const e=w.current[x.current];y[x.current]!==e&&h(y)},onHomeKeyDown:()=>!o&&j(s,0,{commit:!0}),onEndKeyDown:()=>!o&&j(a,y.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:t})=>{if(!o){const r=Bf.includes(e.key)||e.shiftKey&&Hf.includes(e.key)?10:1,s=x.current;j(y[s]+n*r*t,s,{commit:!0})}}})})})})}));Zf.displayName=Wf;var[ep,tp]=Kf(Wf,{startEdge:"left",endEdge:"right",size:"width",direction:1}),rp=Pr.forwardRef(((e,t)=>{const{min:r,max:s,dir:a,inverted:n,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=e,[u,h]=Pr.useState(null),m=ee(t,(e=>h(e))),f=Pr.useRef(void 0),p=Fe(a),g="ltr"===p,x=g&&!n||!g&&n;function v(e){const t=f.current||u.getBoundingClientRect(),a=fp([0,t.width],x?[r,s]:[s,r]);return f.current=t,a(e-t.left)}return te.jsx(ep,{scope:e.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:te.jsx(ap,{dir:p,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{const t=v(e.clientX);null==i||i(t)},onSlideMove:e=>{const t=v(e.clientX);null==o||o(t)},onSlideEnd:()=>{f.current=void 0,null==l||l()},onStepKeyDown:e=>{const t=qf[x?"from-left":"from-right"].includes(e.key);null==c||c({event:e,direction:t?-1:1})}})})})),sp=Pr.forwardRef(((e,t)=>{const{min:r,max:s,inverted:a,onSlideStart:n,onSlideMove:i,onSlideEnd:o,onStepKeyDown:l,...c}=e,d=Pr.useRef(null),u=ee(t,d),h=Pr.useRef(void 0),m=!a;function f(e){const t=h.current||d.current.getBoundingClientRect(),a=fp([0,t.height],m?[s,r]:[r,s]);return h.current=t,a(e-t.top)}return te.jsx(ep,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:te.jsx(ap,{"data-orientation":"vertical",...c,ref:u,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{const t=f(e.clientY);null==n||n(t)},onSlideMove:e=>{const t=f(e.clientY);null==i||i(t)},onSlideEnd:()=>{h.current=void 0,null==o||o()},onStepKeyDown:e=>{const t=qf[m?"from-bottom":"from-top"].includes(e.key);null==l||l({event:e,direction:t?-1:1})}})})})),ap=Pr.forwardRef(((e,t)=>{const{__scopeSlider:r,onSlideStart:s,onSlideMove:a,onSlideEnd:n,onHomeKeyDown:i,onEndKeyDown:o,onStepKeyDown:l,...c}=e,d=Qf(Wf,r);return te.jsx(se.span,{...c,ref:t,onKeyDown:ie(e.onKeyDown,(e=>{"Home"===e.key?(i(e),e.preventDefault()):"End"===e.key?(o(e),e.preventDefault()):Bf.concat(Hf).includes(e.key)&&(l(e),e.preventDefault())})),onPointerDown:ie(e.onPointerDown,(e=>{const t=e.target;t.setPointerCapture(e.pointerId),e.preventDefault(),d.thumbs.has(t)?t.focus():s(e)})),onPointerMove:ie(e.onPointerMove,(e=>{e.target.hasPointerCapture(e.pointerId)&&a(e)})),onPointerUp:ie(e.onPointerUp,(e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&(t.releasePointerCapture(e.pointerId),n(e))}))})})),np="SliderTrack",ip=Pr.forwardRef(((e,t)=>{const{__scopeSlider:r,...s}=e,a=Qf(np,r);return te.jsx(se.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...s,ref:t})}));ip.displayName=np;var op="SliderRange",lp=Pr.forwardRef(((e,t)=>{const{__scopeSlider:r,...s}=e,a=Qf(op,r),n=tp(op,r),i=Pr.useRef(null),o=ee(t,i),l=a.values.length,c=a.values.map((e=>mp(e,a.min,a.max))),d=l>1?Math.min(...c):0,u=100-Math.max(...c);return te.jsx(se.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...s,ref:o,style:{...e.style,[n.startEdge]:d+"%",[n.endEdge]:u+"%"}})}));lp.displayName=op;var cp="SliderThumb",dp=Pr.forwardRef(((e,t)=>{const r=Vf(e.__scopeSlider),[s,a]=Pr.useState(null),n=ee(t,(e=>a(e))),i=Pr.useMemo((()=>s?r().findIndex((e=>e.ref.current===s)):-1),[r,s]);return te.jsx(up,{...e,ref:n,index:i})})),up=Pr.forwardRef(((e,t)=>{const{__scopeSlider:r,index:s,name:a,...n}=e,i=Qf(cp,r),o=tp(cp,r),[l,c]=Pr.useState(null),d=ee(t,(e=>c(e))),u=!l||(i.form||!!l.closest("form")),h=Et(l),m=i.values[s],f=void 0===m?0:mp(m,i.min,i.max),p=function(e,t){return t>2?`Value ${e+1} of ${t}`:2===t?["Minimum","Maximum"][e]:void 0}(s,i.values.length),g=null==h?void 0:h[o.size],x=g?function(e,t,r){const s=e/2,a=fp([0,50],[0,s]);return(s-a(t)*r)*r}(g,f,o.direction):0;return Pr.useEffect((()=>{if(l)return i.thumbs.add(l),()=>{i.thumbs.delete(l)}}),[l,i.thumbs]),te.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${f}% + ${x}px)`},children:[te.jsx(Gf.ItemSlot,{scope:e.__scopeSlider,children:te.jsx(se.span,{role:"slider","aria-label":e["aria-label"]||p,"aria-valuemin":i.min,"aria-valuenow":m,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...n,ref:d,style:void 0===m?{display:"none"}:e.style,onFocus:ie(e.onFocus,(()=>{i.valueIndexToChangeRef.current=s}))})}),u&&te.jsx(hp,{name:a??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:m},s)]})}));dp.displayName=cp;var hp=e=>{const{value:t,...r}=e,s=Pr.useRef(null),a=vm(t);return Pr.useEffect((()=>{const e=s.current,r=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(r,"value").set;if(a!==t&&n){const r=new Event("input",{bubbles:!0});n.call(e,t),e.dispatchEvent(r)}}),[a,t]),te.jsx("input",{style:{display:"none"},...r,ref:s,defaultValue:t})};function mp(e,t,r){return xm(100/(r-t)*(e-t),[0,100])}function fp(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}var pp=Zf,gp=ip,xp=lp,vp=dp;const yp=Pr.forwardRef((({className:e,...t},r)=>te.jsxs(pp,{ref:r,className:Ba("relative flex w-full touch-none select-none items-center",e),...t,children:[te.jsx(gp,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:te.jsx(xp,{className:"absolute h-full bg-primary"})}),te.jsx(vp,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})));yp.displayName=pp.displayName;const bp=()=>{const{preferences:e,updateExperiencePreferences:t}=Vd(),{user:r,getUserProfile:s}=Rd(),[a,n]=Ar.useState(!1),[i,o]=Ar.useState([]),[l,c]=Ar.useState(e.experiencePreferences.focus||["general"]),[d,u]=Ar.useState(e.experiencePreferences.difficulty),[h,m]=Ar.useState(e.experiencePreferences.pacing),[f,p]=Ar.useState(e.experiencePreferences.guidance);Ar.useEffect((()=>{(async()=>{if(r)try{const{data:t}=await s();t&&t.key_fears&&t.key_fears.length>0&&(o(t.key_fears),e.experiencePreferences.focus&&0!==e.experiencePreferences.focus.length||c(t.key_fears))}catch(t){}})()}),[r,s,e.experiencePreferences.focus]);const g=e=>{l.includes(e)?c(l.filter((t=>t!==e))):c([...l,e])};return te.jsxs(ru,{open:a,onOpenChange:n,children:[te.jsx(su,{asChild:!0,children:te.jsxs(Md,{variant:"ghost",size:"sm",className:"w-full justify-start gap-2 px-2 py-2 rounded-md hover:bg-accent",onClick:()=>n(!0),children:[te.jsx(Pt,{className:"h-[1.2rem] w-[1.2rem]"}),te.jsx("span",{className:"flex-1 text-left",children:"Experience Settings"})]})}),te.jsxs(iu,{className:"sm:max-w-[425px]",children:[te.jsxs(ou,{children:[te.jsx(cu,{children:"Experience Settings"}),te.jsx(du,{children:"Customize your experience settings and preferences."})]}),te.jsx("div",{className:"grid gap-4 py-4",children:te.jsx("div",{className:"space-y-4",children:te.jsxs(Ch,{type:"single",collapsible:!0,className:"w-full",children:[te.jsxs(Th,{value:"difficulty",children:[te.jsx(Eh,{children:"Challenge Difficulty"}),te.jsx(Ph,{children:te.jsxs("div",{className:"space-y-3",children:[te.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose how challenging your fear-conquering experiences should be."}),te.jsx("div",{className:"grid gap-2",children:[{value:"beginner",label:"Beginner - Small first steps"},{value:"intermediate",label:"Intermediate - Balanced challenges"},{value:"advanced",label:"Advanced - Significant hurdles"},{value:"expert",label:"Expert - Maximum growth"}].map((e=>te.jsxs("div",{className:"p-3 rounded-md border cursor-pointer transition-colors "+(d===e.value?"bg-primary/10 border-primary":"hover:bg-accent"),onClick:()=>u(e.value),children:[te.jsx("div",{className:"font-medium",children:e.label.split(" - ")[0]}),te.jsx("div",{className:"text-sm text-muted-foreground",children:e.label.split(" - ")[1]})]},e.value)))})]})})]}),te.jsxs(Th,{value:"focus",children:[te.jsx(Eh,{children:"Focus Areas"}),te.jsx(Ph,{children:te.jsxs("div",{className:"space-y-3",children:[te.jsx("p",{className:"text-sm text-muted-foreground",children:"Select which fears you want to focus on. We'll prioritize experiences for these areas."}),te.jsxs("div",{className:"grid gap-2",children:[i.length>0?i.map((e=>te.jsx("div",{className:"p-3 rounded-md border cursor-pointer transition-colors "+(l.includes(e)?"bg-primary/10 border-primary":"hover:bg-accent"),onClick:()=>g(e),children:te.jsx("div",{className:"font-medium capitalize",children:e})},e))):te.jsx("div",{className:"text-sm text-muted-foreground",children:"No fears found in your profile. Please update your profile first."}),te.jsxs("div",{className:"p-3 rounded-md border cursor-pointer transition-colors "+(l.includes("general")?"bg-primary/10 border-primary":"hover:bg-accent"),onClick:()=>g("general"),children:[te.jsx("div",{className:"font-medium",children:"General Courage Building"}),te.jsx("div",{className:"text-sm text-muted-foreground",children:"Non-specific activities to build overall courage"})]})]})]})})]}),te.jsxs(Th,{value:"pacing",children:[te.jsx(Eh,{children:"Experience Pacing"}),te.jsx(Ph,{children:te.jsxs("div",{className:"space-y-4",children:[te.jsx("p",{className:"text-sm text-muted-foreground",children:"How quickly should we introduce new challenges?"}),te.jsxs("div",{className:"space-y-6",children:[te.jsx(yp,{value:(()=>{switch(h){case"slow":return[25];case"moderate":default:return[50];case"fast":return[75]}})(),onValueChange:e=>{const t=e[0];m(t<=33?"slow":t<=66?"moderate":"fast")},max:100,step:1}),te.jsxs("div",{className:"flex justify-between text-sm",children:[te.jsx("span",{className:"slow"===h?"font-bold":"",children:"Slow"}),te.jsx("span",{className:"moderate"===h?"font-bold":"",children:"Moderate"}),te.jsx("span",{className:"fast"===h?"font-bold":"",children:"Fast"})]}),te.jsxs("p",{className:"text-sm italic",children:["slow"===h&&"Take your time, with longer periods between intensifying challenges.","moderate"===h&&"Balanced progression that steadily builds your courage.","fast"===h&&"Accelerated growth with quickly advancing challenges."]})]})]})})]}),te.jsxs(Th,{value:"guidance",children:[te.jsx(Eh,{children:"Guidance Level"}),te.jsx(Ph,{children:te.jsxs("div",{className:"space-y-3",children:[te.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose how much guidance you want for your activities."}),te.jsx("div",{className:"grid gap-2",children:[{value:"detailed",label:"Detailed - Step-by-step instructions and support"},{value:"balanced",label:"Balanced - Some guidance, some self-direction"},{value:"minimal",label:"Minimal - Light guidance, mostly self-directed"}].map((e=>te.jsxs("div",{className:"p-3 rounded-md border cursor-pointer transition-colors "+(f===e.value?"bg-primary/10 border-primary":"hover:bg-accent"),onClick:()=>p(e.value),children:[te.jsx("div",{className:"font-medium",children:e.label.split(" - ")[0]}),te.jsx("div",{className:"text-sm text-muted-foreground",children:e.label.split(" - ")[1]})]},e.value)))})]})})]})]})})}),te.jsxs(lu,{children:[te.jsx(Md,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),te.jsx(Md,{onClick:async()=>{await t({difficulty:d,focus:l,pacing:h,guidance:f}),n(!1)},children:"Save Changes"})]})]})]})};var wp="horizontal",jp=["horizontal","vertical"],Np=Pr.forwardRef(((e,t)=>{const{decorative:r,orientation:s=wp,...a}=e,n=function(e){return jp.includes(e)}(s)?s:wp,i=r?{role:"none"}:{"aria-orientation":"vertical"===n?n:void 0,role:"separator"};return te.jsx(se.div,{"data-orientation":n,...i,...a,ref:t})}));Np.displayName="Separator";var Sp=Np;const kp=Pr.forwardRef((({className:e,orientation:t="horizontal",decorative:r=!0,...s},a)=>te.jsx(Sp,{ref:a,decorative:r,orientation:t,className:Ba("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...s})));kp.displayName=Sp.displayName;var _p="Popover",[Cp,Tp]=Q(_p,[mt]),Ep=mt(),[Pp,Op]=Cp(_p),Ap=e=>{const{__scopePopover:t,children:r,open:s,defaultOpen:a,onOpenChange:n,modal:i=!1}=e,o=Ep(t),l=Pr.useRef(null),[c,d]=Pr.useState(!1),[u=!1,h]=ae({prop:s,defaultProp:a,onChange:n});return te.jsx(wt,{...o,children:te.jsx(Pp,{scope:t,contentId:$e(),triggerRef:l,open:u,onOpenChange:h,onOpenToggle:Pr.useCallback((()=>h((e=>!e))),[h]),hasCustomAnchor:c,onCustomAnchorAdd:Pr.useCallback((()=>d(!0)),[]),onCustomAnchorRemove:Pr.useCallback((()=>d(!1)),[]),modal:i,children:r})})};Ap.displayName=_p;var Rp="PopoverAnchor";Pr.forwardRef(((e,t)=>{const{__scopePopover:r,...s}=e,a=Op(Rp,r),n=Ep(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:o}=a;return Pr.useEffect((()=>(i(),()=>o())),[i,o]),te.jsx(ft,{...n,...s,ref:t})})).displayName=Rp;var Dp="PopoverTrigger",Lp=Pr.forwardRef(((e,t)=>{const{__scopePopover:r,...s}=e,a=Op(Dp,r),n=Ep(r),i=ee(t,a.triggerRef),o=te.jsx(se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Gp(a.open),...s,ref:i,onClick:ie(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?o:te.jsx(ft,{asChild:!0,...n,children:o})}));Lp.displayName=Dp;var Ip="PopoverPortal",[Mp,zp]=Cp(Ip,{forceMount:void 0}),$p=e=>{const{__scopePopover:t,forceMount:r,children:s,container:a}=e,n=Op(Ip,t);return te.jsx(Mp,{scope:t,forceMount:r,children:te.jsx(ne,{present:r||n.open,children:te.jsx(de,{asChild:!0,container:a,children:s})})})};$p.displayName=Ip;var Fp="PopoverContent",Up=Pr.forwardRef(((e,t)=>{const r=zp(Fp,e.__scopePopover),{forceMount:s=r.forceMount,...a}=e,n=Op(Fp,e.__scopePopover);return te.jsx(ne,{present:s||n.open,children:n.modal?te.jsx(Bp,{...a,ref:t}):te.jsx(Hp,{...a,ref:t})})}));Up.displayName=Fp;var Bp=Pr.forwardRef(((e,t)=>{const r=Op(Fp,e.__scopePopover),s=Pr.useRef(null),a=ee(t,s),n=Pr.useRef(!1);return Pr.useEffect((()=>{const e=s.current;if(e)return pt(e)}),[]),te.jsx(xt,{as:ye,allowPinchZoom:!0,children:te.jsx(qp,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ie(e.onCloseAutoFocus,(e=>{var t;e.preventDefault(),n.current||null==(t=r.triggerRef.current)||t.focus()})),onPointerDownOutside:ie(e.onPointerDownOutside,(e=>{const t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,s=2===t.button||r;n.current=s}),{checkForDefaultPrevented:!1}),onFocusOutside:ie(e.onFocusOutside,(e=>e.preventDefault()),{checkForDefaultPrevented:!1})})})})),Hp=Pr.forwardRef(((e,t)=>{const r=Op(Fp,e.__scopePopover),s=Pr.useRef(!1),a=Pr.useRef(!1);return te.jsx(qp,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var n,i;null==(n=e.onCloseAutoFocus)||n.call(e,t),t.defaultPrevented||(s.current||null==(i=r.triggerRef.current)||i.focus(),t.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:t=>{var n,i;null==(n=e.onInteractOutside)||n.call(e,t),t.defaultPrevented||(s.current=!0,"pointerdown"===t.detail.originalEvent.type&&(a.current=!0));const o=t.target;(null==(i=r.triggerRef.current)?void 0:i.contains(o))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&a.current&&t.preventDefault()}})})),qp=Pr.forwardRef(((e,t)=>{const{__scopePopover:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:n,disableOutsidePointerEvents:i,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...u}=e,h=Op(Fp,r),m=Ep(r);return gt(),te.jsx(vt,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:n,children:te.jsx(yt,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:te.jsx(bt,{"data-state":Gp(h.open),role:"dialog",id:h.contentId,...m,...u,ref:t,style:{...u.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})})),Wp="PopoverClose";Pr.forwardRef(((e,t)=>{const{__scopePopover:r,...s}=e,a=Op(Wp,r);return te.jsx(se.button,{type:"button",...s,ref:t,onClick:ie(e.onClick,(()=>a.onOpenChange(!1)))})})).displayName=Wp;function Gp(e){return e?"open":"closed"}Pr.forwardRef(((e,t)=>{const{__scopePopover:r,...s}=e,a=Ep(r);return te.jsx(jt,{...a,...s,ref:t})})).displayName="PopoverArrow";var Vp=$p,Yp=Up;const Kp=Ap,Jp=Lp,Xp=Pr.forwardRef((({className:e,align:t="center",sideOffset:r=4,...s},a)=>te.jsx(Vp,{children:te.jsx(Yp,{ref:a,align:t,sideOffset:r,className:Ba("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})})));Xp.displayName=Yp.displayName;const Qp={viewMode:"grid",widgets:{activity:{visible:!0,position:0,size:"medium"},progress:{visible:!1,position:1,size:"large"},journal:{visible:!1,position:2,size:"medium"},recommended:{visible:!1,position:3,size:"medium"},personalized:{visible:!1,position:4,size:"large"}}},Zp=()=>{const[e,t]=Pr.useState(!0),{user:r}=Rd(),{preferences:s,dashboardLayout:a,setUserPreferences:n,updateDashboardLayout:i}=Vd(),{theme:o}=Hd(),{toast:l}=as(),c=Ir();Pr.useEffect((()=>{!r||s&&a||n({dashboardLayout:Qp,experiencePreferences:{difficulty:"beginner",focus:["general"],pacing:"moderate",guidance:"balanced"},notificationPreferences:{email:!0,push:!0,frequency:"weekly"}})}),[r,s,a,n]),Pr.useEffect((()=>{(async()=>{try{t(!0),setTimeout((()=>{t(!1)}),1e3)}catch(e){t(!1),l({title:"Error loading dashboard",description:"There was a problem loading your data. Please try refreshing the page.",variant:"destructive"})}})()}),[l]),Pr.useEffect((()=>{e||s&&s.experiencePreferences||(n({dashboardLayout:Qp,experiencePreferences:{focus:[],difficulty:"beginner",pacing:"moderate",guidance:"balanced"},notificationPreferences:{email:!0,push:!0,frequency:"weekly"}}),l({title:"Using default settings",description:"We've set up some default preferences for you. You can customize them in your profile."}))}),[e,s,n,l]);return(()=>{try{return a&&a.widgets?Object.entries(a.widgets).filter((([e,t])=>t&&t.visible)).sort((([e,t],[r,s])=>("number"==typeof t.position?t.position:0)-("number"==typeof s.position?s.position:0))).map((([e,t])=>({key:e,...t}))):Object.entries(Qp.widgets).filter((([e,t])=>t.visible)).sort((([e,t],[r,s])=>t.position-s.position)).map((([e,t])=>({key:e,...t})))}catch(e){return[]}})(),te.jsx("div",{className:"min-h-screen bg-background",children:te.jsx(Kd,{children:te.jsxs("main",{className:"container mx-auto px-4 pt-8 pb-16",children:[te.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-8 gap-4",children:[te.jsx("div",{}),te.jsxs("div",{className:"flex items-center gap-2",children:[te.jsxs(Md,{variant:"outline",size:"sm",onClick:()=>c("/profile"),className:"flex items-center gap-2",children:[te.jsx(Ot,{className:"h-4 w-4"})," Profile"]}),te.jsxs(Kp,{children:[te.jsx(Jp,{asChild:!0,children:te.jsxs(Md,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[te.jsx(At,{className:"h-4 w-4"})," Settings"]})}),te.jsx(Xp,{className:"w-80",children:te.jsxs("div",{className:"grid gap-4",children:[te.jsxs("div",{className:"space-y-2",children:[te.jsx("h4",{className:"font-medium leading-none",children:"Dashboard Preferences"}),te.jsx("p",{className:"text-sm text-muted-foreground",children:"Customize your dashboard layout"}),te.jsx(kp,{}),te.jsx(Uf,{})]}),te.jsxs("div",{className:"space-y-2",children:[te.jsx("h4",{className:"font-medium leading-none",children:"Experience"}),te.jsx("p",{className:"text-sm text-muted-foreground",children:"Adjust your experience settings"}),te.jsx(kp,{}),te.jsx(bp,{})]}),te.jsxs("div",{className:"space-y-2",children:[te.jsx("h4",{className:"font-medium leading-none",children:"Theme"}),te.jsx("p",{className:"text-sm text-muted-foreground",children:"Change the theme"}),te.jsx(kp,{}),te.jsx(im,{})]})]})})]})]})]}),te.jsx("div",{className:"space-y-6",children:e?te.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[te.jsx(Xh,{className:"h-[300px] w-full"}),te.jsx(Xh,{className:"h-[300px] w-full"})]}):te.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[te.jsx(hu,{className:"border-t-4 border-t-amber-500",children:te.jsx(gu,{className:"pt-6",children:te.jsxs("div",{className:"flex flex-col items-center text-center md:items-start md:text-left",children:[te.jsx("p",{className:"text-muted-foreground mb-4",children:(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),te.jsx("p",{className:"max-w-2xl text-lg mb-6",children:"Ready to continue your courage journey today?"})]})})}),te.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[te.jsxs(hu,{className:"hover:border-amber-500 hover:shadow-md transition-all duration-200",children:[te.jsx(mu,{className:"pb-2",children:te.jsx(fu,{className:"text-lg",children:"Explore Activities"})}),te.jsxs(gu,{children:[te.jsx("p",{className:"text-muted-foreground mb-4",children:"Discover new challenges to build your courage muscles."}),te.jsx(Md,{className:"w-full",onClick:()=>c("/activities"),children:"Browse Activities"})]})]}),te.jsxs(hu,{className:"hover:border-amber-500 hover:shadow-md transition-all duration-200",children:[te.jsx(mu,{className:"pb-2",children:te.jsx(fu,{className:"text-lg",children:"Your Profile"})}),te.jsxs(gu,{children:[te.jsx("p",{className:"text-muted-foreground mb-4",children:"Update your information and track your progress."}),te.jsx(Md,{className:"w-full",variant:"outline",onClick:()=>c("/profile"),children:"View Profile"})]})]}),te.jsxs(hu,{className:"hover:border-amber-500 hover:shadow-md transition-all duration-200",children:[te.jsx(mu,{className:"pb-2",children:te.jsx(fu,{className:"text-lg",children:"Community"})}),te.jsxs(gu,{children:[te.jsx("p",{className:"text-muted-foreground mb-4",children:"Connect with others on their courage journey."}),te.jsx(Md,{className:"w-full",variant:"outline",onClick:()=>c("/community"),children:"Join Community"})]})]})]}),te.jsxs(hu,{className:"bg-indigo-50 dark:bg-indigo-950/20",children:[te.jsx(mu,{className:"pb-2",children:te.jsxs(fu,{className:"text-md flex items-center gap-2",children:[te.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-amber-500",children:[te.jsx("circle",{cx:"12",cy:"12",r:"10"}),te.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),te.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]}),"Daily Courage Tip"]})}),te.jsx(gu,{children:te.jsx("p",{className:"italic",children:"\"Courage doesn't always roar. Sometimes courage is the quiet voice at the end of the day saying, 'I will try again tomorrow.'\"  Mary Anne Radmacher"})})]})]})})]})})})},eg=({url:e,size:t,onUpload:r})=>{const[s,a]=Pr.useState(null),[n,i]=Pr.useState(!1),[o,l]=Pr.useState(null),[c,d]=Pr.useState(0);Pr.useEffect((()=>{e&&(a(e),d(0))}),[e]),Pr.useEffect((()=>{s||(async()=>{var e;if(!s&&c<3)try{const{data:{user:t}}=await jd.auth.getUser();if(t){if(null==(e=t.user_metadata)?void 0:e.avatar_url)return void a(t.user_metadata.avatar_url);const{data:r,error:s}=await jd.from("user_profiles").select("avatar_url").eq("user_id",t.id).single();s||(null==r?void 0:r.avatar_url)&&(a(r.avatar_url),await jd.auth.updateUser({data:{avatar_url:r.avatar_url}}))}}catch(t){}finally{d((e=>e+1))}})()}),[s,c]);return te.jsxs("div",{className:"flex flex-col items-center",children:[te.jsx("div",{className:"overflow-hidden rounded-full border-2 border-gray-200",style:{height:t,width:t},children:s?te.jsx("img",{src:s,alt:"Avatar",className:"object-cover w-full h-full",onError:e=>{e.currentTarget.onerror=null,e.currentTarget.src="",a(null),d(0),ss({title:"Avatar Error",description:"Failed to load avatar image. Attempting to recover...",variant:"destructive"})}}):te.jsx("div",{className:"flex items-center justify-center bg-gray-100 w-full h-full text-gray-400",style:{fontSize:t/2},children:""})}),te.jsxs("div",{className:"mt-2",children:[te.jsx("label",{className:"cursor-pointer px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm font-medium transition-colors",htmlFor:"avatar-upload",children:n?"Uploading...":"Upload Avatar"}),te.jsx("input",{type:"file",id:"avatar-upload",accept:"image/*",onChange:async e=>{try{if(!e.target.files||0===e.target.files.length)return;i(!0),l(null);const s=e.target.files[0],n=s.name.split(".").pop();if(!["jpg","jpeg","png","gif","webp"].includes((null==n?void 0:n.toLowerCase())||""))return l("Invalid file type. Please upload an image file (jpg, jpeg, png, gif, webp)."),void i(!1);const o=5242880;if(s.size>o)return l("File size too large. Maximum size is 5MB."),void i(!1);const c="avatars",d=`${Math.random()}.${n}`,{error:u,data:h}=await jd.storage.from(c).upload(d,s,{cacheControl:"3600",upsert:!0});if(u)return u.message.includes("bucket")&&u.message.toLowerCase().includes("not found")?l("Storage not configured properly. Please contact support. (Missing avatars bucket)"):l(`Error uploading avatar: ${u.message}`),void i(!1);const{data:{publicUrl:m}}=await jd.storage.from(c).getPublicUrl(d);a(m),r(m);try{const{error:e}=await jd.auth.updateUser({data:{avatar_url:m}})}catch(t){}ss({title:"Avatar Updated",description:"Your avatar has been updated successfully.",variant:"success"})}catch(t){l("An unexpected error occurred. Please try again.")}finally{i(!1)}},disabled:n,className:"hidden"})]}),o&&te.jsx("div",{className:"text-red-500 text-sm mt-2",children:o})]})},tg=({profile:e,onClose:t})=>{const r=[{name:"full_name",weight:15,label:"Full Name"},{name:"avatar_url",weight:10,label:"Profile Picture"},{name:"date_of_birth",weight:10,label:"Date of Birth"},{name:"key_fears",weight:15,label:"Key Fears"},{name:"experience_level",weight:10,label:"Experience Level"},{name:"challenge_intensity",weight:10,label:"Challenge Intensity"},{name:"learning_style",weight:10,label:"Learning Style"},{name:"bio",weight:10,label:"Bio"},{name:"location",weight:10,label:"Location"}],s=(()=>{let t=0,s=0;return r.forEach((r=>{s+=r.weight;const a=e[r.name];null==a||"string"==typeof a&&""===a.trim()||Array.isArray(a)&&!(a.length>0)||(t+=r.weight)})),Math.round(t/s*100)})(),a=r.filter((t=>{const r=e[t.name];return null==r||"string"==typeof r&&""===r.trim()||Array.isArray(r)&&0===r.length}));return te.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-6 relative",children:[t&&te.jsx("button",{onClick:t,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700 focus:outline-none","aria-label":"Close",children:te.jsx(me,{size:18})}),te.jsxs("div",{className:"flex items-center justify-between mb-2",children:[te.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Profile Completion"}),te.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[s,"%"]})]}),te.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:te.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-500 ease-in-out",style:{width:`${s}%`}})}),a.length>0&&s<100&&te.jsxs("div",{className:"mt-3",children:[te.jsx("p",{className:"text-sm text-gray-600",children:"Complete these fields to improve your profile:"}),te.jsx("ul",{className:"mt-1 text-sm text-gray-600 grid grid-cols-2 gap-x-2 gap-y-1",children:a.map((e=>te.jsxs("li",{className:"flex items-center",children:[te.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full mr-2"}),e.label]},e.name)))})]}),100===s&&te.jsx("p",{className:"mt-2 text-sm text-green-600 font-medium",children:"Great job! Your profile is complete."})]})},rg=["Public Speaking","Heights","Failure","Rejection","Social Situations","Flying","Confined Spaces","Darkness","Ocean","Making Decisions","Change","Being Alone","Driving","Success","Extreme Heights","Deep Ocean","Wilderness Survival","Rock Climbing","Skydiving","Scuba Diving","White Water Rafting","Solo Travel","Camping Alone","Cliff Jumping","Zip Lining","Mountain Biking","Surfing","Bungee Jumping","Paragliding","Caving","Hiking Remote Trails","Extreme Weather","Off-Grid Living"],sg=({selectedFears:e,onChange:t})=>{const[r,s]=Pr.useState(""),[a,n]=Pr.useState([]),i=r=>{const a=r.trim();a&&!e.includes(a)&&(t([...e,a]),s(""),n([]))},o=r=>{t(e.filter((e=>e!==r)))},l=rg.filter((e=>["Extreme Heights","Deep Ocean","Wilderness Survival","Rock Climbing","Skydiving","Scuba Diving","White Water Rafting","Solo Travel","Cliff Jumping","Bungee Jumping","Paragliding"].includes(e))),c=rg.filter((e=>!l.includes(e))).slice(0,5);return te.jsxs("div",{className:"w-full",children:[te.jsxs("div",{className:"flex flex-wrap gap-2 p-2 border border-gray-300 rounded min-h-[42px] bg-white",children:[e.map((e=>te.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:[te.jsx("span",{children:e}),te.jsx("button",{type:"button",onClick:()=>o(e),className:"rounded-full hover:bg-blue-200 p-0.5",children:te.jsx(me,{size:14})})]},e))),te.jsx("input",{type:"text",id:"fearInput",name:"fearInput",value:r,onChange:t=>{const r=t.target.value;if(s(r),r.trim()){const t=rg.filter((t=>t.toLowerCase().includes(r.toLowerCase())&&!e.includes(t)));n(t)}else n([])},onKeyDown:t=>{"Enter"===t.key&&r.trim()?(t.preventDefault(),i(r)):"Backspace"===t.key&&""===r&&e.length>0&&o(e[e.length-1])},placeholder:0===e.length?"Add fears you want to overcome":"",className:"flex-grow min-w-[120px] outline-none text-sm py-1"})]}),a.length>0&&te.jsx("div",{className:"mt-1 p-2 bg-white border border-gray-200 rounded shadow-lg max-h-60 overflow-y-auto",children:a.map((e=>te.jsx("div",{className:"px-2 py-1 hover:bg-gray-100 cursor-pointer text-sm",onClick:()=>i(e),children:e},e)))}),te.jsxs("div",{className:"mt-2",children:[te.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Common fears:"}),te.jsx("div",{className:"flex flex-wrap gap-1",children:c.map((t=>!e.includes(t)&&te.jsxs("button",{type:"button",className:"px-2 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-xs text-gray-700",onClick:()=>i(t),children:["+ ",t]},t)))})]}),te.jsxs("div",{className:"mt-2",children:[te.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Adventure-related fears:"}),te.jsx("div",{className:"flex flex-wrap gap-1",children:l.slice(0,7).map((t=>!e.includes(t)&&te.jsxs("button",{type:"button",className:"px-2 py-1 bg-green-50 hover:bg-green-100 rounded-full text-xs text-green-700",onClick:()=>i(t),children:["+ ",t]},t)))})]})]})},ag=(e,t="long")=>{if(!e)return"";try{const r=new Date(e);if(isNaN(r.getTime()))return"";const s={year:"numeric",month:"short"===t?"2-digit":"medium"===t?"short":"long",day:"numeric"};return new Intl.DateTimeFormat("en-US",s).format(r)}catch(r){return""}},ng=[{value:"beginner",label:"Beginner - I'm just starting my courage journey"},{value:"intermediate",label:"Intermediate - I've faced some fears before"},{value:"advanced",label:"Advanced - I regularly push my comfort zone"},{value:"expert",label:"Expert - I help others overcome their fears"}],ig=[{value:"gentle",label:"Gentle - Small, manageable steps"},{value:"moderate",label:"Moderate - Balanced challenges"},{value:"intense",label:"Intense - Push me out of my comfort zone"},{value:"extreme",label:"Extreme - Test my limits"}],og=[{value:"visual",label:"Visual - I learn best by seeing"},{value:"auditory",label:"Auditory - I learn best by hearing"},{value:"reading",label:"Reading - I learn best by reading"},{value:"kinesthetic",label:"Kinesthetic - I learn best by doing"}],lg=()=>{const{user:e,updateProfile:t,getUserProfile:r,deleteAccount:s,signOut:a}=Rd(),n=Ir(),{toast:i}=as(),[o,l]=Pr.useState(!0),[c,d]=Pr.useState(null),[u,h]=Pr.useState(""),[m,f]=Pr.useState(""),[p,g]=Pr.useState(null),[x,v]=Pr.useState(null),[y,b]=Pr.useState([]),[w,j]=Pr.useState(null),[N,S]=Pr.useState(null),[k,_]=Pr.useState(null),[C,T]=Pr.useState(""),[E,P]=Pr.useState(""),[O,A]=Pr.useState({text:"",type:""}),[R,D]=Pr.useState("basic"),[L,I]=Pr.useState(!1),[M,z]=Pr.useState(""),[$,F]=Pr.useState(!0),U=e=>{D(R===e?null:e)};Pr.useEffect((()=>{(async()=>{if(e)try{l(!0),d(null),e.email&&f(e.email);const t=setTimeout((()=>{d("Loading timed out. Please refresh the page."),l(!1)}),8e3),s=await r(),a=s.data,i=s.error;if(clearTimeout(t),i){const{data:e}=await jd.auth.getSession();return e.session?(d(`Failed to load profile data: ${i}`),void l(!1)):void n("/login")}if(!a){const{data:e}=await jd.auth.getSession();return e.session?(d("No profile data found. Please try again."),void l(!1)):void n("/login")}h(a.full_name||""),g(a.avatar_url),v(a.date_of_birth||""),b(a.key_fears||[]),j(a.experience_level||"beginner"),S(a.challenge_intensity||"moderate"),_(a.learning_style||"visual"),T(a.bio||""),P(a.location||""),l(!1)}catch(t){try{const{data:e}=await jd.auth.getSession();if(!e.session)return void n("/login")}catch(s){}d("An unexpected error occurred. Please try again."),l(!1)}})()}),[e,r,n]);const B={full_name:u,avatar_url:p,date_of_birth:x,key_fears:y,experience_level:w,challenge_intensity:N,learning_style:k,bio:C,location:E};return te.jsx("div",{className:"flex flex-col min-h-screen",children:te.jsxs("div",{className:"max-w-2xl mx-auto p-6 bg-background rounded-lg shadow-md my-8",children:[te.jsx("h1",{className:"text-2xl font-bold mb-4 text-foreground",children:"Your Profile"}),$&&te.jsx(tg,{profile:B,onClose:()=>F(!1)}),O.text&&te.jsx("div",{className:"p-3 mb-4 rounded "+("error"===O.type?"bg-red-100 text-red-700":"bg-green-100 text-green-700"),children:O.text}),te.jsxs("div",{className:"mb-4 border border-border rounded-lg overflow-hidden",children:[te.jsxs("div",{className:"flex justify-between items-center p-4 bg-muted cursor-pointer",onClick:()=>U("basic"),children:[te.jsx("h2",{className:"text-lg font-medium text-foreground",children:"Basic Information"}),"basic"===R?te.jsx(Ue,{size:20}):te.jsx(Ke,{size:20})]}),"basic"===R&&te.jsxs("div",{className:"p-4 space-y-4",children:[te.jsx("div",{className:"mb-6 flex justify-center",children:te.jsx(eg,{url:p,size:150,onUpload:r=>{g(r),e&&t({full_name:u||"",avatar_url:r,date_of_birth:x,key_fears:y,experience_level:w,challenge_intensity:N,learning_style:k,bio:C||"",location:E||""}).then((({success:e,error:t})=>{A(e?{text:"Avatar updated successfully!",type:"success"}:{text:`Failed to save avatar: ${t}`,type:"error"})}))}})}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Full Name *"}),te.jsx("input",{type:"text",id:"fullName",name:"fullName",value:u||"",onChange:e=>h(e.target.value),className:"w-full p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-gray-900",placeholder:"Enter your full name"})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Email"}),te.jsx("input",{type:"text",id:"email",name:"email",value:m||"",disabled:!0,className:"w-full p-2 border border-gray-300 rounded bg-gray-50 text-gray-500"}),te.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"Email cannot be changed. This is your login email."})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Date of Birth"}),te.jsxs("div",{className:"relative",children:[te.jsx("input",{type:"date",id:"dateOfBirth",name:"dateOfBirth",value:x||"",onChange:e=>v(e.target.value||null),className:"w-full p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-gray-900",max:(new Date).toISOString().split("T")[0]}),te.jsx(Rt,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400 pointer-events-none"})]}),x&&te.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:ag(x,"long")})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Location"}),te.jsx("input",{type:"text",id:"location",name:"location",value:E||"",onChange:e=>P(e.target.value),className:"w-full p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-gray-900",placeholder:"City, Country"})]})]})]}),te.jsxs("div",{className:"mb-4 border border-border rounded-lg overflow-hidden",children:[te.jsxs("div",{className:"flex justify-between items-center p-4 bg-muted cursor-pointer",onClick:()=>U("courage"),children:[te.jsx("h2",{className:"text-lg font-medium text-foreground",children:"Courage Profile"}),"courage"===R?te.jsx(Ue,{size:20}):te.jsx(Ke,{size:20})]}),"courage"===R&&te.jsxs("div",{className:"p-4 space-y-4",children:[te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Key Fears"}),te.jsx(sg,{selectedFears:y,onChange:b}),te.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"Select or enter fears you want to overcome"})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Experience Level"}),te.jsxs("select",{id:"experienceLevel",name:"experienceLevel",value:w||"",onChange:e=>j(e.target.value||null),className:"w-full p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-gray-900",children:[te.jsx("option",{value:"",children:"Select your experience level"}),ng.map((e=>te.jsx("option",{value:e.value,children:e.label},e.value)))]})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Challenge Intensity Preference"}),te.jsxs("select",{id:"challengeIntensity",name:"challengeIntensity",value:N||"",onChange:e=>S(e.target.value||null),className:"w-full p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-gray-900",children:[te.jsx("option",{value:"",children:"Select challenge intensity"}),ig.map((e=>te.jsx("option",{value:e.value,children:e.label},e.value)))]})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Learning Style"}),te.jsxs("select",{id:"learningStyle",name:"learningStyle",value:k||"",onChange:e=>_(e.target.value||null),className:"w-full p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-gray-900",children:[te.jsx("option",{value:"",children:"Select your learning style"}),og.map((e=>te.jsx("option",{value:e.value,children:e.label},e.value)))]})]})]})]}),te.jsxs("div",{className:"mb-4 border border-border rounded-lg overflow-hidden",children:[te.jsxs("div",{className:"flex justify-between items-center p-4 bg-muted cursor-pointer",onClick:()=>U("about"),children:[te.jsx("h2",{className:"text-lg font-medium text-foreground",children:"About Me"}),"about"===R?te.jsx(Ue,{size:20}):te.jsx(Ke,{size:20})]}),"about"===R&&te.jsx("div",{className:"p-4 space-y-4",children:te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-1",children:"Bio"}),te.jsx("textarea",{id:"bio",name:"bio",value:C||"",onChange:e=>T(e.target.value),className:"w-full p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-gray-900",placeholder:"Tell us a bit about yourself",rows:4})]})})]}),te.jsxs("div",{className:"mb-4 border border-border rounded-lg overflow-hidden",children:[te.jsxs("div",{className:"flex justify-between items-center p-4 bg-muted cursor-pointer",onClick:()=>U("account"),children:[te.jsxs("h2",{className:"text-lg font-medium text-foreground flex items-center gap-2",children:[te.jsx(Dt,{size:18,className:"text-red-500"}),"Account Management"]}),"account"===R?te.jsx(Ue,{size:20}):te.jsx(Ke,{size:20})]}),"account"===R&&te.jsx("div",{className:"p-4 space-y-4",children:te.jsxs("div",{className:"bg-red-50 p-4 rounded-md border border-red-200",children:[te.jsx("h3",{className:"text-lg font-semibold text-red-700 mb-2",children:"Delete Account"}),te.jsx("p",{className:"text-sm text-red-600 mb-4",children:"Warning: This action cannot be undone. Deleting your account will permanently remove all your data, including profile information, fear assessments, progress data, and journal entries."}),!1,L?te.jsxs("div",{className:"space-y-3",children:[te.jsx("p",{className:"text-sm font-medium text-red-700",children:"To confirm deletion, please type DELETE in the field below:"}),te.jsx("input",{type:"text",id:"deleteConfirmText",name:"deleteConfirmText",value:M,onChange:e=>z(e.target.value),className:"w-full p-2 border border-red-300 rounded focus:ring-red-500 focus:border-red-500",placeholder:"Type DELETE to confirm"}),te.jsxs("div",{className:"flex gap-3",children:[te.jsx("button",{onClick:async function(){try{if(l(!0),A({text:"",type:""}),!e)return void n("/login");if("DELETE"!==M)return A({text:"Please type DELETE to confirm account deletion",type:"error"}),void l(!1);const{success:r,error:o,warning:c}=await s();if(!r)throw new Error(o||"Failed to delete account");i(c?{title:"Account partially deleted",description:"Your profile data has been deleted, but full account deletion requires administrator action. Please contact support.",variant:"destructive"}:{title:"Account deleted",description:"Your account has been successfully deleted."});try{localStorage.removeItem("supabase.auth.token"),await a(),window.location.href="/"}catch(t){window.location.href="/"}}catch(r){const e=r instanceof Error?r.message:"Error deleting account. Please try again.";A({text:e,type:"error"}),l(!1)}},disabled:o||"DELETE"!==M,className:"px-4 py-2 bg-red-500 text-white rounded transition-colors "+("DELETE"!==M?"opacity-50 cursor-not-allowed":"hover:bg-red-600"),children:o?"Deleting...":"Confirm Deletion"}),te.jsx("button",{onClick:()=>{I(!1),z("")},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):te.jsx("button",{onClick:()=>I(!0),className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors",children:"Delete My Account"})]})})]}),te.jsx("button",{onClick:async function(){try{if(l(!0),A({text:"",type:""}),!e)return void n("/login");if(!u.trim())return A({text:"Full name is required",type:"error"}),void l(!1);const{success:r,error:s}=await t({full_name:u.trim(),avatar_url:p,date_of_birth:x,key_fears:y.length>0?y:null,experience_level:w,challenge_intensity:N,learning_style:k,bio:C.trim()||null,location:E.trim()||null});if(!r)throw new Error(s||"Failed to update profile");A({text:"Profile updated successfully!",type:"success"})}catch(r){const e=r instanceof Error?r.message:"Error updating profile. Please try again.";A({text:e,type:"error"})}finally{l(!1)}},disabled:o,className:"w-full p-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 disabled:opacity-50 text-lg font-medium",children:o?"Saving...":"Update Profile"})]})})},cg=({errorMessage:e})=>{if(!e||!e.includes("schema")&&!e.includes("column")&&!e.includes("database"))return null;const t=e.includes("date_of_birth"),r=e.includes("age_range");return te.jsx("div",{className:"mt-4 p-4 border border-amber-300 bg-amber-50 rounded-md",children:te.jsxs("div",{className:"flex items-start",children:[te.jsx(Dt,{className:"h-5 w-5 text-amber-500 mt-0.5 mr-2 flex-shrink-0"}),te.jsxs("div",{children:[te.jsx("h3",{className:"font-medium text-amber-800",children:"Database Schema Update Required"}),te.jsx("p",{className:"mt-1 text-sm text-amber-700",children:t?te.jsxs(te.Fragment,{children:["The database needs to be updated to include the new ",te.jsx("code",{children:"date_of_birth"})," field."]}):r?te.jsxs(te.Fragment,{children:["The database schema has been partially updated. The ",te.jsx("code",{children:"age_range"})," field needs to be removed."]}):te.jsx(te.Fragment,{children:"A database schema update is required to continue."})}),te.jsxs("div",{className:"mt-3",children:[te.jsx("h4",{className:"text-sm font-medium text-amber-800",children:"How to fix:"}),te.jsxs("ol",{className:"mt-1 text-sm text-amber-700 list-decimal pl-5 space-y-1",children:[te.jsx("li",{children:"Go to your Supabase dashboard"}),te.jsx("li",{children:"Navigate to the SQL Editor"}),te.jsx("li",{children:"Create a new query"}),te.jsx("li",{children:"Copy and paste the following SQL:"})]}),te.jsx("div",{className:"mt-2 p-2 bg-gray-800 text-gray-100 rounded text-xs font-mono overflow-x-auto",children:t&&!r?te.jsx("pre",{children:"ALTER TABLE user_profiles ADD COLUMN date_of_birth DATE;"}):r&&!t?te.jsx("pre",{children:"ALTER TABLE user_profiles DROP COLUMN age_range;"}):te.jsx("pre",{children:"ALTER TABLE user_profiles ADD COLUMN date_of_birth DATE; ALTER TABLE user_profiles DROP COLUMN age_range;"})}),te.jsxs("div",{className:"mt-3 flex items-center",children:[te.jsx(Lt,{className:"h-4 w-4 text-amber-500 mr-1"}),te.jsxs("span",{className:"text-xs text-amber-700",children:["Need help? Check the ",te.jsxs("a",{href:"/DATABASE_MIGRATION.md",target:"_blank",className:"text-amber-600 hover:text-amber-800 underline inline-flex items-center",children:["migration guide",te.jsx(It,{className:"h-3 w-3 ml-0.5"})]})]})]})]})]})]})})},dg=[{value:"beginner",label:"Beginner - I'm just starting my courage journey"},{value:"intermediate",label:"Intermediate - I've faced some fears before"},{value:"advanced",label:"Advanced - I regularly push my comfort zone"},{value:"expert",label:"Expert - I help others overcome their fears"}],ug=[{value:"gentle",label:"Gentle - Small, manageable steps"},{value:"moderate",label:"Moderate - Balanced challenges"},{value:"intense",label:"Intense - Push me out of my comfort zone"},{value:"extreme",label:"Extreme - Test my limits"}],hg=[{value:"visual",label:"Visual - I learn best by seeing"},{value:"auditory",label:"Auditory - I learn best by hearing"},{value:"reading",label:"Reading - I learn best by reading"},{value:"kinesthetic",label:"Kinesthetic - I learn best by doing"}],mg=()=>te.jsxs("div",{className:"space-y-6 text-center",children:[te.jsx("div",{className:"bg-blue-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto",children:te.jsx(ut,{className:"w-10 h-10 text-blue-600"})}),te.jsx("h2",{className:"text-xl font-semibold",children:"Welcome to Be Courageous!"}),te.jsx("p",{className:"text-gray-600",children:"We're excited to help you face your fears and grow your courage. Let's set up your profile in a few easy steps."})]}),fg=({fullName:e,setFullName:t,dateOfBirth:r,setDateOfBirth:s,location:a,setLocation:n,phoneNumber:i,setPhoneNumber:o})=>te.jsxs("div",{className:"space-y-6",children:[te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),te.jsx("input",{type:"text",id:"fullName",name:"fullName",value:e,onChange:e=>t(e.target.value),className:"w-full p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-gray-900",placeholder:"Enter your full name"})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),te.jsxs("div",{className:"relative",children:[te.jsx("input",{type:"date",id:"dateOfBirth",name:"dateOfBirth",value:r||"",onChange:e=>s(e.target.value||null),className:"w-full p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-gray-900",max:(new Date).toISOString().split("T")[0]}),te.jsx(Rt,{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400 pointer-events-none"})]}),te.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Your date of birth helps us personalize your experience"})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),te.jsx("input",{type:"text",id:"location",name:"location",value:a,onChange:e=>n(e.target.value),className:"w-full p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-gray-900",placeholder:"City, Country"})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),te.jsx("input",{type:"tel",id:"phoneNumber",name:"phoneNumber",value:i,onChange:e=>o(e.target.value),className:"w-full p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-gray-900",placeholder:"(123) 456-7890"}),te.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Your phone number will help us contact you for personalized support"})]})]}),pg=({keyFears:e,setKeyFears:t,experienceLevel:r,setExperienceLevel:s,challengeIntensity:a,setChallengeIntensity:n})=>te.jsxs("div",{className:"space-y-6",children:[te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Key Fears *"}),te.jsx(sg,{selectedFears:e,onChange:t}),te.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Select or enter fears you want to overcome"})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Experience Level *"}),te.jsxs("select",{id:"experienceLevel",name:"experienceLevel",value:r||"",onChange:e=>s(e.target.value||null),className:"w-full p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-gray-900",children:[te.jsx("option",{value:"",children:"Select your experience level"}),dg.map((e=>te.jsx("option",{value:e.value,children:e.label},e.value)))]})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Challenge Intensity Preference"}),te.jsxs("select",{id:"challengeIntensity",name:"challengeIntensity",value:a||"",onChange:e=>n(e.target.value||null),className:"w-full p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-gray-900",children:[te.jsx("option",{value:"",children:"Select challenge intensity"}),ug.map((e=>te.jsx("option",{value:e.value,children:e.label},e.value)))]})]})]}),gg=({learningStyle:e,setLearningStyle:t,bio:r,setBio:s})=>te.jsxs("div",{className:"space-y-6",children:[te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Learning Style"}),te.jsxs("select",{id:"learningStyle",name:"learningStyle",value:e||"",onChange:e=>t(e.target.value||null),className:"w-full p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-gray-900",children:[te.jsx("option",{value:"",children:"Select your learning style"}),hg.map((e=>te.jsx("option",{value:e.value,children:e.label},e.value)))]})]}),te.jsxs("div",{children:[te.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bio"}),te.jsx("textarea",{id:"bio",name:"bio",value:r,onChange:e=>s(e.target.value),className:"w-full p-2 border border-gray-300 rounded focus:ring-blue-500 focus:border-blue-500 text-gray-900",placeholder:"Tell us a bit about yourself and why you want to build courage",rows:4})]})]}),xg=()=>te.jsxs("div",{className:"space-y-6 text-center",children:[te.jsx("div",{className:"bg-green-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto",children:te.jsx(ut,{className:"w-10 h-10 text-green-600"})}),te.jsx("h2",{className:"text-xl font-semibold",children:"Profile Completed!"}),te.jsx("p",{className:"text-gray-600",children:"Thanks for completing your profile. You're now ready to start your journey to becoming more courageous."}),te.jsx("p",{className:"text-gray-600 mt-4",children:'Click "Finish" to go to your personalized dashboard.'})]}),vg=[{id:1,category:"heights",question:"How do you feel when standing at a significant height?",options:[{text:"Completely comfortable",score:1,fear:"heights"},{text:"Slightly nervous",score:2,fear:"heights"},{text:"Very uncomfortable",score:3,fear:"heights"},{text:"Terrified",score:4,fear:"heights"}]},{id:2,category:"water",question:"What's your reaction to being in water or large bodies of water?",options:[{text:"I love swimming in water",score:1,fear:"water"},{text:"I'm okay near the shore",score:2,fear:"water"},{text:"I prefer to stay on the beach",score:3,fear:"water"},{text:"I avoid large bodies of water entirely",score:4,fear:"water"}]},{id:3,category:"social",question:"How do you feel about public speaking?",options:[{text:"I enjoy the spotlight",score:1,fear:"social"},{text:"I get nervous but can manage",score:2,fear:"social"},{text:"I avoid it whenever possible",score:3,fear:"social"},{text:"The thought alone makes me anxious",score:4,fear:"social"}]},{id:4,category:"confined",question:"What's your reaction to small enclosed spaces?",options:[{text:"No problem at all",score:1,fear:"confined"},{text:"Mildly uncomfortable",score:2,fear:"confined"},{text:"I start feeling anxious",score:3,fear:"confined"},{text:"I avoid them at all costs",score:4,fear:"confined"}]},{id:5,category:"extreme_sports",question:"How do you feel about extreme sports like bungee jumping?",options:[{text:"Excited to try it!",score:1,fear:"extreme_sports"},{text:"Nervous but would try with encouragement",score:2,fear:"extreme_sports"},{text:"Very reluctant",score:3,fear:"extreme_sports"},{text:"Absolutely not",score:4,fear:"extreme_sports"}]}],yg=({onComplete:e})=>{const[t,r]=Pr.useState(0),[s,a]=Pr.useState([]),[n,i]=Pr.useState(!1),[o,l]=Pr.useState([]),[c,d]=Pr.useState(!0),[u,h]=Pr.useState(!1),m=e=>{const t={};e.forEach((e=>{const{fear:r,score:s}=e.option;t[r]?(t[r].score+=s,t[r].count+=1):t[r]={fear:r,score:s,count:1}}));return Object.values(t).map((e=>({...e,score:e.score/e.count}))).sort(((e,t)=>t.score-e.score))},f=e=>e<=1.5?"from-green-500 to-green-700":e<=2.5?"from-yellow-500 to-yellow-700":e<=3.5?"from-orange-500 to-orange-700":"from-red-500 to-red-700",p=e=>{switch(e){case"heights":return"Fear of heights (acrophobia)";case"water":return"Fear of water (aquaphobia)";case"social":return"Social anxiety or fear of judgment";case"confined":return"Fear of enclosed spaces (claustrophobia)";case"extreme_sports":return"Fear of extreme sports or activities";default:return e}},g=e=>{switch(e){case"heights":return"Gradually build comfort with heights through rock climbing or zip-lining activities.";case"water":return"Try supervised swimming lessons or shallow water activities to build confidence.";case"social":return"Join small group activities or workshops to practice social interaction in a supportive environment.";case"confined":return"Practice relaxation techniques in progressively smaller spaces with easy exit options.";case"extreme_sports":return"Start with low-risk extreme sports and gradually progress to more challenging activities.";default:return"We have custom activities that can help you face this fear gradually."}};return te.jsx("div",{className:"bg-white rounded-lg p-6 shadow-md",children:n?te.jsxs("div",{className:"transform transition-all duration-300 "+(c?"translate-y-0 opacity-100":"translate-y-4 opacity-0"),children:[te.jsxs("div",{className:"text-center mb-6",children:[te.jsx(ke,{size:48,className:"mx-auto mb-2 text-blue-500"}),te.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Your Fear Profile"}),te.jsx("p",{className:"text-gray-600",children:"Based on your answers, here are the areas where you might benefit from courage-building activities:"})]}),te.jsx("div",{className:"space-y-6 mb-8",children:o.slice(0,3).map(((e,t)=>{return te.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200 transition-all hover:border-blue-300 hover:bg-gray-100",style:{animationDelay:.1*t+"s"},children:[te.jsxs("div",{className:"flex justify-between items-center mb-2",children:[te.jsx("h4",{className:"font-semibold text-gray-800",children:p(e.fear)}),te.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium bg-gradient-to-r ${f(e.score)} text-white`,children:(r=e.score,r<=1.5?"Minimal":r<=2.5?"Mild":r<=3.5?"Moderate":"Significant")})]}),te.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-4",children:te.jsx("div",{className:`h-2.5 rounded-full bg-gradient-to-r ${f(e.score)}`,style:{width:e.score/4*100+"%"}})}),te.jsx("p",{className:"text-gray-600 text-sm",children:g(e.fear)})]},e.fear);var r}))}),te.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-4 mb-6",children:[te.jsxs("h4",{className:"font-semibold text-blue-700 mb-2 flex items-center",children:[te.jsx(Pt,{size:20,className:"mr-2"}),"Next Steps"]}),te.jsx("p",{className:"text-gray-600 text-sm",children:"Now that you understand your fear profile, we'll use this information to personalize your courage journey. Our app will recommend activities designed specifically to help you build courage in these areas."})]}),te.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[te.jsx(Md,{variant:"default",className:"w-full py-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold",onClick:()=>{const t=o.slice(0,3);e(t)},children:"Continue"}),te.jsx(Md,{variant:"outline",className:"w-full py-2 border-gray-300 text-gray-700 hover:bg-gray-100",onClick:()=>{h(!0),setTimeout((()=>{h(!1),r(0),a([]),i(!1),d(!0)}),300)},children:"Retake Quiz"})]})]}):te.jsxs("div",{className:"transform transition-all duration-300 "+(c&&!u?"translate-y-0 opacity-100":"translate-y-4 opacity-0"),children:[te.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mb-6",children:te.jsx("div",{className:"h-1.5 rounded-full bg-gradient-to-r from-blue-500 to-green-500 transition-all duration-500",style:{width:(t+1)/vg.length*100+"%"}})}),te.jsxs("div",{className:"mb-2 text-sm text-gray-500",children:["Question ",t+1," of ",vg.length]}),te.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-6",children:vg[t].question}),te.jsx("div",{className:"space-y-3",children:vg[t].options.map(((e,n)=>te.jsx("button",{className:"w-full p-4 text-left bg-gray-50 hover:bg-gray-100 border border-gray-200 hover:border-blue-300 rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500",onClick:()=>(e=>{a([...s,{questionId:vg[t].id,option:e}]),h(!0),setTimeout((()=>{if(h(!1),t===vg.length-1){const r=[...s,{questionId:vg[t].id,option:e}],a=m(r);l(a),i(!0)}else r(t+1);d(!0)}),300)})(e),children:te.jsxs("div",{className:"flex items-center",children:[te.jsx("div",{className:"w-6 h-6 rounded-full border-2 flex items-center justify-center mr-3 text-xs transition-colors "+(1===e.score?"bg-green-50 border-green-500 text-green-700":2===e.score?"bg-yellow-50 border-yellow-500 text-yellow-700":3===e.score?"bg-orange-50 border-orange-500 text-orange-700":"bg-red-50 border-red-500 text-red-700"),children:e.score}),te.jsx("span",{className:"text-gray-800",children:e.text})]})},n)))})]})})},bg=()=>{const{user:e,updateProfile:t,getUserProfile:r}=Rd(),s=Ir(),{toast:a}=as(),[n,i]=Pr.useState(0),[o,l]=Pr.useState(!1),[c,d]=Pr.useState(null),[u,h]=Pr.useState(""),[m,f]=Pr.useState(null),[p,g]=Pr.useState(""),[x,v]=Pr.useState(""),[y,b]=Pr.useState([]),[w,j]=Pr.useState(null),[N,S]=Pr.useState(null),[k,_]=Pr.useState(null),[C,T]=Pr.useState(""),[E,P]=Pr.useState([]);Pr.useEffect((()=>{(async()=>{if(e)try{l(!0);const{data:e,error:t}=await r();if(t)return;e&&(e.full_name&&h(e.full_name),e.date_of_birth&&f(e.date_of_birth),e.key_fears&&Array.isArray(e.key_fears)&&b(e.key_fears),e.experience_level&&j(e.experience_level),e.challenge_intensity&&S(e.challenge_intensity),e.learning_style&&_(e.learning_style),e.bio&&T(e.bio),e.location&&g(e.location),e.phone_number&&v(e.phone_number),e.profile_completed&&(a({title:"Profile already set up",description:"You're all set! Redirecting to your dashboard."}),s("/dashboard")))}catch(t){}finally{l(!1)}})()}),[e,r,s,a]);const O=[{title:"Welcome to Be Courageous",description:"Let's set up your profile to personalize your courage journey",component:te.jsx(mg,{}),isValid:()=>!0},{title:"Basic Information",description:"Tell us who you are",component:te.jsx(fg,{fullName:u,setFullName:h,dateOfBirth:m,setDateOfBirth:f,location:p,setLocation:g,phoneNumber:x,setPhoneNumber:v}),isValid:()=>!!u.trim()},{title:"Your Courage Profile",description:"Tell us about your fears and preferences",component:te.jsx(pg,{keyFears:y,setKeyFears:b,experienceLevel:w,setExperienceLevel:j,challengeIntensity:N,setChallengeIntensity:S}),isValid:()=>!!w},{title:"Learning & Final Details",description:"Almost done! Tell us how you learn best",component:te.jsx(gg,{learningStyle:k,setLearningStyle:_,bio:C,setBio:T}),isValid:()=>!0},{title:"Fear Assessment",description:"Let's understand your fears better to personalize your journey",component:te.jsx(yg,{onComplete:e=>{P(e);const t=e.slice(0,3).map((e=>e.fear));b(t),i(n+1)}}),isValid:()=>!0},{title:"Ready to Start Your Journey",description:"You're all set to begin your courage journey!",component:te.jsx(xg,{}),isValid:()=>!0}],A=async()=>{try{l(!0),d(null);const r=E.length>0?{timestamp:(new Date).toISOString(),results:E}:null,n={full_name:u.trim(),date_of_birth:m,key_fears:y,experience_level:w,challenge_intensity:N,learning_style:k,bio:C.trim()||null,location:p.trim()||null,phone_number:x.trim()||null,fear_assessment_results:r,last_assessment:r?(new Date).toISOString():null};if(!u.trim())return d("Full name is required"),void l(!1);const{data:{user:i}}=await jd.auth.getUser();if(!i)return d("You must be logged in to complete onboarding. Please log in again."),l(!1),void setTimeout((()=>s("/login")),2e3);const{success:o,error:c}=await t(n,!0);if(o){let t=!1;try{const{data:{user:e}}=await jd.auth.getUser();if(!e)throw new Error("User not found for Airtable sync");const r=new Promise(((e,t)=>setTimeout((()=>t(new Error("Airtable sync timed out"))),15e3))),s=Gh(e.id);(await Promise.race([s,r])).success&&(t=!0)}catch(e){}setTimeout((()=>{a({title:"Onboarding completed!",description:t?"Your profile has been set up successfully and synced to our systems.":"Your profile has been set up successfully. Data sync is pending."}),t||a({title:"Note about data sync",description:"Your data will be synced to our analytics system later. This doesn't affect your ability to use the app.",variant:"default"}),s("/dashboard")}),1e3)}else c&&c.includes('column "date_of_birth" does not exist')?d("Database schema needs to be updated. Please apply the schema changes in update_schema.sql."):c&&c.includes('column "age_range" does not exist')?d("Database schema has been partially updated. Please complete the schema changes."):d(`Failed to save your profile: ${c||"Unknown error"}`)}catch(r){const e=(null==r?void 0:r.message)||"Unknown error occurred";d(`Failed to save your profile: ${e}. Please try again.`),null==r||r.code,null==r||r.details}finally{l(!1)}},R=O[n],D=n/(O.length-1)*100;return o&&0===n?te.jsx("div",{className:"flex justify-center items-center min-h-screen",children:te.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):te.jsx("div",{className:"max-w-2xl mx-auto p-6 my-8",children:te.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[te.jsx("div",{className:"w-full bg-gray-200 h-2",children:te.jsx("div",{className:"bg-blue-600 h-2 transition-all duration-300 ease-in-out",style:{width:`${D}%`}})}),te.jsxs("div",{className:"p-6",children:[te.jsxs("div",{className:"mb-6",children:[te.jsx("h1",{className:"text-xl font-bold text-gray-800",children:R.title}),te.jsx("p",{className:"text-gray-600 mt-1",children:R.description})]}),c&&te.jsxs("div",{className:"p-3 mb-4 bg-red-100 text-red-700 rounded",children:[c,te.jsx(cg,{errorMessage:c})]}),te.jsx("div",{className:"my-6",children:R.component}),4!==n&&te.jsxs("div",{className:"flex justify-between mt-8",children:[te.jsxs("button",{onClick:()=>{n>0&&(i(n-1),d(null))},disabled:0===n,className:"flex items-center px-4 py-2 rounded "+(0===n?"opacity-50 cursor-not-allowed bg-gray-200 text-gray-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[te.jsx(Mt,{size:16,className:"mr-2"}),"Back"]}),te.jsx("button",{onClick:()=>{if(n===O.length-1)A();else if(O[n].isValid()){if(4===n)return;i(n+1)}else d("Please complete all required fields before proceeding.")},disabled:o,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:o?te.jsxs("span",{className:"flex items-center",children:[te.jsx("span",{className:"animate-spin h-4 w-4 mr-2 border-t-2 border-b-2 border-white rounded-full"}),"Processing..."]}):te.jsxs(te.Fragment,{children:[n===O.length-1?"Finish":"Next",n!==O.length-1&&te.jsx(Ge,{size:16,className:"ml-2"})]})})]})]})]})})},wg=()=>{const e=zr();return Pr.useEffect((()=>{}),[e.pathname]),te.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:te.jsxs("div",{className:"text-center",children:[te.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),te.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),te.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},jg=[{id:"small_group_workshop",title:"Small Group Social Skills Workshop",description:"Learn and practice social skills in a small, supportive group environment.",imageUrl:"https://images.unsplash.com/photo-1515169067868-5387ec356754?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1600&q=80",fearCategories:["social"],difficultyLevel:"beginner",safety:"Trained facilitators, confidential setting, and supportive group guidelines.",costRange:"medium",location:"Community center or therapy office",locations:[Oh.seattle,Oh.san_francisco,Oh.boulder,Oh.new_york],timeCommitment:"1-3_hours",indoorOutdoor:"indoor",minGroupSize:3,maxGroupSize:8,minimumAge:16,physicalDemand:"low",weatherDependent:!1,progression:"networking_event"},{id:"networking_event",title:"Guided Networking Event",description:"Attend a networking event with pre-event coaching and on-site support.",imageUrl:"https://images.unsplash.com/photo-1511795409834-ef04bbd61622?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1600&q=80",fearCategories:["social"],difficultyLevel:"intermediate",safety:"Pre-event preparation, on-site support person, and structured conversation starters.",costRange:"medium",location:"Conference center or hotel",locations:[Oh.seattle,Oh.san_francisco,Oh.boulder,Oh.new_york,Oh.chicago],timeCommitment:"1-3_hours",indoorOutdoor:"indoor",minGroupSize:1,maxGroupSize:3,minimumAge:18,physicalDemand:"low",weatherDependent:!1,progression:"public_performance"}],Ng=[{id:"escape_room_beginner",title:"Beginner-Friendly Escape Room",description:"Solve puzzles in a spacious escape room with multiple exits and no locked doors.",imageUrl:"https://images.unsplash.com/photo-1511882150382-421056c89033?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1600&q=80",fearCategories:["confined"],difficultyLevel:"beginner",safety:"Multiple exits, staff monitoring, and ability to leave at any time.",costRange:"medium",location:"Escape room facility",locations:[Oh.seattle,Oh.san_francisco,Oh.boulder,Oh.new_york,Oh.chicago],timeCommitment:"1-3_hours",indoorOutdoor:"indoor",minGroupSize:2,maxGroupSize:6,minimumAge:12,physicalDemand:"low",weatherDependent:!1,progression:"advanced_escape_room"}],Sg=[...[{id:"beginner_rock_climbing",title:"Indoor Rock Climbing (Beginner)",description:"Start with low walls and expert guidance in a controlled indoor environment.",imageUrl:"/images/pexels-cottonbro-6689613.jpg",fearCategories:["heights"],difficultyLevel:"beginner",safety:"Complete harness system, crash pads, and certified instructors ensure maximum safety.",costRange:"low",location:"Indoor climbing gym",locations:[Oh.boulder,Oh.seattle,Oh.san_francisco],timeCommitment:"1-3_hours",indoorOutdoor:"indoor",minGroupSize:1,maxGroupSize:10,minimumAge:8,physicalDemand:"moderate",weatherDependent:!1,progression:"zip_lining"},{id:"zip_lining",title:"Beginner Zip Lining",description:"Glide through the air on cables stretched between points of different heights in a controlled environment.",imageUrl:"/images/zipline.jpg",fearCategories:["heights"],difficultyLevel:"easy",safety:"Double-clipped safety lines, professional guides, and comprehensive safety briefing.",costRange:"medium",location:"Zip line course",locations:[Oh.costa_rica,Oh.vancouver,Oh.boulder],timeCommitment:"half_day",indoorOutdoor:"outdoor",minGroupSize:2,maxGroupSize:12,minimumAge:10,physicalDemand:"low",weatherDependent:!0,seasonalAvailability:["spring","summer","fall"],progression:"rope_swings"},{id:"rope_swings",title:"Canyon Rope Swing",description:"Swing from towering heights over canyons or valleys with professional equipment and guidance.",imageUrl:"/images/ropse-swing.jpg",fearCategories:["heights"],difficultyLevel:"moderate",safety:"Multiple attachment points, redundant systems, and supervision by experienced adventure specialists.",costRange:"medium",location:"Canyon or valley",locations:[Oh.moab,Oh.grand_canyon],timeCommitment:"half_day",indoorOutdoor:"outdoor",minGroupSize:2,maxGroupSize:8,minimumAge:14,physicalDemand:"moderate",weatherDependent:!0,seasonalAvailability:["spring","summer","fall"],progression:"bungee_jumping"},{id:"bungee_jumping",title:"Bungee Jumping",description:"Take a leap of faith from great heights with nothing but a bungee cord to catch you.",imageUrl:"https://images.pexels.com/photos/26811613/pexels-photo-26811613/free-photo-of-man-jumping-bungee.jpeg?auto=compress&cs=tinysrgb&w=800",alternateImageUrl:"https://images.unsplash.com/photo-1544637784-a0d8166f82b5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1600&q=80",fearCategories:["heights"],difficultyLevel:"challenging",safety:"Professional equipment tested to withstand 10 times your weight, comprehensive medical checks, and professional supervision.",costRange:"high",location:"Bungee platform",locations:[Oh.new_zealand,Oh.interlaken],timeCommitment:"half_day",indoorOutdoor:"outdoor",minGroupSize:2,maxGroupSize:8,minimumAge:18,physicalDemand:"high",weatherDependent:!0,seasonalAvailability:["spring","summer","fall"],progression:"hang_gliding"},{id:"hang_gliding",title:"Tandem Hang Gliding",description:"Soar like a bird and experience the freedom of unpowered flight with an experienced pilot.",imageUrl:"https://images.pexels.com/photos/9532461/pexels-photo-9532461.jpeg?auto=compress&cs=tinysrgb&w=800",alternateImageUrl:"https://images.unsplash.com/photo-1552673490-cf08bf9c2bdc?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1600&q=80",fearCategories:["heights"],difficultyLevel:"challenging",safety:"Tandem flights with experienced pilots, modern gliders with redundant safety systems, and full certification.",costRange:"high",location:"Mountain launch site",locations:[Oh.interlaken,Oh.new_zealand,Oh.yosemite],timeCommitment:"half_day",indoorOutdoor:"outdoor",minGroupSize:1,maxGroupSize:4,minimumAge:16,physicalDemand:"moderate",weatherDependent:!0,seasonalAvailability:["spring","summer","fall"],progression:"outdoor_rock_climbing"},{id:"outdoor_rock_climbing",title:"Outdoor Rock Climbing",description:"Scale natural rock formations and push your mental and physical limits with professional guidance.",imageUrl:"https://images.unsplash.com/photo-1522079803432-e0b7649dc1de?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1600&q=80",fearCategories:["heights"],difficultyLevel:"challenging",safety:"Professional guide, redundant safety systems, and pre-planned routes.",costRange:"high",location:"Natural rock formations",locations:[Oh.yosemite,Oh.boulder,Oh.moab],timeCommitment:"full_day",indoorOutdoor:"outdoor",minGroupSize:2,maxGroupSize:4,minimumAge:16,physicalDemand:"high",weatherDependent:!0,seasonalAvailability:["spring","summer","fall"],progression:"tandem_base_jumping"},{id:"tandem_base_jumping",title:"Tandem Base Jumping",description:"Experience the thrill of jumping from fixed objects with a parachute while securely attached to an expert.",imageUrl:"https://images.pexels.com/photos/11049262/pexels-photo-11049262.jpeg?auto=compress&cs=tinysrgb&w=800",alternateImageUrl:"https://images.unsplash.com/photo-1552938514-d1e514d0de4b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1600&q=80",fearCategories:["heights"],difficultyLevel:"difficult",safety:"Tandem jumps with world-class base jumpers having 500+ jumps, modern equipment with redundant systems, and comprehensive safety briefing.",costRange:"premium",location:"Base jumping site",locations:[Oh.moab,Oh.new_zealand],timeCommitment:"full_day",indoorOutdoor:"outdoor",minGroupSize:1,maxGroupSize:3,minimumAge:18,physicalDemand:"high",weatherDependent:!0,seasonalAvailability:["summer"],progression:"wing_walking"},{id:"wing_walking",title:"Wing Walking Experience",description:"Stand and walk on the wings of a flying biplane for the ultimate height challenge.",imageUrl:"https://images.pexels.com/photos/30871452/pexels-photo-30871452/free-photo-of-airplane-wing-view-at-sunset.jpeg?auto=compress&cs=tinysrgb&w=800",alternateImageUrl:"https://images.unsplash.com/photo-1600337958117-55efa5aaee4f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1600&q=80",fearCategories:["heights"],difficultyLevel:"difficult",safety:"Professional harness system, experienced pilots, comprehensive safety briefing, and strict weather protocols.",costRange:"premium",location:"Airfield",locations:[Oh.san_francisco,Oh.new_zealand],timeCommitment:"half_day",indoorOutdoor:"outdoor",minGroupSize:1,maxGroupSize:3,minimumAge:18,physicalDemand:"high",weatherDependent:!0,seasonalAvailability:["spring","summer"],progression:""}],...Ah,...jg,...Ng],kg={beginner:"Beginner",easy:"Easy",moderate:"Moderate",challenging:"Challenging",difficult:"Difficult"},_g={beginner:"bg-green-100 text-green-800",easy:"bg-blue-100 text-blue-800",moderate:"bg-yellow-100 text-yellow-800",challenging:"bg-orange-100 text-orange-800",difficult:"bg-red-100 text-red-800"},Cg={free:"Free",low:"$",medium:"$$",high:"$$$",premium:"$$$$"},Tg={under_1_hour:"Under 1 hour","1-3_hours":"1-3 hours",half_day:"Half day",full_day:"Full day",multi_day:"Multiple days"},Eg=(e,t)=>{const r=[...e];switch(t){case"alphabetical":return r.sort(((e,t)=>e.title.localeCompare(t.title)));case"difficulty_asc":return r.sort(((e,t)=>{const r=["beginner","easy","moderate","challenging","difficult"];return r.indexOf(e.difficultyLevel)-r.indexOf(t.difficultyLevel)}));case"difficulty_desc":return r.sort(((e,t)=>{const r=["beginner","easy","moderate","challenging","difficult"];return r.indexOf(t.difficultyLevel)-r.indexOf(e.difficultyLevel)}));default:return r}},Pg=Pr.createContext(void 0),Og="beginner",Ag="beginner",Rg="medium",Dg="medium",Lg="half_day",Ig="half_day",Mg="both",zg={fearCategories:[],maxDifficulty:null,maxTimeCommitment:null,indoorOutdoor:null},$g=e=>{if(!e)return 0;switch(e){case"beginner":return 1;case"easy":return 2;case"moderate":return 3;case"challenging":return 4;case"difficult":return 5;default:return 0}},Fg=({children:e})=>{const{user:t}=Rd(),[r,s]=Pr.useState(null),[a,n]=Pr.useState([]),[i,o]=Pr.useState([]),[l,c]=Pr.useState(!0),[d,u]=Pr.useState(zg),[h,m]=Pr.useState("recommended"),[f,p]=Pr.useState(""),[g,x]=Pr.useState("grid"),[v,y]=Pr.useState(null),b=Pr.useCallback((async()=>{c(!0);try{if(!t)return;const{data:e,error:r}=await jd.from("user_profiles").select("key_fears, experience_level, location").eq("user_id",t.id).single();if(r)throw r;if(e){const t={fearCategories:e.key_fears||[],maxDifficulty:S(e.experience_level)||Og,preferredDifficulty:S(e.experience_level)||Ag,maxCost:Rg,costRange:Dg,maxTimeCommitment:Lg,timeCommitment:Ig,indoorOutdoorPreference:Mg};s(t),u({...zg,fearCategories:t.fearCategories}),k()}}catch(e){}finally{c(!1)}}),[t]),w=Pr.useCallback((async()=>{try{if(!t)return;try{const{data:e,error:r}=await jd.from("fear_assessments").select("*").eq("user_id",t.id).order("timestamp",{ascending:!1}).limit(1).single();if(r)r.code;else if(e)return void y(e)}catch(e){}const{data:r,error:s}=await jd.from("user_profiles").select("key_fears, last_assessment").eq("user_id",t.id).single();if(s)return;if(r&&r.key_fears&&Array.isArray(r.key_fears)&&r.key_fears.length>0){const e={user_id:t.id,timestamp:r.last_assessment||(new Date).toISOString(),fears:r.key_fears.map((e=>({category:e,score:5,notes:""})))};y(e)}}catch(r){}}),[t]);Pr.useEffect((()=>{t?(b(),w()):(s(null),n([]),o([]),y(null))}),[t,b,w]);const j=Pr.useCallback((()=>{try{if(!a||!Array.isArray(a))return void o([]);let r=[...a];switch(d.fearCategories.length>0&&(r=r.filter((e=>e.fearCategories.some((e=>d.fearCategories.includes(e)))))),d.maxDifficulty&&(r=((e,t)=>{const r=["beginner","easy","moderate","challenging","difficult"],s=r.indexOf(t);return e.filter((e=>r.indexOf(e.difficultyLevel)<=s))})(r,d.maxDifficulty)),d.maxTimeCommitment&&(r=((e,t)=>{const r=["under_1_hour","1-3_hours","half_day","full_day","multi_day"],s=r.indexOf(t);return e.filter((e=>r.indexOf(e.timeCommitment)<=s))})(r,d.maxTimeCommitment)),d.indoorOutdoor&&(e=r,r="both"===(t=d.indoorOutdoor)?e:e.filter((e=>"indoor"===t?"indoor"===e.indoorOutdoor:"outdoor"===e.indoorOutdoor))),f&&(r=((e,t)=>{if(!t||""===t.trim())return e;const r=t.toLowerCase().trim();return e.filter((e=>e.title.toLowerCase().includes(r)||e.description.toLowerCase().includes(r)||e.fearCategories.some((e=>e.toLowerCase().includes(r)))||e.locations.some((e=>e.name.toLowerCase().includes(r)))))})(r,f)),h){case"alphabetical":r=Eg(r,"name");break;case"difficulty_asc":case"difficulty_desc":r=Eg(r,"difficulty");break;case"recommended":r=[...r].sort(((e,t)=>(t.matchScore||0)-(e.matchScore||0)))}o(r)}catch(r){o(a)}var e,t}),[d,f,h,a]);Pr.useEffect((()=>{j()}),[d,f,h,a,j]);const N=Pr.useCallback((async()=>{await b(),await w()}),[b,w]),S=Pr.useCallback((e=>{switch(e){case"novice":default:return"beginner";case"intermediate":return"moderate";case"experienced":return"challenging";case"expert":return"difficult"}}),[]),k=Pr.useCallback((async()=>{if(Sg&&0!==Sg.length)try{const e=Sg.map((e=>{if(!e)return null;try{const t=C(e);return{...e,matchScore:t}}catch(t){return{...e,matchScore:0}}})).filter(Boolean).sort(((e,t)=>(t.matchScore||0)-(e.matchScore||0)));n(e)}catch(e){n(Sg)}else n([])}),[]),_=Pr.useCallback((e=>{if(!v||!v.fears)return 0;if(!e||!e.fearCategories)return 0;try{if(!Array.isArray(v.fears))return 0;const t=e.fearCategories||[];if(0===t.length)return 0;let r=0,s=0;for(const e of t){if(!e)continue;const t=v.fears.find((t=>t&&"object"==typeof t&&t.category===e));t&&"number"==typeof t.score&&(r+=t.score,s++)}return s?r/s:0}catch(t){return 0}}),[v]),C=Pr.useCallback((e=>{if(!e)return 0;if(!r)return.5;try{let t=0;const s={fearMatch:4,difficulty:2,location:1.5,time:1},a=_(e),n=e.difficultyLevel||"beginner",i=r.preferredDifficulty||r.maxDifficulty,o=n===i?1:i&&Math.abs($g(n)-$g(i))<=1?.5:0;let l=0;e.location&&Array.isArray(r.preferredLocations)&&r.preferredLocations.length>0&&(l=r.preferredLocations.some((t=>t&&e.location&&e.location.includes(t)))?1:0);const c=e.timeCommitment||"half_day",d=c===(r.timeCommitment||r.maxTimeCommitment)?1:.5;return t=(a*s.fearMatch+o*s.difficulty+l*s.location+d*s.time)/(s.fearMatch+s.difficulty+s.location+s.time),Math.max(0,Math.min(1,t))}catch(t){return 0}}),[r,_]);return te.jsx(Pg.Provider,{value:{userPreferences:r,matchedActivities:a,filteredActivities:i,isLoading:l,activeFilters:d,searchTerm:f,sortOrder:h,viewMode:g,fearAssessmentData:v,setActiveFilters:e=>u({...d,...e}),setSearchTerm:p,setSortOrder:m,setViewMode:x,refreshUserPreferences:N},children:e})},Ug=()=>{const e=Pr.useContext(Pg);if(void 0===e)throw new Error("useActivityMatcher must be used within an ActivityMatcherProvider");return e};var Bg="ScrollArea",[Hg,qg]=Q(Bg),[Wg,Gg]=Hg(Bg),Vg=Pr.forwardRef(((e,t)=>{const{__scopeScrollArea:r,type:s="hover",dir:a,scrollHideDelay:n=600,...i}=e,[o,l]=Pr.useState(null),[c,d]=Pr.useState(null),[u,h]=Pr.useState(null),[m,f]=Pr.useState(null),[p,g]=Pr.useState(null),[x,v]=Pr.useState(0),[y,b]=Pr.useState(0),[w,j]=Pr.useState(!1),[N,S]=Pr.useState(!1),k=ee(t,(e=>l(e))),_=Fe(a);return te.jsx(Wg,{scope:r,type:s,dir:_,scrollHideDelay:n,scrollArea:o,viewport:c,onViewportChange:d,content:u,onContentChange:h,scrollbarX:m,onScrollbarXChange:f,scrollbarXEnabled:w,onScrollbarXEnabledChange:j,scrollbarY:p,onScrollbarYChange:g,scrollbarYEnabled:N,onScrollbarYEnabledChange:S,onCornerWidthChange:v,onCornerHeightChange:b,children:te.jsx(se.div,{dir:_,...i,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})}));Vg.displayName=Bg;var Yg="ScrollAreaViewport",Kg=Pr.forwardRef(((e,t)=>{const{__scopeScrollArea:r,children:s,nonce:a,...n}=e,i=Gg(Yg,r),o=Pr.useRef(null),l=ee(t,o,i.onViewportChange);return te.jsxs(te.Fragment,{children:[te.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),te.jsx(se.div,{"data-radix-scroll-area-viewport":"",...n,ref:l,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:te.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})}));Kg.displayName=Yg;var Jg="ScrollAreaScrollbar",Xg=Pr.forwardRef(((e,t)=>{const{forceMount:r,...s}=e,a=Gg(Jg,e.__scopeScrollArea),{onScrollbarXEnabledChange:n,onScrollbarYEnabledChange:i}=a,o="horizontal"===e.orientation;return Pr.useEffect((()=>(o?n(!0):i(!0),()=>{o?n(!1):i(!1)})),[o,n,i]),"hover"===a.type?te.jsx(Qg,{...s,ref:t,forceMount:r}):"scroll"===a.type?te.jsx(Zg,{...s,ref:t,forceMount:r}):"auto"===a.type?te.jsx(ex,{...s,ref:t,forceMount:r}):"always"===a.type?te.jsx(tx,{...s,ref:t}):null}));Xg.displayName=Jg;var Qg=Pr.forwardRef(((e,t)=>{const{forceMount:r,...s}=e,a=Gg(Jg,e.__scopeScrollArea),[n,i]=Pr.useState(!1);return Pr.useEffect((()=>{const e=a.scrollArea;let t=0;if(e){const r=()=>{window.clearTimeout(t),i(!0)},s=()=>{t=window.setTimeout((()=>i(!1)),a.scrollHideDelay)};return e.addEventListener("pointerenter",r),e.addEventListener("pointerleave",s),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",r),e.removeEventListener("pointerleave",s)}}}),[a.scrollArea,a.scrollHideDelay]),te.jsx(ne,{present:r||n,children:te.jsx(ex,{"data-state":n?"visible":"hidden",...s,ref:t})})})),Zg=Pr.forwardRef(((e,t)=>{const{forceMount:r,...s}=e,a=Gg(Jg,e.__scopeScrollArea),n="horizontal"===e.orientation,i=bx((()=>l("SCROLL_END")),100),[o,l]=(c="hidden",d={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},Pr.useReducer(((e,t)=>d[e][t]??e),c));var c,d;return Pr.useEffect((()=>{if("idle"===o){const e=window.setTimeout((()=>l("HIDE")),a.scrollHideDelay);return()=>window.clearTimeout(e)}}),[o,a.scrollHideDelay,l]),Pr.useEffect((()=>{const e=a.viewport,t=n?"scrollLeft":"scrollTop";if(e){let r=e[t];const s=()=>{const s=e[t];r!==s&&(l("SCROLL"),i()),r=s};return e.addEventListener("scroll",s),()=>e.removeEventListener("scroll",s)}}),[a.viewport,n,l,i]),te.jsx(ne,{present:r||"hidden"!==o,children:te.jsx(tx,{"data-state":"hidden"===o?"hidden":"visible",...s,ref:t,onPointerEnter:ie(e.onPointerEnter,(()=>l("POINTER_ENTER"))),onPointerLeave:ie(e.onPointerLeave,(()=>l("POINTER_LEAVE")))})})})),ex=Pr.forwardRef(((e,t)=>{const r=Gg(Jg,e.__scopeScrollArea),{forceMount:s,...a}=e,[n,i]=Pr.useState(!1),o="horizontal"===e.orientation,l=bx((()=>{if(r.viewport){const e=r.viewport.offsetWidth<r.viewport.scrollWidth,t=r.viewport.offsetHeight<r.viewport.scrollHeight;i(o?e:t)}}),10);return wx(r.viewport,l),wx(r.content,l),te.jsx(ne,{present:s||n,children:te.jsx(tx,{"data-state":n?"visible":"hidden",...a,ref:t})})})),tx=Pr.forwardRef(((e,t)=>{const{orientation:r="vertical",...s}=e,a=Gg(Jg,e.__scopeScrollArea),n=Pr.useRef(null),i=Pr.useRef(0),[o,l]=Pr.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=fx(o.viewport,o.content),d={...s,sizes:o,onSizesChange:l,hasThumb:Boolean(c>0&&c<1),onThumbChange:e=>n.current=e,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:e=>i.current=e};function u(e,t){return function(e,t,r,s="ltr"){const a=px(r),n=a/2,i=t||n,o=a-i,l=r.scrollbar.paddingStart+i,c=r.scrollbar.size-r.scrollbar.paddingEnd-o,d=r.content-r.viewport,u="ltr"===s?[0,d]:[-1*d,0];return xx([l,c],u)(e)}(e,i.current,o,t)}return"horizontal"===r?te.jsx(rx,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&n.current){const e=gx(a.viewport.scrollLeft,o,a.dir);n.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{a.viewport&&(a.viewport.scrollLeft=e)},onDragScroll:e=>{a.viewport&&(a.viewport.scrollLeft=u(e,a.dir))}}):"vertical"===r?te.jsx(sx,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&n.current){const e=gx(a.viewport.scrollTop,o);n.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{a.viewport&&(a.viewport.scrollTop=e)},onDragScroll:e=>{a.viewport&&(a.viewport.scrollTop=u(e))}}):null})),rx=Pr.forwardRef(((e,t)=>{const{sizes:r,onSizesChange:s,...a}=e,n=Gg(Jg,e.__scopeScrollArea),[i,o]=Pr.useState(),l=Pr.useRef(null),c=ee(t,l,n.onScrollbarXChange);return Pr.useEffect((()=>{l.current&&o(getComputedStyle(l.current))}),[l]),te.jsx(ix,{"data-orientation":"horizontal",...a,ref:c,sizes:r,style:{bottom:0,left:"rtl"===n.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===n.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":px(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,r)=>{if(n.viewport){const s=n.viewport.scrollLeft+t.deltaX;e.onWheelScroll(s),vx(s,r)&&t.preventDefault()}},onResize:()=>{l.current&&n.viewport&&i&&s({content:n.viewport.scrollWidth,viewport:n.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:mx(i.paddingLeft),paddingEnd:mx(i.paddingRight)}})}})})),sx=Pr.forwardRef(((e,t)=>{const{sizes:r,onSizesChange:s,...a}=e,n=Gg(Jg,e.__scopeScrollArea),[i,o]=Pr.useState(),l=Pr.useRef(null),c=ee(t,l,n.onScrollbarYChange);return Pr.useEffect((()=>{l.current&&o(getComputedStyle(l.current))}),[l]),te.jsx(ix,{"data-orientation":"vertical",...a,ref:c,sizes:r,style:{top:0,right:"ltr"===n.dir?0:void 0,left:"rtl"===n.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":px(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,r)=>{if(n.viewport){const s=n.viewport.scrollTop+t.deltaY;e.onWheelScroll(s),vx(s,r)&&t.preventDefault()}},onResize:()=>{l.current&&n.viewport&&i&&s({content:n.viewport.scrollHeight,viewport:n.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:mx(i.paddingTop),paddingEnd:mx(i.paddingBottom)}})}})})),[ax,nx]=Hg(Jg),ix=Pr.forwardRef(((e,t)=>{const{__scopeScrollArea:r,sizes:s,hasThumb:a,onThumbChange:n,onThumbPointerUp:i,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:u,...h}=e,m=Gg(Jg,r),[f,p]=Pr.useState(null),g=ee(t,(e=>p(e))),x=Pr.useRef(null),v=Pr.useRef(""),y=m.viewport,b=s.content-s.viewport,w=oe(d),j=oe(l),N=bx(u,10);function S(e){if(x.current){const t=e.clientX-x.current.left,r=e.clientY-x.current.top;c({x:t,y:r})}}return Pr.useEffect((()=>{const e=e=>{const t=e.target;(null==f?void 0:f.contains(t))&&w(e,b)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})}),[y,f,b,w]),Pr.useEffect(j,[s,j]),wx(f,N),wx(m.content,N),te.jsx(ax,{scope:r,scrollbar:f,hasThumb:a,onThumbChange:oe(n),onThumbPointerUp:oe(i),onThumbPositionChange:j,onThumbPointerDown:oe(o),children:te.jsx(se.div,{...h,ref:g,style:{position:"absolute",...h.style},onPointerDown:ie(e.onPointerDown,(e=>{if(0===e.button){e.target.setPointerCapture(e.pointerId),x.current=f.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),S(e)}})),onPointerMove:ie(e.onPointerMove,S),onPointerUp:ie(e.onPointerUp,(e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=v.current,m.viewport&&(m.viewport.style.scrollBehavior=""),x.current=null}))})})})),ox="ScrollAreaThumb",lx=Pr.forwardRef(((e,t)=>{const{forceMount:r,...s}=e,a=nx(ox,e.__scopeScrollArea);return te.jsx(ne,{present:r||a.hasThumb,children:te.jsx(cx,{ref:t,...s})})})),cx=Pr.forwardRef(((e,t)=>{const{__scopeScrollArea:r,style:s,...a}=e,n=Gg(ox,r),i=nx(ox,r),{onThumbPositionChange:o}=i,l=ee(t,(e=>i.onThumbChange(e))),c=Pr.useRef(void 0),d=bx((()=>{c.current&&(c.current(),c.current=void 0)}),100);return Pr.useEffect((()=>{const e=n.viewport;if(e){const t=()=>{if(d(),!c.current){const t=yx(e,o);c.current=t,o()}};return o(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}}),[n.viewport,d,o]),te.jsx(se.div,{"data-state":i.hasThumb?"visible":"hidden",...a,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:ie(e.onPointerDownCapture,(e=>{const t=e.target.getBoundingClientRect(),r=e.clientX-t.left,s=e.clientY-t.top;i.onThumbPointerDown({x:r,y:s})})),onPointerUp:ie(e.onPointerUp,i.onThumbPointerUp)})}));lx.displayName=ox;var dx="ScrollAreaCorner",ux=Pr.forwardRef(((e,t)=>{const r=Gg(dx,e.__scopeScrollArea),s=Boolean(r.scrollbarX&&r.scrollbarY);return"scroll"!==r.type&&s?te.jsx(hx,{...e,ref:t}):null}));ux.displayName=dx;var hx=Pr.forwardRef(((e,t)=>{const{__scopeScrollArea:r,...s}=e,a=Gg(dx,r),[n,i]=Pr.useState(0),[o,l]=Pr.useState(0),c=Boolean(n&&o);return wx(a.scrollbarX,(()=>{var e;const t=(null==(e=a.scrollbarX)?void 0:e.offsetHeight)||0;a.onCornerHeightChange(t),l(t)})),wx(a.scrollbarY,(()=>{var e;const t=(null==(e=a.scrollbarY)?void 0:e.offsetWidth)||0;a.onCornerWidthChange(t),i(t)})),c?te.jsx(se.div,{...s,ref:t,style:{width:n,height:o,position:"absolute",right:"ltr"===a.dir?0:void 0,left:"rtl"===a.dir?0:void 0,bottom:0,...e.style}}):null}));function mx(e){return e?parseInt(e,10):0}function fx(e,t){const r=e/t;return isNaN(r)?0:r}function px(e){const t=fx(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-r)*t;return Math.max(s,18)}function gx(e,t,r="ltr"){const s=px(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=t.scrollbar.size-a,i=t.content-t.viewport,o=n-s,l=xm(e,"ltr"===r?[0,i]:[-1*i,0]);return xx([0,i],[0,o])(l)}function xx(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}function vx(e,t){return e>0&&e<t}var yx=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},s=0;return function a(){const n={left:e.scrollLeft,top:e.scrollTop},i=r.left!==n.left,o=r.top!==n.top;(i||o)&&t(),r=n,s=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(s)};function bx(e,t){const r=oe(e),s=Pr.useRef(0);return Pr.useEffect((()=>()=>window.clearTimeout(s.current)),[]),Pr.useCallback((()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,t)}),[r,t])}function wx(e,t){const r=oe(t);ue((()=>{let t=0;if(e){const s=new ResizeObserver((()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(r)}));return s.observe(e),()=>{window.cancelAnimationFrame(t),s.unobserve(e)}}}),[e,r])}var jx=Vg,Nx=Kg,Sx=ux;const kx=Pr.forwardRef((({className:e,children:t,...r},s)=>te.jsxs(jx,{ref:s,className:Ba("relative overflow-hidden",e),...r,children:[te.jsx(Nx,{className:"h-full w-full rounded-[inherit]",children:t}),te.jsx(_x,{}),te.jsx(Sx,{})]})));kx.displayName=jx.displayName;const _x=Pr.forwardRef((({className:e,orientation:t="vertical",...r},s)=>te.jsx(Xg,{ref:s,orientation:t,className:Ba("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:te.jsx(lx,{className:"relative flex-1 rounded-full bg-border"})})));_x.displayName=Xg.displayName;var Cx="Checkbox",[Tx,Ex]=Q(Cx),[Px,Ox]=Tx(Cx),Ax=Pr.forwardRef(((e,t)=>{const{__scopeCheckbox:r,name:s,checked:a,defaultChecked:n,required:i,disabled:o,value:l="on",onCheckedChange:c,form:d,...u}=e,[h,m]=Pr.useState(null),f=ee(t,(e=>m(e))),p=Pr.useRef(!1),g=!h||(d||!!h.closest("form")),[x=!1,v]=ae({prop:a,defaultProp:n,onChange:c}),y=Pr.useRef(x);return Pr.useEffect((()=>{const e=null==h?void 0:h.form;if(e){const t=()=>v(y.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}}),[h,v]),te.jsxs(Px,{scope:r,state:x,disabled:o,children:[te.jsx(se.button,{type:"button",role:"checkbox","aria-checked":Ix(x)?"mixed":x,"aria-required":i,"data-state":Mx(x),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:f,onKeyDown:ie(e.onKeyDown,(e=>{"Enter"===e.key&&e.preventDefault()})),onClick:ie(e.onClick,(e=>{v((e=>!!Ix(e)||!e)),g&&(p.current=e.isPropagationStopped(),p.current||e.stopPropagation())}))}),g&&te.jsx(Lx,{control:h,bubbles:!p.current,name:s,value:l,checked:x,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"},defaultChecked:!Ix(n)&&n})]})}));Ax.displayName=Cx;var Rx="CheckboxIndicator",Dx=Pr.forwardRef(((e,t)=>{const{__scopeCheckbox:r,forceMount:s,...a}=e,n=Ox(Rx,r);return te.jsx(ne,{present:s||Ix(n.state)||!0===n.state,children:te.jsx(se.span,{"data-state":Mx(n.state),"data-disabled":n.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})}));Dx.displayName=Rx;var Lx=e=>{const{control:t,checked:r,bubbles:s=!0,defaultChecked:a,...n}=e,i=Pr.useRef(null),o=vm(r),l=Et(t);Pr.useEffect((()=>{const e=i.current,t=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(t,"checked").set;if(o!==r&&a){const t=new Event("click",{bubbles:s});e.indeterminate=Ix(r),a.call(e,!Ix(r)&&r),e.dispatchEvent(t)}}),[o,r,s]);const c=Pr.useRef(!Ix(r)&&r);return te.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??c.current,...n,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ix(e){return"indeterminate"===e}function Mx(e){return Ix(e)?"indeterminate":e?"checked":"unchecked"}var zx=Ax,$x=Dx;const Fx=Pr.forwardRef((({className:e,...t},r)=>te.jsx(zx,{ref:r,className:Ba("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:te.jsx($x,{className:Ba("flex items-center justify-center text-current"),children:te.jsx(Ve,{className:"h-4 w-4"})})})));Fx.displayName=zx.displayName;var Ux="Radio",[Bx,Hx]=Q(Ux),[qx,Wx]=Bx(Ux),Gx=Pr.forwardRef(((e,t)=>{const{__scopeRadio:r,name:s,checked:a=!1,required:n,disabled:i,value:o="on",onCheck:l,form:c,...d}=e,[u,h]=Pr.useState(null),m=ee(t,(e=>h(e))),f=Pr.useRef(!1),p=!u||(c||!!u.closest("form"));return te.jsxs(qx,{scope:r,checked:a,disabled:i,children:[te.jsx(se.button,{type:"button",role:"radio","aria-checked":a,"data-state":Jx(a),"data-disabled":i?"":void 0,disabled:i,value:o,...d,ref:m,onClick:ie(e.onClick,(e=>{a||null==l||l(),p&&(f.current=e.isPropagationStopped(),f.current||e.stopPropagation())}))}),p&&te.jsx(Kx,{control:u,bubbles:!f.current,name:s,value:o,checked:a,required:n,disabled:i,form:c,style:{transform:"translateX(-100%)"}})]})}));Gx.displayName=Ux;var Vx="RadioIndicator",Yx=Pr.forwardRef(((e,t)=>{const{__scopeRadio:r,forceMount:s,...a}=e,n=Wx(Vx,r);return te.jsx(ne,{present:s||n.checked,children:te.jsx(se.span,{"data-state":Jx(n.checked),"data-disabled":n.disabled?"":void 0,...a,ref:t})})}));Yx.displayName=Vx;var Kx=e=>{const{control:t,checked:r,bubbles:s=!0,...a}=e,n=Pr.useRef(null),i=vm(r),o=Et(t);return Pr.useEffect((()=>{const e=n.current,t=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(t,"checked").set;if(i!==r&&a){const t=new Event("click",{bubbles:s});a.call(e,r),e.dispatchEvent(t)}}),[i,r,s]),te.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:n,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Jx(e){return e?"checked":"unchecked"}var Xx=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Qx="RadioGroup",[Zx,ev]=Q(Qx,[zt,Hx]),tv=zt(),rv=Hx(),[sv,av]=Zx(Qx),nv=Pr.forwardRef(((e,t)=>{const{__scopeRadioGroup:r,name:s,defaultValue:a,value:n,required:i=!1,disabled:o=!1,orientation:l,dir:c,loop:d=!0,onValueChange:u,...h}=e,m=tv(r),f=Fe(c),[p,g]=ae({prop:n,defaultProp:a,onChange:u});return te.jsx(sv,{scope:r,name:s,required:i,disabled:o,value:p,onValueChange:g,children:te.jsx($t,{asChild:!0,...m,orientation:l,dir:f,loop:d,children:te.jsx(se.div,{role:"radiogroup","aria-required":i,"aria-orientation":l,"data-disabled":o?"":void 0,dir:f,...h,ref:t})})})}));nv.displayName=Qx;var iv="RadioGroupItem",ov=Pr.forwardRef(((e,t)=>{const{__scopeRadioGroup:r,disabled:s,...a}=e,n=av(iv,r),i=n.disabled||s,o=tv(r),l=rv(r),c=Pr.useRef(null),d=ee(t,c),u=n.value===a.value,h=Pr.useRef(!1);return Pr.useEffect((()=>{const e=e=>{Xx.includes(e.key)&&(h.current=!0)},t=()=>h.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}}),[]),te.jsx(Ft,{asChild:!0,...o,focusable:!i,active:u,children:te.jsx(Gx,{disabled:i,required:n.required,checked:u,...l,...a,name:n.name,ref:d,onCheck:()=>n.onValueChange(a.value),onKeyDown:ie((e=>{"Enter"===e.key&&e.preventDefault()})),onFocus:ie(a.onFocus,(()=>{var e;h.current&&(null==(e=c.current)||e.click())}))})})}));ov.displayName=iv;var lv=Pr.forwardRef(((e,t)=>{const{__scopeRadioGroup:r,...s}=e,a=rv(r);return te.jsx(Yx,{...a,...s,ref:t})}));lv.displayName="RadioGroupIndicator";var cv=nv,dv=ov,uv=lv;const hv=Pr.forwardRef((({className:e,...t},r)=>te.jsx(cv,{className:Ba("grid gap-2",e),...t,ref:r})));hv.displayName=cv.displayName;const mv=Pr.forwardRef((({className:e,...t},r)=>te.jsx(dv,{ref:r,className:Ba("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:te.jsx(uv,{className:"flex items-center justify-center",children:te.jsx(st,{className:"h-2.5 w-2.5 fill-current text-current"})})})));mv.displayName=dv.displayName;const fv=[{value:"heights",label:"Heights"},{value:"water",label:"Water"},{value:"confined",label:"Confined Spaces"},{value:"social",label:"Social Situations"}],pv=[{value:"beginner",label:"Beginner"},{value:"easy",label:"Easy"},{value:"moderate",label:"Moderate"},{value:"challenging",label:"Challenging"},{value:"difficult",label:"Difficult"}],gv=[{value:"under_1_hour",label:"Under 1 hour"},{value:"1-3_hours",label:"Up to 3 hours"},{value:"half_day",label:"Half Day"},{value:"full_day",label:"Full Day"},{value:"multi_day",label:"Multiple Days"}],xv=[{value:"indoor",label:"Indoor Only"},{value:"outdoor",label:"Outdoor Only"},{value:"both",label:"Indoor & Outdoor"}],vv=({className:e="",viewType:t="sidebar"})=>{var r,s,a;const{activeFilters:n,setActiveFilters:i,resetFilters:o,filteredActivities:l,matchedActivities:c}=Ug(),[d,u]=Pr.useState(!1),h=(e,t)=>{i(t?{fearCategories:[...n.fearCategories,e]}:{fearCategories:n.fearCategories.filter((t=>t!==e))})},m=()=>{o(),"sheet"===t&&u(!1)},f=()=>{let e=0;return n.fearCategories.length>0&&e++,n.maxDifficulty&&e++,n.maxTimeCommitment&&e++,n.indoorOutdoor&&e++,e},p=te.jsxs("div",{className:"flex flex-col h-full",children:[te.jsxs("div",{className:"flex items-center justify-between mb-4",children:[te.jsx("h2",{className:"text-xl font-semibold",children:"Filters"}),te.jsxs(Md,{variant:"ghost",size:"sm",onClick:m,className:"h-8 px-2 text-muted-foreground",children:[te.jsx(_e,{size:14,className:"mr-1"}),"Reset"]})]}),te.jsxs("div",{className:"text-sm text-muted-foreground mb-4",children:["Showing ",l.length," of ",c.length," activities"]}),te.jsx(kx,{className:"flex-1 pr-4 -mr-4",children:te.jsxs(Ch,{type:"multiple",defaultValue:["fear-categories","difficulty"],children:[te.jsxs(Th,{value:"fear-categories",children:[te.jsx(Eh,{children:"Fear Categories"}),te.jsx(Ph,{children:te.jsx("div",{className:"space-y-2",children:fv.map((e=>te.jsxs("div",{className:"flex items-center space-x-2",children:[te.jsx(Fx,{id:`fear-${e.value}`,checked:n.fearCategories.includes(e.value),onCheckedChange:t=>h(e.value,t)}),te.jsx(qh,{htmlFor:`fear-${e.value}`,className:"text-sm cursor-pointer",children:e.label})]},e.value)))})})]}),te.jsxs(Th,{value:"difficulty",children:[te.jsx(Eh,{children:"Difficulty Level"}),te.jsx(Ph,{children:te.jsx(hv,{value:n.maxDifficulty||"",onValueChange:e=>{i({maxDifficulty:e})},children:te.jsx("div",{className:"space-y-2",children:pv.map((e=>te.jsxs("div",{className:"flex items-center space-x-2",children:[te.jsx(mv,{value:e.value,id:`difficulty-${e.value}`}),te.jsx(qh,{htmlFor:`difficulty-${e.value}`,className:"text-sm cursor-pointer",children:e.label})]},e.value)))})})})]}),te.jsxs(Th,{value:"time",children:[te.jsx(Eh,{children:"Time Commitment"}),te.jsx(Ph,{children:te.jsx(hv,{value:n.maxTimeCommitment||"",onValueChange:e=>{i({maxTimeCommitment:e})},children:te.jsx("div",{className:"space-y-2",children:gv.map((e=>te.jsxs("div",{className:"flex items-center space-x-2",children:[te.jsx(mv,{value:e.value,id:`time-${e.value}`}),te.jsx(qh,{htmlFor:`time-${e.value}`,className:"text-sm cursor-pointer",children:e.label})]},e.value)))})})})]}),te.jsxs(Th,{value:"environment",children:[te.jsx(Eh,{children:"Environment"}),te.jsx(Ph,{children:te.jsx(hv,{value:n.indoorOutdoor||"",onValueChange:e=>{i({indoorOutdoor:e})},children:te.jsx("div",{className:"space-y-2",children:xv.map((e=>te.jsxs("div",{className:"flex items-center space-x-2",children:[te.jsx(mv,{value:e.value,id:`env-${e.value}`}),te.jsx(qh,{htmlFor:`env-${e.value}`,className:"text-sm cursor-pointer",children:e.label})]},e.value)))})})})]})]})}),"sheet"===t&&te.jsx("div",{className:"pt-4 mt-auto border-t",children:te.jsxs("div",{className:"flex gap-3",children:[te.jsx(Md,{variant:"outline",className:"flex-1",onClick:m,children:"Reset Filters"}),te.jsxs(Md,{className:"flex-1",onClick:()=>u(!1),children:["Show Results (",l.length,")"]})]})})]});return"sidebar"===t?te.jsx("div",{className:e,children:p}):te.jsxs("div",{className:e,children:[te.jsxs(om,{open:d,onOpenChange:u,children:[te.jsx(lm,{asChild:!0,children:te.jsxs(Md,{variant:"outline",size:"sm",className:"flex items-center gap-1",children:[te.jsx(Ut,{size:14}),"Filters",f()>0&&te.jsx("span",{className:"ml-1 w-5 h-5 rounded-full bg-primary text-primary-foreground text-xs flex items-center justify-center",children:f()})]})}),te.jsx(hm,{side:"left",className:"w-full sm:max-w-md flex flex-col",children:p})]}),f()>0&&te.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[n.fearCategories.map((e=>{var t;const r=(null==(t=fv.find((t=>t.value===e)))?void 0:t.label)||e;return te.jsxs(Md,{variant:"secondary",size:"sm",className:"h-7 px-2 text-xs rounded-full bg-muted",onClick:()=>h(e,!1),children:[r,te.jsx(me,{size:14,className:"ml-1"})]},`filter-${e}`)})),n.maxDifficulty&&te.jsxs(Md,{variant:"secondary",size:"sm",className:"h-7 px-2 text-xs rounded-full bg-muted",onClick:()=>i({maxDifficulty:null}),children:[(null==(r=pv.find((e=>e.value===n.maxDifficulty)))?void 0:r.label)||n.maxDifficulty,te.jsx(me,{size:14,className:"ml-1"})]}),n.maxTimeCommitment&&te.jsxs(Md,{variant:"secondary",size:"sm",className:"h-7 px-2 text-xs rounded-full bg-muted",onClick:()=>i({maxTimeCommitment:null}),children:[(null==(s=gv.find((e=>e.value===n.maxTimeCommitment)))?void 0:s.label)||n.maxTimeCommitment,te.jsx(me,{size:14,className:"ml-1"})]}),n.indoorOutdoor&&te.jsxs(Md,{variant:"secondary",size:"sm",className:"h-7 px-2 text-xs rounded-full bg-muted",onClick:()=>i({indoorOutdoor:null}),children:[(null==(a=xv.find((e=>e.value===n.indoorOutdoor)))?void 0:a.label)||n.indoorOutdoor,te.jsx(me,{size:14,className:"ml-1"})]}),f()>1&&te.jsx(Md,{variant:"ghost",size:"sm",className:"h-7 px-2 text-xs",onClick:m,children:"Clear All"})]})]})},yv=Ks("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function bv({className:e,variant:t,...r}){return te.jsx("div",{className:Ba(yv({variant:t}),e),...r})}const wv=({category:e,className:t=""})=>{switch(e){case"heights":return te.jsx(Gt,{className:t});case"water":return te.jsx(Wt,{className:t});case"social":return te.jsx(qt,{className:t});case"confined":return te.jsx(Ht,{className:t});default:return te.jsx(Bt,{className:t})}},jv=({activity:e,className:t="",viewMode:r="grid",onViewDetails:s})=>{const a="list"===r,n=function(e){if(!e)return"text-gray-500";switch(e){case"beginner":return"text-green-500";case"easy":return"text-blue-500";case"moderate":return"text-yellow-500";case"challenging":return"text-orange-500";case"difficult":return"text-red-500";default:return"text-gray-500"}}(e.difficultyLevel),i=void 0!==e.matchScore?e.matchScore:0,o=i>0,l=Math.round(100*i);return te.jsxs(hu,{className:`h-full transition-all duration-200 hover:shadow-md\n      ${a?"flex flex-row":"flex flex-col"} ${t}`,children:[te.jsxs("div",{className:(a?"w-1/3 min-w-[120px]":"w-full aspect-[4/3]")+"\n                   bg-muted relative overflow-hidden",children:[e.imageUrl?te.jsx(ku,{src:e.imageUrl||e.alternateImageUrl,alt:e.title,className:"object-cover w-full h-full"}):te.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-muted/80 to-muted",children:te.jsx(wv,{category:e.fearCategories[0],className:"w-12 h-12 text-muted-foreground/40"})}),o&&te.jsx("div",{className:"absolute top-2 right-2",children:te.jsxs(bv,{variant:"default",className:"bg-primary text-primary-foreground font-medium flex items-center gap-1",children:[te.jsx(Vt,{className:"h-3 w-3 fill-primary-foreground"}),l,"% Match"]})})]}),te.jsxs("div",{className:"flex flex-col flex-1 "+(a?"max-w-[70%]":""),children:[te.jsxs(mu,{className:""+(a?"p-3 pb-2":"p-4 pb-2"),children:[te.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:e.fearCategories.map((e=>te.jsxs(bv,{variant:"outline",className:"text-xs font-normal flex items-center gap-1",children:[te.jsx(wv,{category:e,className:"h-3 w-3"}),e]},e)))}),te.jsx(fu,{className:(a?"text-base":"text-lg")+" line-clamp-1",children:e.title}),te.jsx(pu,{className:"line-clamp-2",children:e.description})]}),te.jsx(gu,{className:(a?"p-3 pt-0":"p-4 pt-0")+" space-y-3 flex-1",children:te.jsxs("div",{className:"flex flex-wrap gap-x-3 gap-y-2 text-sm text-muted-foreground",children:[te.jsx("div",{className:"flex items-center gap-1",children:te.jsx(bv,{variant:"outline",className:`font-medium ${n}`,children:e.difficultyLevel})}),te.jsxs("div",{className:"flex items-center gap-1",children:[te.jsx(Yt,{className:"h-3.5 w-3.5"}),e.timeCommitment]}),te.jsxs("div",{className:"flex items-center gap-1",children:[te.jsx(Kt,{className:"h-3.5 w-3.5"}),e.costRange]}),te.jsxs("div",{className:"flex items-center gap-1",children:[te.jsx(Jt,{className:"h-3.5 w-3.5"}),e.location]})]})}),te.jsx(xu,{className:(a?"p-3 pt-0":"p-4 pt-0")+" mt-auto flex justify-between border-t pt-3",children:te.jsx(Md,{variant:"secondary",size:"sm",className:"w-full",onClick:()=>null==s?void 0:s(e),children:"View Details"})})]})]})},Nv=({className:e="",viewMode:t="grid",listType:r="all"})=>{const{filteredActivities:s,activeFilters:a,matchedActivities:n}=Ug(),[i,o]=Ar.useState(null),[l,c]=Ar.useState(!1),{addActivityToJourney:d,user:u}=Rd(),{toast:h}=as(),[m,f]=Ar.useState(!1),p=Ar.useMemo((()=>{if("recommended"===r){const e=[...n].sort(((e,t)=>(t.matchScore||0)-(e.matchScore||0))),t=Math.max(5,Math.ceil(.3*e.length));return e.slice(0,t)}return s}),[s,n,r]),g=e=>{o(e),c(!0)},x=e=>0===e.locations.length?"Online":1===e.locations.length?e.locations[0].name:`${e.locations[0].name} +${e.locations.length-1} more`;return 0===p.length?te.jsxs("div",{className:`flex flex-col items-center justify-center p-8 text-center ${e}`,children:[te.jsx(Ce,{size:48,className:"text-muted-foreground mb-4"}),te.jsx("h3",{className:"text-xl font-medium mb-2",children:"No activities found"}),te.jsx("p",{className:"text-muted-foreground mb-6 max-w-md",children:a.fearCategories.length>0||Object.values(a).some((e=>null!=e))?"Try adjusting your filters to see more activities.":"Try selecting different fear categories or preferences to find matching activities."}),te.jsxs(Md,{variant:"default",onClick:()=>{},children:[te.jsx(Xt,{size:16,className:"mr-2"}),"Get Personalized Recommendations"]})]}):te.jsxs("div",{className:e,children:["grid"===t&&te.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:p.map((e=>te.jsx(jv,{activity:e,onViewDetails:g},e.id)))}),"list"===t&&te.jsx("div",{className:"space-y-4",children:p.map((e=>te.jsxs("div",{className:"flex flex-col sm:flex-row border rounded-lg overflow-hidden hover:border-primary/20 transition-colors",children:[te.jsxs("div",{className:"sm:w-48 sm:h-auto h-40 relative",children:[te.jsx("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover"}),te.jsx("div",{className:"absolute top-2 right-2",children:te.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-full ${_g[e.difficultyLevel]}`,children:kg[e.difficultyLevel]})})]}),te.jsxs("div",{className:"flex-1 p-4 flex flex-col",children:[te.jsxs("div",{className:"mb-2",children:[te.jsx("h3",{className:"font-bold",children:e.title}),te.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:e.fearCategories.map((e=>te.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-primary/10 text-primary-foreground dark:bg-primary/20",children:e},e)))})]}),te.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 flex-grow mb-3 line-clamp-2",children:e.description}),te.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-2 text-sm text-gray-500 dark:text-gray-400 mb-3",children:[te.jsxs("div",{className:"flex items-center",children:[te.jsx(Jt,{size:14,className:"mr-1"}),x(e)]}),te.jsxs("div",{className:"flex items-center",children:[te.jsx(Yt,{size:14,className:"mr-1"}),Tg[e.timeCommitment]]}),te.jsxs("div",{className:"flex items-center",children:[te.jsx(Qt,{size:14,className:"mr-1"}),Cg[e.cost]]})]}),te.jsx(Md,{size:"sm",className:"self-start",onClick:()=>g(e),children:"View Details"})]})]},e.id)))}),i&&te.jsx(ru,{open:l,onOpenChange:c,children:te.jsxs(iu,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[te.jsxs(ou,{children:[te.jsx(cu,{children:i.title}),te.jsx(du,{children:i.fearCategories.join(", ")})]}),te.jsx("div",{className:"relative h-[200px] -mx-6 mt-2",children:te.jsx("img",{src:i.imageUrl||i.image,alt:i.title,className:"w-full h-full object-cover"})}),te.jsxs("div",{className:"space-y-4 my-4",children:[te.jsxs("div",{children:[te.jsx("h4",{className:"text-sm font-medium mb-1",children:"Description"}),te.jsx("p",{className:"text-sm",children:i.description})]}),te.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[te.jsxs("div",{children:[te.jsx("h4",{className:"text-sm font-medium mb-1",children:"Difficulty"}),te.jsx("p",{className:"text-sm",children:i.difficultyLevel})]}),te.jsxs("div",{children:[te.jsx("h4",{className:"text-sm font-medium mb-1",children:"Cost"}),te.jsx("p",{className:"text-sm",children:i.costRange})]}),te.jsxs("div",{children:[te.jsx("h4",{className:"text-sm font-medium mb-1",children:"Time Commitment"}),te.jsx("p",{className:"text-sm",children:i.timeCommitment.replace(/_/g," ")})]}),te.jsxs("div",{children:[te.jsx("h4",{className:"text-sm font-medium mb-1",children:"Environment"}),te.jsx("p",{className:"text-sm",children:i.indoorOutdoor})]})]}),te.jsxs("div",{children:[te.jsx("h4",{className:"text-sm font-medium mb-1",children:"Location"}),te.jsx("p",{className:"text-sm",children:i.location})]}),i.safety&&te.jsxs("div",{className:"bg-muted p-3 rounded-md",children:[te.jsxs("h4",{className:"text-sm font-medium mb-1 flex items-center",children:[te.jsx(Ce,{size:14,className:"mr-1"}),"Safety Information"]}),te.jsx("p",{className:"text-sm",children:i.safety})]})]}),te.jsxs(lu,{children:[te.jsx(Md,{variant:"outline",onClick:()=>{c(!1)},children:"Close"}),te.jsx(Md,{onClick:async()=>{if(i)if(u){f(!0);try{const e=await d(i);e.success?(h({title:"Activity added",description:`${i.title} has been added to your journey`}),c(!1)):h({title:"Error",description:e.error||"Failed to add activity to your journey",variant:"destructive"})}catch(e){h({title:"Error",description:"An unexpected error occurred",variant:"destructive"})}finally{f(!1)}}else h({title:"Not signed in",description:"Please sign in to add activities to your journey",variant:"destructive"})},disabled:m||!u,children:m?te.jsx(te.Fragment,{children:te.jsx("span",{className:"mr-2",children:"Adding..."})}):te.jsxs(te.Fragment,{children:[te.jsx(Xt,{size:16,className:"mr-2"}),"Add to My Journey"]})})]})]})})]})};var Sv="Tabs",[kv,_v]=Q(Sv,[zt]),Cv=zt(),[Tv,Ev]=kv(Sv),Pv=Pr.forwardRef(((e,t)=>{const{__scopeTabs:r,value:s,onValueChange:a,defaultValue:n,orientation:i="horizontal",dir:o,activationMode:l="automatic",...c}=e,d=Fe(o),[u,h]=ae({prop:s,onChange:a,defaultProp:n});return te.jsx(Tv,{scope:r,baseId:$e(),value:u,onValueChange:h,orientation:i,dir:d,activationMode:l,children:te.jsx(se.div,{dir:d,"data-orientation":i,...c,ref:t})})}));Pv.displayName=Sv;var Ov="TabsList",Av=Pr.forwardRef(((e,t)=>{const{__scopeTabs:r,loop:s=!0,...a}=e,n=Ev(Ov,r),i=Cv(r);return te.jsx($t,{asChild:!0,...i,orientation:n.orientation,dir:n.dir,loop:s,children:te.jsx(se.div,{role:"tablist","aria-orientation":n.orientation,...a,ref:t})})}));Av.displayName=Ov;var Rv="TabsTrigger",Dv=Pr.forwardRef(((e,t)=>{const{__scopeTabs:r,value:s,disabled:a=!1,...n}=e,i=Ev(Rv,r),o=Cv(r),l=Mv(i.baseId,s),c=zv(i.baseId,s),d=s===i.value;return te.jsx(Ft,{asChild:!0,...o,focusable:!a,active:d,children:te.jsx(se.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:l,...n,ref:t,onMouseDown:ie(e.onMouseDown,(e=>{a||0!==e.button||!1!==e.ctrlKey?e.preventDefault():i.onValueChange(s)})),onKeyDown:ie(e.onKeyDown,(e=>{[" ","Enter"].includes(e.key)&&i.onValueChange(s)})),onFocus:ie(e.onFocus,(()=>{const e="manual"!==i.activationMode;d||a||!e||i.onValueChange(s)}))})})}));Dv.displayName=Rv;var Lv="TabsContent",Iv=Pr.forwardRef(((e,t)=>{const{__scopeTabs:r,value:s,forceMount:a,children:n,...i}=e,o=Ev(Lv,r),l=Mv(o.baseId,s),c=zv(o.baseId,s),d=s===o.value,u=Pr.useRef(d);return Pr.useEffect((()=>{const e=requestAnimationFrame((()=>u.current=!1));return()=>cancelAnimationFrame(e)}),[]),te.jsx(ne,{present:a||d,children:({present:r})=>te.jsx(se.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!r,id:c,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:u.current?"0s":void 0},children:r&&n})})}));function Mv(e,t){return`${e}-trigger-${t}`}function zv(e,t){return`${e}-content-${t}`}Iv.displayName=Lv;var $v=Av,Fv=Dv,Uv=Iv;const Bv=Pv,Hv=Pr.forwardRef((({className:e,...t},r)=>te.jsx($v,{ref:r,className:Ba("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t})));Hv.displayName=$v.displayName;const qv=Pr.forwardRef((({className:e,...t},r)=>te.jsx(Fv,{ref:r,className:Ba("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t})));qv.displayName=Fv.displayName;const Wv=Pr.forwardRef((({className:e,...t},r)=>te.jsx(Uv,{ref:r,className:Ba("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t})));Wv.displayName=Uv.displayName;const Gv=({className:e=""})=>{const{filteredActivities:t,matchedActivities:r,setSortOrder:s,sortOrder:a,searchTerm:n,setSearchTerm:i,setViewMode:o,viewMode:l,fearAssessmentData:c,refreshUserPreferences:d}=Ug(),[u,h]=Pr.useState("all"),[m,f]=Pr.useState(!1),{user:p}=Rd(),g=Ir();return Pr.useEffect((()=>{f(!(!p||c))}),[p,c]),te.jsx("div",{className:`container mx-auto px-4 pt-6 pb-20 ${e}`,children:te.jsxs("div",{className:"bg-card rounded-xl shadow-sm border mb-8",children:[te.jsxs("div",{className:"mb-6 space-y-4",children:[te.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[te.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"Find Your Next Courage Adventure"}),te.jsxs("div",{className:"flex items-center space-x-3",children:[te.jsxs(Df,{value:a,onValueChange:e=>s(e),children:[te.jsx(If,{className:"w-[160px]",children:te.jsx(Lf,{placeholder:"Sort by"})}),te.jsxs($f,{children:[te.jsx(Ff,{value:"recommended",children:"Recommended"}),te.jsx(Ff,{value:"alphabetical",children:"Alphabetical"}),te.jsx(Ff,{value:"difficulty_asc",children:"Easiest First"}),te.jsx(Ff,{value:"difficulty_desc",children:"Hardest First"})]})]}),te.jsxs("div",{className:"border rounded-md overflow-hidden flex",children:[te.jsxs(Md,{variant:"grid"===l?"default":"ghost",size:"icon",onClick:()=>o("grid"),className:"rounded-none",children:[te.jsx(kt,{size:16}),te.jsx("span",{className:"sr-only",children:"Grid View"})]}),te.jsxs(Md,{variant:"list"===l?"default":"ghost",size:"icon",onClick:()=>o("list"),className:"rounded-none",children:[te.jsx(_t,{size:16}),te.jsx("span",{className:"sr-only",children:"List View"})]})]})]})]}),m&&te.jsxs("div",{className:"bg-muted/40 border rounded-lg p-4 mb-4 flex justify-between items-center",children:[te.jsxs("div",{className:"flex items-center space-x-3",children:[te.jsx(Zt,{className:"h-5 w-5 text-primary"}),te.jsx("p",{className:"text-sm",children:"Take the Fear Assessment Quiz to get personalized activity recommendations!"})]}),te.jsx(Md,{variant:"outline",size:"sm",onClick:()=>{g("/"),setTimeout((()=>{const e=document.getElementById("hero");e&&(e.scrollIntoView({behavior:"smooth"}),localStorage.setItem("openAssessment","true"))}),100)},children:"Take Quiz"})]}),c&&te.jsxs("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-4 flex justify-between items-center",children:[te.jsxs("div",{className:"flex items-center space-x-3",children:[te.jsx(er,{className:"h-5 w-5 text-primary"}),te.jsxs("div",{children:[te.jsx("p",{className:"text-sm font-medium",children:"We've personalized your activities based on your fear assessment"}),te.jsx("p",{className:"text-xs text-muted-foreground",children:c.timestamp?`Taken on: ${new Date(c.timestamp).toLocaleDateString()}`:"Your preferences have been saved"})]})]}),te.jsx(Md,{variant:"outline",size:"sm",onClick:async()=>{ss({title:"Refreshing Activities",description:"Updating your activity recommendations based on your latest assessment."}),await d()},children:"Refresh"})]}),te.jsxs("div",{className:"relative flex-1",children:[te.jsx(tr,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),te.jsx(Fh,{placeholder:"Search activities...",className:"pl-9",value:n,onChange:e=>{i(e.target.value)}}),n&&te.jsx("button",{className:"absolute right-2.5 top-2.5 h-4 w-4 text-muted-foreground hover:text-foreground",onClick:()=>{i("")},children:te.jsx(me,{size:16})})]}),te.jsx("div",{className:"flex items-center gap-2",children:te.jsx("div",{className:"block lg:hidden",children:te.jsx(vv,{viewType:"sheet"})})})]}),te.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[te.jsx("div",{className:"hidden lg:block w-64 shrink-0",children:te.jsx("div",{className:"sticky top-6",children:te.jsx(vv,{viewType:"sidebar"})})}),te.jsxs("div",{className:"flex-1",children:[te.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mb-6"}),te.jsxs(Bv,{defaultValue:"all",value:u,onValueChange:h,className:"mb-6",children:[te.jsxs(Hv,{children:[te.jsxs(qv,{value:"all",children:["All Activities",te.jsx(bv,{variant:"secondary",className:"ml-2",children:t.length})]}),te.jsxs(qv,{value:"recommended",children:[te.jsx(er,{size:14,className:"mr-1"}),"Recommended For You"]})]}),te.jsx(Wv,{value:"all",className:"mt-6",children:te.jsx(Nv,{className:"pb-8",viewMode:l,listType:"all"})}),te.jsx(Wv,{value:"recommended",className:"mt-6",children:c?te.jsx(Nv,{className:"pb-8",viewMode:l,listType:"recommended"}):te.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-center",children:[te.jsx(er,{size:48,className:"text-muted-foreground mb-4"}),te.jsx("h3",{className:"text-xl font-medium mb-2",children:"Complete your profile to get personalized recommendations"}),te.jsx("p",{className:"text-muted-foreground mb-6 max-w-md",children:"We'll provide activities tailored to your fear profile and preferences."}),te.jsx(Md,{children:"Complete Your Profile"})]})})]})]})]})]})})},Vv=()=>te.jsx(Yd,{fallback:te.jsx("div",{className:"container mx-auto px-4 py-12 min-h-screen",children:te.jsxs("div",{className:"max-w-md mx-auto bg-gray-800 rounded-lg shadow-xl border border-gray-700 p-8",children:[te.jsx("div",{className:"text-growth-400 mb-4 flex justify-center",children:te.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:te.jsx("path",{d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),te.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-4",children:"Activity Explorer Error"}),te.jsx("p",{className:"text-gray-300 mb-6 text-center",children:"We encountered a problem loading the activity explorer. This could be due to missing activity data or a temporary connection issue."}),te.jsxs("div",{className:"flex flex-col gap-3",children:[te.jsx("button",{onClick:()=>window.location.reload(),className:"w-full py-2 bg-growth-600 hover:bg-growth-700 text-white rounded-md transition-colors",children:"Refresh Page"}),te.jsx("button",{onClick:()=>window.location.href="/",className:"w-full py-2 bg-transparent border border-gray-600 hover:bg-gray-700 text-gray-300 rounded-md transition-colors",children:"Return Home"})]})]})}),children:te.jsx("div",{className:"flex flex-col min-h-screen",children:te.jsx(Fg,{children:te.jsx(Gv,{})})})}),Yv=()=>{const[e,t]=Pr.useState(null),[r,s]=Pr.useState(!0),a=Ir();return Pr.useEffect((()=>{(async()=>{try{s(!0);if(window.location.hash){const{data:e,error:r}=await jd.auth.getSession();r?t(r.message):(null==e?void 0:e.session)&&a("/dashboard")}else{const{data:e}=await jd.auth.getSession();(null==e?void 0:e.session)?a("/dashboard"):t("Authentication failed. Please try logging in again.")}}catch(e){t("An unexpected error occurred during authentication.")}finally{s(!1)}})()}),[a]),r?te.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[te.jsx(We,{className:"h-12 w-12 animate-spin text-courage-600 mb-4"}),te.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Verifying your account..."}),te.jsx("p",{className:"text-gray-600 text-center",children:"Please wait while we complete the authentication process."})]}):e?te.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[te.jsxs("div",{className:"bg-red-100 text-red-800 p-4 rounded-lg mb-6 max-w-md",children:[te.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Authentication Error"}),te.jsx("p",{children:e})]}),te.jsx(Md,{onClick:()=>a("/login"),className:"bg-courage-600 hover:bg-courage-700",children:"Return to Login"})]}):te.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[te.jsx(We,{className:"h-12 w-12 animate-spin text-courage-600 mb-4"}),te.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Redirecting..."}),te.jsx("p",{className:"text-gray-600 text-center",children:"You should be redirected automatically. If not, please click the button below."}),te.jsx(Md,{onClick:()=>a("/dashboard"),className:"mt-6 bg-courage-600 hover:bg-courage-700",children:"Go to Dashboard"})]})},Kv=()=>te.jsxs("div",{className:"min-h-screen bg-white py-12",children:[te.jsx(zh,{title:"Privacy Policy | Be Courageous",description:"Our privacy policy outlines how we collect, use, and protect your personal information.",keywords:"privacy policy, data protection, personal information, Be Courageous",canonicalUrl:"https://becourageousnonprofit.org/privacy-policy"}),te.jsxs("div",{className:"container mx-auto px-4",children:[te.jsx("h1",{className:"text-3xl font-bold mb-8 text-indigo-900",children:"Privacy Policy"}),te.jsxs("div",{className:"prose prose-lg max-w-none",children:[te.jsxs("p",{className:"lead",children:["Last updated: ",(new Date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]}),te.jsx("h2",{children:"1. Introduction"}),te.jsx("p",{children:'Be Courageous ("we," "our," or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website or use our services.'}),te.jsx("p",{children:"Please read this Privacy Policy carefully. If you do not agree with the terms of this Privacy Policy, please do not access the site."}),te.jsx("h2",{children:"2. Information We Collect"}),te.jsx("h3",{children:"Personal Information"}),te.jsx("p",{children:"We may collect personal information that you voluntarily provide to us when you:"}),te.jsxs("ul",{children:[te.jsx("li",{children:"Register for an account"}),te.jsx("li",{children:"Sign up for our newsletter"}),te.jsx("li",{children:"Participate in our programs"}),te.jsx("li",{children:"Make a donation"}),te.jsx("li",{children:"Contact us with inquiries"})]}),te.jsx("p",{children:"This information may include your name, email address, phone number, and payment information."}),te.jsx("h3",{children:"Automatically Collected Information"}),te.jsx("p",{children:"When you visit our website, we may automatically collect certain information about your device, including:"}),te.jsxs("ul",{children:[te.jsx("li",{children:"IP address"}),te.jsx("li",{children:"Browser type"}),te.jsx("li",{children:"Operating system"}),te.jsx("li",{children:"Pages visited"}),te.jsx("li",{children:"Time and date of your visit"})]}),te.jsx("h2",{children:"3. How We Use Your Information"}),te.jsx("p",{children:"We may use the information we collect for various purposes, including:"}),te.jsxs("ul",{children:[te.jsx("li",{children:"Providing and maintaining our services"}),te.jsx("li",{children:"Improving our website and user experience"}),te.jsx("li",{children:"Communicating with you about our programs and services"}),te.jsx("li",{children:"Processing donations and transactions"}),te.jsx("li",{children:"Responding to your inquiries"}),te.jsx("li",{children:"Sending newsletters and promotional materials"})]}),te.jsx("h2",{children:"4. Sharing Your Information"}),te.jsx("p",{children:"We may share your information with:"}),te.jsxs("ul",{children:[te.jsx("li",{children:"Service providers who help us operate our website and services"}),te.jsx("li",{children:"Legal authorities when required by law"}),te.jsx("li",{children:"Third parties in the event of a merger, acquisition, or sale of assets"})]}),te.jsx("p",{children:"We do not sell your personal information to third parties."}),te.jsx("h2",{children:"5. Your Rights"}),te.jsx("p",{children:"Depending on your location, you may have certain rights regarding your personal information, including:"}),te.jsxs("ul",{children:[te.jsx("li",{children:"The right to access your personal information"}),te.jsx("li",{children:"The right to correct inaccurate information"}),te.jsx("li",{children:"The right to request deletion of your information"}),te.jsx("li",{children:"The right to restrict or object to processing"}),te.jsx("li",{children:"The right to data portability"})]}),te.jsx("h2",{children:"6. Security"}),te.jsx("p",{children:"We implement appropriate security measures to protect your personal information. However, no method of transmission over the Internet or electronic storage is 100% secure, and we cannot guarantee absolute security."}),te.jsx("h2",{children:"7. Changes to This Privacy Policy"}),te.jsx("p",{children:'We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last updated" date.'}),te.jsx("h2",{children:"8. Contact Us"}),te.jsx("p",{children:"If you have any questions about this Privacy Policy, please contact us at:"}),te.jsxs("p",{children:[te.jsx("strong",{children:"Email:"})," privacy@becourageousnonprofit.org",te.jsx("br",{}),te.jsx("strong",{children:"Address:"})," 123 Courage Way, Adventure City, CA 90210"]})]})]})]}),Jv=()=>te.jsxs("div",{className:"min-h-screen bg-white py-12",children:[te.jsx(zh,{title:"Terms of Service | Be Courageous",description:"Our terms of service outline the rules and guidelines for using our website and services.",keywords:"terms of service, terms and conditions, legal, Be Courageous",canonicalUrl:"https://becourageousnonprofit.org/terms-of-service"}),te.jsxs("div",{className:"container mx-auto px-4",children:[te.jsx("h1",{className:"text-3xl font-bold mb-8 text-indigo-900",children:"Terms of Service"}),te.jsxs("div",{className:"prose prose-lg max-w-none",children:[te.jsxs("p",{className:"lead",children:["Last updated: ",(new Date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]}),te.jsx("h2",{children:"1. Agreement to Terms"}),te.jsx("p",{children:'By accessing or using the Be Courageous website ("the Site"), you agree to be bound by these Terms of Service ("Terms"). If you do not agree to these Terms, please do not use the Site.'}),te.jsx("h2",{children:"2. Description of Services"}),te.jsx("p",{children:"Be Courageous provides information about overcoming fears through adventure therapy and related services. We offer resources, educational content, and opportunities to participate in our programs."}),te.jsx("h2",{children:"3. User Accounts"}),te.jsx("p",{children:"Some features of our Site may require registration. You agree to provide accurate and complete information when creating an account and to update your information to keep it accurate and current."}),te.jsx("p",{children:"You are responsible for maintaining the confidentiality of your account credentials and for all activities that occur under your account. You agree to notify us immediately of any unauthorized use of your account."}),te.jsx("h2",{children:"4. User Conduct"}),te.jsx("p",{children:"When using our Site, you agree not to:"}),te.jsxs("ul",{children:[te.jsx("li",{children:"Violate any applicable laws or regulations"}),te.jsx("li",{children:"Infringe on the rights of others"}),te.jsx("li",{children:"Transmit any harmful code or materials"}),te.jsx("li",{children:"Interfere with the proper functioning of the Site"}),te.jsx("li",{children:"Attempt to gain unauthorized access to any part of the Site"}),te.jsx("li",{children:"Use the Site for any illegal or unauthorized purpose"}),te.jsx("li",{children:"Harass, abuse, or harm another person"})]}),te.jsx("h2",{children:"5. Intellectual Property"}),te.jsx("p",{children:"The content on our Site, including text, graphics, logos, images, and software, is the property of Be Courageous or its content suppliers and is protected by copyright and other intellectual property laws."}),te.jsx("p",{children:"You may access and display the content for personal, non-commercial use only. You may not modify, reproduce, distribute, or create derivative works based on the content without our express written permission."}),te.jsx("h2",{children:"6. Third-Party Links"}),te.jsx("p",{children:"Our Site may contain links to third-party websites. These links are provided for your convenience and do not signify our endorsement of these sites. We have no control over the content of linked sites and are not responsible for their content or practices."}),te.jsx("h2",{children:"7. Disclaimer of Warranties"}),te.jsx("p",{children:'The Site and its content are provided "as is" without warranty of any kind, either express or implied, including but not limited to the implied warranties of merchantability, fitness for a particular purpose, or non-infringement.'}),te.jsx("p",{children:"We do not warrant that the Site will be uninterrupted or error-free, that defects will be corrected, or that the Site or the server that makes it available are free of viruses or other harmful components."}),te.jsx("h2",{children:"8. Limitation of Liability"}),te.jsx("p",{children:"To the fullest extent permitted by law, Be Courageous shall not be liable for any direct, indirect, incidental, special, consequential, or punitive damages arising out of or relating to your use of or inability to use the Site."}),te.jsx("h2",{children:"9. Indemnification"}),te.jsx("p",{children:"You agree to indemnify and hold harmless Be Courageous and its officers, directors, employees, and agents from any claims, liabilities, damages, losses, and expenses arising out of or in any way connected with your use of the Site or violation of these Terms."}),te.jsx("h2",{children:"10. Modifications to Terms"}),te.jsx("p",{children:'We reserve the right to modify these Terms at any time. We will notify users of any changes by updating the "Last updated" date at the top of these Terms. Your continued use of the Site after any modifications indicates your acceptance of the modified Terms.'}),te.jsx("h2",{children:"11. Governing Law"}),te.jsx("p",{children:"These Terms shall be governed by and construed in accordance with the laws of the State of California, without regard to its conflict of law provisions."}),te.jsx("h2",{children:"12. Contact Information"}),te.jsx("p",{children:"If you have any questions about these Terms, please contact us at:"}),te.jsxs("p",{children:[te.jsx("strong",{children:"Email:"})," legal@becourageousnonprofit.org",te.jsx("br",{}),te.jsx("strong",{children:"Address:"})," 123 Courage Way, Adventure City, CA 90210"]})]})]})]}),Xv=()=>{const[e,t]=Pr.useState({name:"",email:"",subject:"",message:""}),[r,s]=Pr.useState(!1),{toast:a}=as(),n=e=>{const{name:r,value:s}=e.target;t((e=>({...e,[r]:s})))};return te.jsxs("div",{className:"min-h-screen bg-white py-12",children:[te.jsx(zh,{title:"Contact Us | Be Courageous",description:"Get in touch with the Be Courageous team. We're here to answer your questions and help you on your journey to overcome fears.",keywords:"contact, get in touch, questions, support, Be Courageous",canonicalUrl:"https://becourageousnonprofit.org/contact"}),te.jsxs("div",{className:"container mx-auto px-4",children:[te.jsxs("div",{className:"text-center mb-12",children:[te.jsx("h1",{className:"text-3xl font-bold mb-4 text-indigo-900",children:"Contact Us"}),te.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Have questions or want to learn more about our programs? We're here to help you on your journey to overcome fears and build courage."})]}),te.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[te.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[te.jsx("h2",{className:"text-2xl font-semibold mb-6 text-indigo-800",children:"Send Us a Message"}),te.jsx("form",{onSubmit:async e=>{e.preventDefault(),s(!0),setTimeout((()=>{a({title:"Message Sent",description:"Thank you for reaching out! We'll get back to you soon.",variant:"default"}),t({name:"",email:"",subject:"",message:""}),s(!1)}),1500)},children:te.jsxs("div",{className:"space-y-4",children:[te.jsxs("div",{children:[te.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Name"}),te.jsx(Fh,{id:"name",name:"name",value:e.name,onChange:n,placeholder:"John Doe",required:!0})]}),te.jsxs("div",{children:[te.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),te.jsx(Fh,{id:"email",name:"email",type:"email",value:e.email,onChange:n,placeholder:"john@example.com",required:!0})]}),te.jsxs("div",{children:[te.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),te.jsx(Fh,{id:"subject",name:"subject",value:e.subject,onChange:n,placeholder:"How can we help you?",required:!0})]}),te.jsxs("div",{children:[te.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),te.jsx(vu,{id:"message",name:"message",value:e.message,onChange:n,placeholder:"Tell us more about your inquiry...",rows:5,required:!0})]}),te.jsx(Md,{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700",disabled:r,children:r?te.jsxs(te.Fragment,{children:[te.jsx("span",{className:"animate-spin mr-2",children:""}),"Sending..."]}):te.jsxs(te.Fragment,{children:[te.jsx(Me,{className:"h-4 w-4 mr-2"}),"Send Message"]})})]})})]}),te.jsxs("div",{children:[te.jsx("h2",{className:"text-2xl font-semibold mb-6 text-indigo-800",children:"Get in Touch"}),te.jsxs("div",{className:"space-y-6",children:[te.jsxs("div",{className:"flex items-start",children:[te.jsx("div",{className:"flex-shrink-0 bg-indigo-100 p-3 rounded-full",children:te.jsx(Se,{className:"h-6 w-6 text-indigo-600"})}),te.jsxs("div",{className:"ml-4",children:[te.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Email Us"}),te.jsx("p",{className:"mt-1 text-gray-600",children:te.jsx("a",{href:"mailto:info@becourageousnonprofit.org",className:"hover:text-indigo-600",children:"info@becourageousnonprofit.org"})}),te.jsx("p",{className:"mt-1 text-gray-500 text-sm",children:"We aim to respond within 24-48 hours"})]})]}),te.jsxs("div",{className:"flex items-start",children:[te.jsx("div",{className:"flex-shrink-0 bg-indigo-100 p-3 rounded-full",children:te.jsx(rr,{className:"h-6 w-6 text-indigo-600"})}),te.jsxs("div",{className:"ml-4",children:[te.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Call Us"}),te.jsx("p",{className:"mt-1 text-gray-600",children:te.jsx("a",{href:"tel:+18005551234",className:"hover:text-indigo-600",children:"(800) 555-1234"})}),te.jsx("p",{className:"mt-1 text-gray-500 text-sm",children:"Monday-Friday, 9am-5pm PST"})]})]}),te.jsxs("div",{className:"flex items-start",children:[te.jsx("div",{className:"flex-shrink-0 bg-indigo-100 p-3 rounded-full",children:te.jsx(Jt,{className:"h-6 w-6 text-indigo-600"})}),te.jsxs("div",{className:"ml-4",children:[te.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Visit Us"}),te.jsxs("p",{className:"mt-1 text-gray-600",children:["123 Courage Way",te.jsx("br",{}),"Adventure City, CA 90210"]}),te.jsx("p",{className:"mt-1 text-gray-500 text-sm",children:"By appointment only"})]})]})]}),te.jsxs("div",{className:"mt-8 p-6 bg-indigo-50 rounded-lg",children:[te.jsx("h3",{className:"text-lg font-medium text-indigo-900 mb-3",children:"Follow Us"}),te.jsx("p",{className:"text-gray-600 mb-4",children:"Stay connected with us on social media for updates, inspiration, and success stories."}),te.jsxs("div",{className:"flex space-x-4",children:[te.jsx("a",{href:"#",className:"bg-indigo-100 p-2 rounded-full hover:bg-indigo-200 transition-colors",children:te.jsx("svg",{className:"h-5 w-5 text-indigo-600",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:te.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})}),te.jsx("a",{href:"#",className:"bg-indigo-100 p-2 rounded-full hover:bg-indigo-200 transition-colors",children:te.jsx("svg",{className:"h-5 w-5 text-indigo-600",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:te.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})}),te.jsx("a",{href:"#",className:"bg-indigo-100 p-2 rounded-full hover:bg-indigo-200 transition-colors",children:te.jsx("svg",{className:"h-5 w-5 text-indigo-600",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:te.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})}),te.jsx("a",{href:"#",className:"bg-indigo-100 p-2 rounded-full hover:bg-indigo-200 transition-colors",children:te.jsx("svg",{className:"h-5 w-5 text-indigo-600",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:te.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})})})]})]})]})]})]})]})};var Qv,Zv,ey,ty,ry,sy={exports:{}};function ay(){if(Zv)return Qv;Zv=1;return Qv="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}function ny(){if(ty)return ey;ty=1;var e=ay();function t(){}function r(){}return r.resetWarningCache=t,ey=function(){function s(t,r,s,a,n,i){if(i!==e){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function a(){return s}s.isRequired=s;var n={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:a,element:s,elementType:s,instanceOf:a,node:s,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return n.PropTypes=n,n}}function iy(){return ry||(ry=1,sy.exports=ny()()),sy.exports}const oy=Dr(iy());var ly,cy;const dy=Dr(function(){if(cy)return ly;cy=1;var e,t=Ur(),r=(e=t)&&"object"==typeof e&&"default"in e?e.default:e;function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=!("undefined"==typeof window||!window.document||!window.document.createElement);return ly=function(e,n,i){if("function"!=typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!=typeof n)throw new Error("Expected handleStateChangeOnClient to be a function.");if(void 0!==i&&"function"!=typeof i)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(o){if("function"!=typeof o)throw new Error("Expected WrappedComponent to be a React component.");var l,c=[];function d(){l=e(c.map((function(e){return e.props}))),u.canUseDOM?n(l):i&&(l=i(l))}var u=function(e){var t,s;function a(){return e.apply(this,arguments)||this}s=e,(t=a).prototype=Object.create(s.prototype),t.prototype.constructor=t,t.__proto__=s,a.peek=function(){return l},a.rewind=function(){if(a.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=l;return l=void 0,c=[],e};var n=a.prototype;return n.UNSAFE_componentWillMount=function(){c.push(this),d()},n.componentDidUpdate=function(){d()},n.componentWillUnmount=function(){var e=c.indexOf(this);c.splice(e,1),d()},n.render=function(){return r.createElement(o,this.props)},a}(t.PureComponent);return s(u,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(o)+")"),s(u,"canUseDOM",a),u}}}());var uy,hy;const my=Dr(function(){if(hy)return uy;hy=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;return uy=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach((function(e){s[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},s)).join("")}catch(a){return!1}}()?Object.assign:function(s,a){for(var n,i,o=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(s),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))t.call(n,c)&&(o[c]=n[c]);if(e){i=e(n);for(var d=0;d<i.length;d++)r.call(n,i[d])&&(o[i[d]]=n[i[d]])}}return o}}());var fy="bodyAttributes",py="htmlAttributes",gy="titleAttributes",xy={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(xy).map((function(e){return xy[e]}));var vy,yy,by,wy,jy="charset",Ny="cssText",Sy="href",ky="http-equiv",_y="innerHTML",Cy="itemprop",Ty="name",Ey="property",Py="rel",Oy="src",Ay="target",Ry={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Dy="defaultTitle",Ly="defer",Iy="encodeSpecialCharacters",My="onChangeClientState",zy="titleTemplate",$y=Object.keys(Ry).reduce((function(e,t){return e[Ry[t]]=t,e}),{}),Fy=[xy.NOSCRIPT,xy.SCRIPT,xy.STYLE],Uy="data-react-helmet",By="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hy=function(){function e(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,r,s){return r&&e(t.prototype,r),s&&e(t,s),t}}(),qy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Wy=function(e,t){var r={};for(var s in e)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s]);return r},Gy=function(e){return!1===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Vy=function(e){var t=Qy(e,xy.TITLE),r=Qy(e,zy);if(r&&t)return r.replace(/%s/g,(function(){return Array.isArray(t)?t.join(""):t}));var s=Qy(e,Dy);return t||s||void 0},Yy=function(e){return Qy(e,My)||function(){}},Ky=function(e,t){return t.filter((function(t){return void 0!==t[e]})).map((function(t){return t[e]})).reduce((function(e,t){return qy({},e,t)}),{})},Jy=function(e,t){return t.filter((function(e){return void 0!==e[xy.BASE]})).map((function(e){return e[xy.BASE]})).reverse().reduce((function(t,r){if(!t.length)for(var s=Object.keys(r),a=0;a<s.length;a++){var n=s[a].toLowerCase();if(-1!==e.indexOf(n)&&r[n])return t.concat(r)}return t}),[])},Xy=function(e,t,r){var s={};return r.filter((function(t){return!!Array.isArray(t[e])||(void 0!==t[e]&&sb("Helmet: "+e+' should be of type "Array". Instead found type "'+By(t[e])+'"'),!1)})).map((function(t){return t[e]})).reverse().reduce((function(e,r){var a={};r.filter((function(e){for(var r=void 0,n=Object.keys(e),i=0;i<n.length;i++){var o=n[i],l=o.toLowerCase();-1===t.indexOf(l)||r===Py&&"canonical"===e[r].toLowerCase()||l===Py&&"stylesheet"===e[l].toLowerCase()||(r=l),-1===t.indexOf(o)||o!==_y&&o!==Ny&&o!==Cy||(r=o)}if(!r||!e[r])return!1;var c=e[r].toLowerCase();return s[r]||(s[r]={}),a[r]||(a[r]={}),!s[r][c]&&(a[r][c]=!0,!0)})).reverse().forEach((function(t){return e.push(t)}));for(var n=Object.keys(a),i=0;i<n.length;i++){var o=n[i],l=my({},s[o],a[o]);s[o]=l}return e}),[]).reverse()},Qy=function(e,t){for(var r=e.length-1;r>=0;r--){var s=e[r];if(s.hasOwnProperty(t))return s[t]}return null},Zy=(vy=Date.now(),function(e){var t=Date.now();t-vy>16?(vy=t,e(t)):setTimeout((function(){Zy(e)}),0)}),eb=function(e){return clearTimeout(e)},tb="undefined"!=typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Zy:global.requestAnimationFrame||Zy,rb="undefined"!=typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||eb:global.cancelAnimationFrame||eb,sb=function(e){return console&&"function"==typeof console.warn&&void 0},ab=null,nb=function(e,t){var r=e.baseTag,s=e.bodyAttributes,a=e.htmlAttributes,n=e.linkTags,i=e.metaTags,o=e.noscriptTags,l=e.onChangeClientState,c=e.scriptTags,d=e.styleTags,u=e.title,h=e.titleAttributes;lb(xy.BODY,s),lb(xy.HTML,a),ob(u,h);var m={baseTag:cb(xy.BASE,r),linkTags:cb(xy.LINK,n),metaTags:cb(xy.META,i),noscriptTags:cb(xy.NOSCRIPT,o),scriptTags:cb(xy.SCRIPT,c),styleTags:cb(xy.STYLE,d)},f={},p={};Object.keys(m).forEach((function(e){var t=m[e],r=t.newTags,s=t.oldTags;r.length&&(f[e]=r),s.length&&(p[e]=m[e].oldTags)})),t&&t(),l(e,f,p)},ib=function(e){return Array.isArray(e)?e.join(""):e},ob=function(e,t){void 0!==e&&document.title!==e&&(document.title=ib(e)),lb(xy.TITLE,t)},lb=function(e,t){var r=document.getElementsByTagName(e)[0];if(r){for(var s=r.getAttribute(Uy),a=s?s.split(","):[],n=[].concat(a),i=Object.keys(t),o=0;o<i.length;o++){var l=i[o],c=t[l]||"";r.getAttribute(l)!==c&&r.setAttribute(l,c),-1===a.indexOf(l)&&a.push(l);var d=n.indexOf(l);-1!==d&&n.splice(d,1)}for(var u=n.length-1;u>=0;u--)r.removeAttribute(n[u]);a.length===n.length?r.removeAttribute(Uy):r.getAttribute(Uy)!==i.join(",")&&r.setAttribute(Uy,i.join(","))}},cb=function(e,t){var r=document.head||document.querySelector(xy.HEAD),s=r.querySelectorAll(e+"["+Uy+"]"),a=Array.prototype.slice.call(s),n=[],i=void 0;return t&&t.length&&t.forEach((function(t){var r=document.createElement(e);for(var s in t)if(t.hasOwnProperty(s))if(s===_y)r.innerHTML=t.innerHTML;else if(s===Ny)r.styleSheet?r.styleSheet.cssText=t.cssText:r.appendChild(document.createTextNode(t.cssText));else{var o=void 0===t[s]?"":t[s];r.setAttribute(s,o)}r.setAttribute(Uy,"true"),a.some((function(e,t){return i=t,r.isEqualNode(e)}))?a.splice(i,1):n.push(r)})),a.forEach((function(e){return e.parentNode.removeChild(e)})),n.forEach((function(e){return r.appendChild(e)})),{oldTags:a,newTags:n}},db=function(e){return Object.keys(e).reduce((function(t,r){var s=void 0!==e[r]?r+'="'+e[r]+'"':""+r;return t?t+" "+s:s}),"")},ub=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,r){return t[Ry[r]||r]=e[r],t}),t)},hb=function(e,t,r){switch(e){case xy.TITLE:return{toComponent:function(){return e=t.title,r=t.titleAttributes,(s={key:e})[Uy]=!0,a=ub(r,s),[Ar.createElement(xy.TITLE,a,e)];var e,r,s,a},toString:function(){return function(e,t,r,s){var a=db(r),n=ib(t);return a?"<"+e+" "+Uy+'="true" '+a+">"+Gy(n,s)+"</"+e+">":"<"+e+" "+Uy+'="true">'+Gy(n,s)+"</"+e+">"}(e,t.title,t.titleAttributes,r)}};case fy:case py:return{toComponent:function(){return ub(t)},toString:function(){return db(t)}};default:return{toComponent:function(){return function(e,t){return t.map((function(t,r){var s,a=((s={key:r})[Uy]=!0,s);return Object.keys(t).forEach((function(e){var r=Ry[e]||e;if(r===_y||r===Ny){var s=t.innerHTML||t.cssText;a.dangerouslySetInnerHTML={__html:s}}else a[r]=t[e]})),Ar.createElement(e,a)}))}(e,t)},toString:function(){return function(e,t,r){return t.reduce((function(t,s){var a=Object.keys(s).filter((function(e){return!(e===_y||e===Ny)})).reduce((function(e,t){var a=void 0===s[t]?t:t+'="'+Gy(s[t],r)+'"';return e?e+" "+a:a}),""),n=s.innerHTML||s.cssText||"",i=-1===Fy.indexOf(e);return t+"<"+e+" "+Uy+'="true" '+a+(i?"/>":">"+n+"</"+e+">")}),"")}(e,t,r)}}}},mb=function(e){var t=e.baseTag,r=e.bodyAttributes,s=e.encode,a=e.htmlAttributes,n=e.linkTags,i=e.metaTags,o=e.noscriptTags,l=e.scriptTags,c=e.styleTags,d=e.title,u=void 0===d?"":d,h=e.titleAttributes;return{base:hb(xy.BASE,t,s),bodyAttributes:hb(fy,r,s),htmlAttributes:hb(py,a,s),link:hb(xy.LINK,n,s),meta:hb(xy.META,i,s),noscript:hb(xy.NOSCRIPT,o,s),script:hb(xy.SCRIPT,l,s),style:hb(xy.STYLE,c,s),title:hb(xy.TITLE,{title:u,titleAttributes:h},s)}},fb=dy((function(e){return{baseTag:Jy([Sy,Ay],e),bodyAttributes:Ky(fy,e),defer:Qy(e,Ly),encode:Qy(e,Iy),htmlAttributes:Ky(py,e),linkTags:Xy(xy.LINK,[Py,Sy],e),metaTags:Xy(xy.META,[Ty,jy,ky,Ey,Cy],e),noscriptTags:Xy(xy.NOSCRIPT,[_y],e),onChangeClientState:Yy(e),scriptTags:Xy(xy.SCRIPT,[Oy,_y],e),styleTags:Xy(xy.STYLE,[Ny],e),title:Vy(e),titleAttributes:Ky(gy,e)}}),(function(e){ab&&rb(ab),e.defer?ab=tb((function(){nb(e,(function(){ab=null}))})):(nb(e),ab=null)}),mb)((function(){return null})),pb=(yy=fb,wy=by=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){return!ui(this.props,e)},t.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case xy.SCRIPT:case xy.NOSCRIPT:return{innerHTML:t};case xy.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},t.prototype.flattenArrayTypeChildren=function(e){var t,r=e.child,s=e.arrayTypeChildren,a=e.newChildProps,n=e.nestedChildren;return qy({},s,((t={})[r.type]=[].concat(s[r.type]||[],[qy({},a,this.mapNestedChildrenToProps(r,n))]),t))},t.prototype.mapObjectTypeChildren=function(e){var t,r,s=e.child,a=e.newProps,n=e.newChildProps,i=e.nestedChildren;switch(s.type){case xy.TITLE:return qy({},a,((t={})[s.type]=i,t.titleAttributes=qy({},n),t));case xy.BODY:return qy({},a,{bodyAttributes:qy({},n)});case xy.HTML:return qy({},a,{htmlAttributes:qy({},n)})}return qy({},a,((r={})[s.type]=qy({},n),r))},t.prototype.mapArrayTypeChildrenToProps=function(e,t){var r=qy({},t);return Object.keys(e).forEach((function(t){var s;r=qy({},r,((s={})[t]=e[t],s))})),r},t.prototype.warnOnInvalidChildren=function(e,t){return!0},t.prototype.mapChildrenToProps=function(e,t){var r=this,s={};return Ar.Children.forEach(e,(function(e){if(e&&e.props){var a=e.props,n=a.children,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,r){return t[$y[r]||r]=e[r],t}),t)}(Wy(a,["children"]));switch(r.warnOnInvalidChildren(e,n),e.type){case xy.LINK:case xy.META:case xy.NOSCRIPT:case xy.SCRIPT:case xy.STYLE:s=r.flattenArrayTypeChildren({child:e,arrayTypeChildren:s,newChildProps:i,nestedChildren:n});break;default:t=r.mapObjectTypeChildren({child:e,newProps:t,newChildProps:i,nestedChildren:n})}}})),t=this.mapArrayTypeChildrenToProps(s,t)},t.prototype.render=function(){var e=this.props,t=e.children,r=Wy(e,["children"]),s=qy({},r);return t&&(s=this.mapChildrenToProps(t,s)),Ar.createElement(yy,s)},Hy(t,null,[{key:"canUseDOM",set:function(e){yy.canUseDOM=e}}]),t}(Ar.Component),by.propTypes={base:oy.object,bodyAttributes:oy.object,children:oy.oneOfType([oy.arrayOf(oy.node),oy.node]),defaultTitle:oy.string,defer:oy.bool,encodeSpecialCharacters:oy.bool,htmlAttributes:oy.object,link:oy.arrayOf(oy.object),meta:oy.arrayOf(oy.object),noscript:oy.arrayOf(oy.object),onChangeClientState:oy.func,script:oy.arrayOf(oy.object),style:oy.arrayOf(oy.object),title:oy.string,titleAttributes:oy.object,titleTemplate:oy.string},by.defaultProps={defer:!0,encodeSpecialCharacters:!0},by.peek=yy.peek,by.rewind=function(){var e=yy.rewind();return e||(e=mb({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),e},wy);pb.renderStatic=pb.rewind;const gb=Pr.forwardRef((({className:e,...t},r)=>te.jsx("div",{className:"relative w-full overflow-auto",children:te.jsx("table",{ref:r,className:Ba("w-full caption-bottom text-sm",e),...t})})));gb.displayName="Table";const xb=Pr.forwardRef((({className:e,...t},r)=>te.jsx("thead",{ref:r,className:Ba("[&_tr]:border-b",e),...t})));xb.displayName="TableHeader";const vb=Pr.forwardRef((({className:e,...t},r)=>te.jsx("tbody",{ref:r,className:Ba("[&_tr:last-child]:border-0",e),...t})));vb.displayName="TableBody";Pr.forwardRef((({className:e,...t},r)=>te.jsx("tfoot",{ref:r,className:Ba("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}))).displayName="TableFooter";const yb=Pr.forwardRef((({className:e,...t},r)=>te.jsx("tr",{ref:r,className:Ba("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t})));yb.displayName="TableRow";const bb=Pr.forwardRef((({className:e,...t},r)=>te.jsx("th",{ref:r,className:Ba("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t})));bb.displayName="TableHead";const wb=Pr.forwardRef((({className:e,...t},r)=>te.jsx("td",{ref:r,className:Ba("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t})));wb.displayName="TableCell";Pr.forwardRef((({className:e,...t},r)=>te.jsx("caption",{ref:r,className:Ba("mt-4 text-sm text-muted-foreground",e),...t}))).displayName="TableCaption";const jb=()=>{var e;const[t,r]=Pr.useState([]),[s,a]=Pr.useState([]),[n,i]=Pr.useState(!0),[o,l]=Pr.useState(""),[c,d]=Pr.useState(null),[u,h]=Pr.useState(!1),[m,f]=Pr.useState("promote"),{toast:p}=as(),{user:g}=Rd(),x=Ir(),v=async()=>{try{i(!0);const e=new Promise(((e,t)=>{setTimeout((()=>t(new Error("User fetch timed out"))),1e4)})),t=new Promise((async e=>{try{const{data:t,error:r}=await jd.from("auth_users_view").select("*");if(r)return void e([]);const{data:s,error:a}=await jd.from("admin_users").select("user_id"),n=new Set((s||[]).map((e=>e.user_id))),{data:i,error:o}=await jd.from("user_profiles").select("user_id, profile_completed"),l=new Map;(i||[]).forEach((e=>{l.set(e.user_id,e)}));e((t||[]).map((e=>{var t,r;return{...e,is_admin:n.has(e.id)||"admin"===(null==(t=e.user_metadata)?void 0:t.role),profile_completed:(null==(r=l.get(e.id))?void 0:r.profile_completed)||!1}})))}catch(t){e([])}})),s=await Promise.race([t,e]);r(s),a(s)}catch(e){p({title:"Error",description:"Failed to load users. Please try again.",variant:"destructive"})}finally{i(!1)}};Pr.useEffect((()=>{if(""===o.trim())a(t);else{const e=o.toLowerCase(),r=t.filter((t=>{var r,s;return t.email.toLowerCase().includes(e)||(null==(s=null==(r=t.user_metadata)?void 0:r.full_name)?void 0:s.toLowerCase().includes(e))||t.id.toLowerCase().includes(e)}));a(r)}}),[o,t]),Pr.useEffect((()=>{v()}),[]);const y=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Never";return te.jsxs(te.Fragment,{children:[te.jsxs(hu,{children:[te.jsxs(mu,{children:[te.jsx(fu,{children:"User Management"}),te.jsx(pu,{children:"View and manage all users in the system"})]}),te.jsxs(gu,{children:[te.jsxs("div",{className:"flex justify-between items-center mb-4",children:[te.jsxs("div",{className:"relative w-full max-w-sm",children:[te.jsx(tr,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),te.jsx(Fh,{type:"search",placeholder:"Search users...",className:"pl-8",value:o,onChange:e=>l(e.target.value)})]}),te.jsxs(Md,{variant:"outline",className:"ml-2",disabled:!0,children:[te.jsx(sr,{className:"h-4 w-4 mr-2"}),"Invite User"]})]}),n?te.jsx("div",{className:"flex justify-center items-center py-12",children:te.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})}):te.jsx("div",{className:"rounded-md border",children:te.jsxs(gb,{children:[te.jsx(xb,{children:te.jsxs(yb,{children:[te.jsx(bb,{children:"User"}),te.jsx(bb,{children:"Status"}),te.jsx(bb,{children:"Created"}),te.jsx(bb,{children:"Last Sign In"}),te.jsx(bb,{className:"text-right",children:"Actions"})]})}),te.jsx(vb,{children:0===s.length?te.jsx(yb,{children:te.jsx(wb,{colSpan:5,className:"text-center py-6 text-muted-foreground",children:o?"No users match your search":"No users found"})}):s.map((e=>{var t;return te.jsxs(yb,{children:[te.jsx(wb,{className:"font-medium",children:te.jsxs("div",{className:"flex flex-col",children:[te.jsx("span",{children:(null==(t=e.user_metadata)?void 0:t.full_name)||"Unnamed User"}),te.jsx("span",{className:"text-sm text-muted-foreground",children:e.email})]})}),te.jsx(wb,{children:te.jsxs("div",{className:"flex gap-2",children:[e.is_admin&&te.jsxs(bv,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[te.jsx(ar,{className:"h-3 w-3 mr-1"}),"Admin"]}),e.profile_completed?te.jsx(bv,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Complete"}):te.jsx(bv,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200",children:"Incomplete"})]})}),te.jsx(wb,{children:y(e.created_at)}),te.jsx(wb,{children:y(e.last_sign_in_at)}),te.jsx(wb,{className:"text-right",children:te.jsxs(Qh,{children:[te.jsx(Zh,{asChild:!0,children:te.jsxs(Md,{variant:"ghost",className:"h-8 w-8 p-0",children:[te.jsx("span",{className:"sr-only",children:"Open menu"}),te.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[te.jsx("circle",{cx:"12",cy:"12",r:"1"}),te.jsx("circle",{cx:"12",cy:"5",r:"1"}),te.jsx("circle",{cx:"12",cy:"19",r:"1"})]})]})}),te.jsxs(tm,{align:"end",children:[te.jsx(am,{children:"Actions"}),te.jsx(nm,{}),te.jsxs(rm,{onClick:()=>x(`/admin/users/${e.id}`),children:[te.jsx(Ct,{className:"h-4 w-4 mr-2"}),"View Details"]}),e.is_admin?te.jsxs(rm,{onClick:()=>{d(e),f("demote"),h(!0)},disabled:e.id===(null==g?void 0:g.id),children:[te.jsx(nr,{className:"h-4 w-4 mr-2"}),"Remove Admin"]}):te.jsxs(rm,{onClick:()=>{d(e),f("promote"),h(!0)},children:[te.jsx(ar,{className:"h-4 w-4 mr-2"}),"Make Admin"]}),te.jsx(nm,{}),te.jsxs(rm,{onClick:()=>{d(e),f("delete"),h(!0)},disabled:e.id===(null==g?void 0:g.id),className:"text-red-600 focus:text-red-600",children:[te.jsx(ir,{className:"h-4 w-4 mr-2"}),"Delete User"]})]})]})})]},e.id)}))})]})})]})]}),te.jsx(ru,{open:u,onOpenChange:h,children:te.jsxs(iu,{children:[te.jsxs(ou,{children:[te.jsx(cu,{children:"promote"===m?"Promote User to Admin":"demote"===m?"Remove Admin Privileges":"Delete User"}),te.jsx(du,{children:"promote"===m?"This will grant admin privileges to this user. They will be able to access all admin features.":"demote"===m?"This will remove admin privileges from this user. They will no longer have access to admin features.":"This will permanently delete this user and all their data. This action cannot be undone."})]}),c&&te.jsxs("div",{className:"py-4",children:[te.jsx("p",{className:"font-medium",children:(null==(e=c.user_metadata)?void 0:e.full_name)||"Unnamed User"}),te.jsx("p",{className:"text-sm text-muted-foreground",children:c.email})]}),te.jsxs(lu,{children:[te.jsx(Md,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),te.jsx(Md,{variant:"delete"===m?"destructive":"default",onClick:async()=>{var e;if(c){h(!1);try{if("promote"===m){const{error:e}=await jd.from("admin_users").insert([{user_id:c.id}]);if(e)throw e;p({title:"Success",description:`${c.email} has been promoted to admin.`})}else if("demote"===m){const{error:e}=await jd.from("admin_users").delete().eq("user_id",c.id);if(e)throw e;p({title:"Success",description:`${c.email} has been demoted from admin.`})}else if("delete"===m){const{data:t}=await jd.auth.getSession();if(!(null==(e=t.session)?void 0:e.access_token))throw new Error("No access token found");const r=await fetch("https://bzryrvfjfzchzbmxzdyi.supabase.co/functions/v1/admin-delete-user",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.session.access_token}`},body:JSON.stringify({user_id:c.id})});if(!r.ok){const e=await r.json();throw new Error(e.error||"Failed to delete user")}p({title:"Success",description:`${c.email} has been deleted.`})}v()}catch(t){p({title:"Error",description:`Failed to ${m} user. ${t instanceof Error?t.message:""}`,variant:"destructive"})}}},children:"promote"===m?"Promote":"demote"===m?"Remove Admin":"Delete"})]})]})})]})};var Nb="AlertDialog",[Sb,kb]=Q(Nb,[or]),_b=or(),Cb=e=>{const{__scopeAlertDialog:t,...r}=e,s=_b(t);return te.jsx(De,{...s,...r,modal:!0})};Cb.displayName=Nb;Pr.forwardRef(((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=_b(r);return te.jsx(Le,{...a,...s,ref:t})})).displayName="AlertDialogTrigger";var Tb=e=>{const{__scopeAlertDialog:t,...r}=e,s=_b(t);return te.jsx(Ee,{...s,...r})};Tb.displayName="AlertDialogPortal";var Eb=Pr.forwardRef(((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=_b(r);return te.jsx(Te,{...a,...s,ref:t})}));Eb.displayName="AlertDialogOverlay";var Pb="AlertDialogContent",[Ob,Ab]=Sb(Pb),Rb=Pr.forwardRef(((e,t)=>{const{__scopeAlertDialog:r,children:s,...a}=e,n=_b(r),i=Pr.useRef(null),o=ee(t,i),l=Pr.useRef(null);return te.jsx(lr,{contentName:Pb,titleName:Db,docsSlug:"alert-dialog",children:te.jsx(Ob,{scope:r,cancelRef:l,children:te.jsxs(Pe,{role:"alertdialog",...n,...a,ref:o,onOpenAutoFocus:ie(a.onOpenAutoFocus,(e=>{var t;e.preventDefault(),null==(t=l.current)||t.focus({preventScroll:!0})})),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[te.jsx(cr,{children:s}),te.jsx(Ub,{contentRef:i})]})})})}));Rb.displayName=Pb;var Db="AlertDialogTitle",Lb=Pr.forwardRef(((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=_b(r);return te.jsx(Ae,{...a,...s,ref:t})}));Lb.displayName=Db;var Ib="AlertDialogDescription",Mb=Pr.forwardRef(((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=_b(r);return te.jsx(Re,{...a,...s,ref:t})}));Mb.displayName=Ib;var zb=Pr.forwardRef(((e,t)=>{const{__scopeAlertDialog:r,...s}=e,a=_b(r);return te.jsx(Oe,{...a,...s,ref:t})}));zb.displayName="AlertDialogAction";var $b="AlertDialogCancel",Fb=Pr.forwardRef(((e,t)=>{const{__scopeAlertDialog:r,...s}=e,{cancelRef:a}=Ab($b,r),n=_b(r),i=ee(t,a);return te.jsx(Oe,{...n,...s,ref:i})}));Fb.displayName=$b;var Ub=({contentRef:e})=>{const t=`\`${Pb}\` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the \`${Pb}\` by passing a \`${Ib}\` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Pb}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return Pr.useEffect((()=>{var t;document.getElementById(null==(t=e.current)?void 0:t.getAttribute("aria-describedby"))}),[t,e]),null},Bb=Eb,Hb=Rb,qb=zb,Wb=Fb,Gb=Lb,Vb=Mb;const Yb=Cb,Kb=Tb,Jb=Pr.forwardRef((({className:e,...t},r)=>te.jsx(Bb,{className:Ba("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r})));Jb.displayName=Bb.displayName;const Xb=Pr.forwardRef((({className:e,...t},r)=>te.jsxs(Kb,{children:[te.jsx(Jb,{}),te.jsx(Hb,{ref:r,className:Ba("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]})));Xb.displayName=Hb.displayName;const Qb=({className:e,...t})=>te.jsx("div",{className:Ba("flex flex-col space-y-2 text-center sm:text-left",e),...t});Qb.displayName="AlertDialogHeader";const Zb=({className:e,...t})=>te.jsx("div",{className:Ba("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Zb.displayName="AlertDialogFooter";const ew=Pr.forwardRef((({className:e,...t},r)=>te.jsx(Gb,{ref:r,className:Ba("text-lg font-semibold",e),...t})));ew.displayName=Gb.displayName;const tw=Pr.forwardRef((({className:e,...t},r)=>te.jsx(Vb,{ref:r,className:Ba("text-sm text-muted-foreground",e),...t})));tw.displayName=Vb.displayName;const rw=Pr.forwardRef((({className:e,...t},r)=>te.jsx(qb,{ref:r,className:Ba(Id(),e),...t})));rw.displayName=qb.displayName;const sw=Pr.forwardRef((({className:e,...t},r)=>te.jsx(Wb,{ref:r,className:Ba(Id({variant:"outline"}),"mt-2 sm:mt-0",e),...t})));sw.displayName=Wb.displayName;const aw=({onEditActivity:e,onCreateActivity:t})=>{const[r,s]=Pr.useState([]),[a,n]=Pr.useState([]),[i,o]=Pr.useState(!0),[l,c]=Pr.useState(""),[d,u]=Pr.useState(null),[h,m]=Pr.useState(!1),{toast:f}=as(),p=async()=>{try{o(!0);const e=new Promise(((e,t)=>{setTimeout((()=>t(new Error("Activity fetch timed out"))),1e4)})),t=new Promise((async e=>{try{const{data:t,error:r}=await jd.from("activities").select("*").order("created_at",{ascending:!1});if(r)return void e([]);e(t||[])}catch(t){e([])}})),r=await Promise.race([t,e]);s(r),n(r)}catch(e){f({title:"Error",description:"Failed to load activities. Please try again.",variant:"destructive"})}finally{o(!1)}};Pr.useEffect((()=>{if(""===l.trim())n(r);else{const e=l.toLowerCase(),t=r.filter((t=>t.title.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)||t.fearCategories.some((t=>t.toLowerCase().includes(e)))));n(t)}}),[l,r]),Pr.useEffect((()=>{p()}),[]);const g=e=>{switch(e){case"published":return te.jsx(bv,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Published"});case"draft":return te.jsx(bv,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200",children:"Draft"});case"archived":return te.jsx(bv,{variant:"outline",className:"bg-gray-50 text-gray-700 border-gray-200",children:"Archived"});default:return te.jsx(bv,{variant:"outline",children:e})}};return te.jsxs(te.Fragment,{children:[te.jsxs("div",{className:"flex justify-between items-center mb-4",children:[te.jsxs("div",{className:"relative w-full max-w-sm",children:[te.jsx(tr,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),te.jsx(Fh,{type:"search",placeholder:"Search activities...",className:"pl-8",value:l,onChange:e=>c(e.target.value)})]}),te.jsxs(Md,{onClick:t,className:"ml-2",children:[te.jsx(dr,{className:"h-4 w-4 mr-2"}),"Create Activity"]})]}),i?te.jsx("div",{className:"flex justify-center items-center py-12",children:te.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})}):te.jsx("div",{className:"rounded-md border",children:te.jsxs(gb,{children:[te.jsx(xb,{children:te.jsxs(yb,{children:[te.jsx(bb,{children:"Activity"}),te.jsx(bb,{children:"Fear Categories"}),te.jsx(bb,{children:"Difficulty"}),te.jsx(bb,{children:"Status"}),te.jsx(bb,{children:"Created"}),te.jsx(bb,{className:"text-right",children:"Actions"})]})}),te.jsx(vb,{children:0===a.length?te.jsx(yb,{children:te.jsx(wb,{colSpan:6,className:"text-center py-6 text-muted-foreground",children:l?"No activities match your search":"No activities found"})}):a.map((t=>{return te.jsxs(yb,{children:[te.jsx(wb,{className:"font-medium",children:te.jsxs("div",{className:"flex flex-col",children:[te.jsx("span",{children:t.title}),te.jsx("span",{className:"text-sm text-muted-foreground truncate max-w-[200px]",children:t.description})]})}),te.jsx(wb,{children:te.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.fearCategories.slice(0,3).map(((e,t)=>te.jsx(bv,{variant:"outline",className:"text-xs",children:e},t))),t.fearCategories.length>3&&te.jsxs(bv,{variant:"outline",className:"text-xs",children:["+",t.fearCategories.length-3]})]})}),te.jsx(wb,{children:t.difficultyLevel||t.difficulty}),te.jsx(wb,{children:g(t.status)}),te.jsx(wb,{children:(r=t.created_at,new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))}),te.jsx(wb,{className:"text-right",children:te.jsxs(Qh,{children:[te.jsx(Zh,{asChild:!0,children:te.jsxs(Md,{variant:"ghost",className:"h-8 w-8 p-0",children:[te.jsx("span",{className:"sr-only",children:"Open menu"}),te.jsx(ur,{className:"h-4 w-4"})]})}),te.jsxs(tm,{align:"end",children:[te.jsx(am,{children:"Actions"}),te.jsx(nm,{}),te.jsxs(rm,{onClick:()=>e(t.id),children:[te.jsx(hr,{className:"h-4 w-4 mr-2"}),"Edit"]}),te.jsxs(rm,{onClick:()=>(async e=>{try{const t={...e,id:void 0,title:`${e.title} (Copy)`,status:"draft",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()},{error:r}=await jd.from("activities").insert([t]);if(r)throw r;f({title:"Success",description:`"${e.title}" has been duplicated.`}),p()}catch(t){f({title:"Error",description:`Failed to duplicate activity. ${t instanceof Error?t.message:""}`,variant:"destructive"})}})(t),children:[te.jsx(mr,{className:"h-4 w-4 mr-2"}),"Duplicate"]}),te.jsxs(rm,{onClick:()=>window.open(`/activities/${t.id}`,"_blank"),children:[te.jsx(Ct,{className:"h-4 w-4 mr-2"}),"View"]}),te.jsx(nm,{}),te.jsxs(rm,{onClick:()=>{u(t),m(!0)},className:"text-red-600 focus:text-red-600",children:[te.jsx(fr,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})]},t.id);var r}))})]})}),te.jsx(Yb,{open:h,onOpenChange:m,children:te.jsxs(Xb,{children:[te.jsxs(Qb,{children:[te.jsx(ew,{children:"Delete Activity"}),te.jsx(tw,{children:"This will permanently delete this activity. This action cannot be undone."})]}),d&&te.jsxs("div",{className:"py-4",children:[te.jsx("p",{className:"font-medium",children:d.title}),te.jsx("p",{className:"text-sm text-muted-foreground truncate",children:d.description})]}),te.jsxs(Zb,{children:[te.jsx(sw,{children:"Cancel"}),te.jsx(rw,{onClick:async()=>{if(d){m(!1);try{const{error:e}=await jd.from("activities").delete().eq("id",d.id);if(e)throw e;f({title:"Success",description:`"${d.title}" has been deleted.`}),p()}catch(e){f({title:"Error",description:`Failed to delete activity. ${e instanceof Error?e.message:""}`,variant:"destructive"})}}},className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})},nw=["Social Anxiety","Public Speaking","Heights","Spiders","Darkness","Failure","Rejection","Confined Spaces","Flying","Water","Dogs","Needles","Driving","Germs","Crowds"],iw=["Beginner","Easy","Moderate","Challenging","Advanced"],ow=({activityId:e,onSaved:t})=>{var r,s;const{user:a}=Rd(),{toast:n}=as(),[i,o]=Pr.useState(!1),[l,c]=Pr.useState(!1),[d,u]=Pr.useState(!1),[h,m]=Pr.useState({title:"",description:"",imageUrl:"",difficulty:"Moderate",fearCategories:[],status:"draft"}),[f,p]=Pr.useState("");Pr.useEffect((()=>{(async()=>{if(e)try{o(!0);const{data:t,error:r}=await jd.from("activities").select("*").eq("id",e).single();if(r)return void n({title:"Error",description:"Failed to load activity. Please try again.",variant:"destructive"});t&&m({...t,imageUrl:t.imageUrl||t.image,difficultyLevel:t.difficultyLevel||t.difficulty})}catch(t){}finally{o(!1)}})()}),[e,n]);const g=e=>{const{name:t,value:r}=e.target;m((e=>({...e,[t]:r})))},x=(e,t)=>{m((r=>({...r,[e]:t})))},v=e=>{var t;e&&((null==(t=h.fearCategories)?void 0:t.includes(e))?n({title:"Already Added",description:`"${e}" is already in the list.`}):(m((t=>({...t,fearCategories:[...t.fearCategories||[],e]}))),e===f&&p("")))};return i?te.jsx("div",{className:"flex justify-center items-center py-12",children:te.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})}):te.jsx(hu,{children:te.jsxs(gu,{className:"pt-6",children:[te.jsxs("div",{className:"flex justify-between items-center mb-6",children:[te.jsxs(Md,{variant:"outline",onClick:t,children:[te.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Back to List"]}),te.jsx("div",{className:"flex gap-2",children:te.jsxs(Md,{variant:"default",onClick:async()=>{if(h.title&&h.description)try{c(!0);const r=(new Date).toISOString(),s={...h,difficulty:h.difficultyLevel||h.difficulty,image:h.imageUrl,updated_at:r};if(e){const{error:t}=await jd.from("activities").update(s).eq("id",e);if(t)throw t;n({title:"Activity Updated",description:"Activity has been updated successfully."})}else{const{error:e}=await jd.from("activities").insert([{...s,created_at:r,created_by:null==a?void 0:a.id}]);if(e)throw e;n({title:"Activity Created",description:"Activity has been created successfully."})}t()}catch(r){n({title:"Save Failed",description:"Failed to save activity. Please try again.",variant:"destructive"})}finally{c(!1)}else n({title:"Missing Fields",description:"Please fill in all required fields.",variant:"destructive"})},disabled:l,children:[l?te.jsx(We,{className:"h-4 w-4 mr-2 animate-spin"}):te.jsx(pr,{className:"h-4 w-4 mr-2"}),"Save Activity"]})})]}),te.jsxs("div",{className:"grid gap-6",children:[te.jsxs("div",{className:"grid gap-2",children:[te.jsxs(qh,{htmlFor:"title",children:["Title ",te.jsx("span",{className:"text-red-500",children:"*"})]}),te.jsx(Fh,{id:"title",name:"title",value:h.title,onChange:g,placeholder:"Enter activity title",required:!0})]}),te.jsxs("div",{className:"grid gap-2",children:[te.jsxs(qh,{htmlFor:"description",children:["Description ",te.jsx("span",{className:"text-red-500",children:"*"})]}),te.jsx(vu,{id:"description",name:"description",value:h.description,onChange:g,placeholder:"Enter activity description",rows:4,required:!0})]}),te.jsxs("div",{className:"grid gap-2",children:[te.jsx(qh,{htmlFor:"image",children:"Image"}),te.jsxs("div",{className:"flex flex-col gap-4",children:[h.imageUrl&&te.jsxs("div",{className:"relative w-full max-w-xs",children:[te.jsx("img",{src:h.imageUrl,alt:h.title,className:"rounded-md object-cover h-40 w-full"}),te.jsx(Md,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-8 w-8",onClick:()=>m((e=>({...e,imageUrl:""}))),children:te.jsx(fr,{className:"h-4 w-4"})})]}),te.jsxs("div",{className:"flex items-center gap-4",children:[te.jsxs(Md,{variant:"outline",onClick:()=>{var e;return null==(e=document.getElementById("image-upload"))?void 0:e.click()},disabled:d,className:"w-fit",children:[d?te.jsx(We,{className:"h-4 w-4 mr-2 animate-spin"}):te.jsx(gr,{className:"h-4 w-4 mr-2"}),h.imageUrl?"Change Image":"Upload Image"]}),te.jsx("input",{id:"image-upload",type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files;if(t&&0!==t.length)try{u(!0);const e=t[0],r=e.name.split(".").pop(),s=`activity-images/${`${Math.random().toString(36).substring(2,15)}.${r}`}`,{error:a}=await jd.storage.from("public").upload(s,e);if(a)throw a;const{data:i}=jd.storage.from("public").getPublicUrl(s);m((e=>({...e,imageUrl:i.publicUrl}))),n({title:"Image Uploaded",description:"Image has been uploaded successfully."})}catch(r){n({title:"Upload Failed",description:"Failed to upload image. Please try again.",variant:"destructive"})}finally{u(!1)}},className:"hidden"}),d&&te.jsx("span",{className:"text-sm text-muted-foreground",children:"Uploading..."})]})]})]}),te.jsxs("div",{className:"grid gap-2",children:[te.jsx(qh,{htmlFor:"difficulty",children:"Difficulty Level"}),te.jsxs(Df,{value:h.difficultyLevel||h.difficulty,onValueChange:e=>x("difficulty",e),children:[te.jsx(If,{children:te.jsx(Lf,{placeholder:"Select difficulty"})}),te.jsx($f,{children:iw.map((e=>te.jsx(Ff,{value:e,children:e},e)))})]})]}),te.jsxs("div",{className:"grid gap-2",children:[te.jsx(qh,{children:"Fear Categories"}),te.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[null==(r=h.fearCategories)?void 0:r.map((e=>te.jsxs(bv,{variant:"secondary",className:"pl-2 pr-1 py-1",children:[e,te.jsx(Md,{variant:"ghost",size:"icon",className:"h-5 w-5 ml-1",onClick:()=>(e=>{m((t=>({...t,fearCategories:(t.fearCategories||[]).filter((t=>t!==e))})))})(e),children:te.jsx(me,{className:"h-3 w-3"})})]},e))),0===(null==(s=h.fearCategories)?void 0:s.length)&&te.jsx("span",{className:"text-sm text-muted-foreground",children:"No categories selected"})]}),te.jsxs("div",{className:"flex gap-2",children:[te.jsxs(Df,{onValueChange:e=>v(e),children:[te.jsx(If,{className:"w-full",children:te.jsx(Lf,{placeholder:"Add fear category"})}),te.jsx($f,{children:nw.map((e=>te.jsx(Ff,{value:e,children:e},e)))})]}),te.jsxs("div",{className:"flex gap-2",children:[te.jsx(Fh,{placeholder:"Custom category",value:f,onChange:e=>p(e.target.value)}),te.jsx(Md,{variant:"outline",onClick:()=>{f.trim()&&v(f.trim())},disabled:!f.trim(),children:"Add"})]})]})]}),te.jsxs("div",{className:"grid gap-2",children:[te.jsx(qh,{htmlFor:"status",children:"Status"}),te.jsxs(Df,{value:h.status,onValueChange:e=>x("status",e),children:[te.jsx(If,{children:te.jsx(Lf,{placeholder:"Select status"})}),te.jsxs($f,{children:[te.jsx(Ff,{value:"published",children:"Published"}),te.jsx(Ff,{value:"draft",children:"Draft"}),te.jsx(Ff,{value:"archived",children:"Archived"})]})]})]})]})]})})},lw=()=>{const[e,t]=Pr.useState(null),[r,s]=Pr.useState(!0),{toast:a}=as();return Pr.useEffect((()=>{(async()=>{try{s(!0);const e=new Promise(((e,t)=>{setTimeout((()=>t(new Error("Stats fetch timed out"))),1e4)})),r=new Promise((async e=>{try{const{data:t,error:r}=await jd.from("activities").select("*").order("created_at",{ascending:!1});if(r)return void e(null);const s=t||[],a=s.filter((e=>"published"===e.status)),n=s.filter((e=>"draft"===e.status)),i=s.filter((e=>"archived"===e.status)),o={};s.forEach((e=>{(e.fearCategories||[]).forEach((e=>{o[e]=(o[e]||0)+1}))}));const l={};s.forEach((e=>{const t=e.difficultyLevel||e.difficulty;l[t]=(l[t]||0)+1}));const c=[...s].sort(((e,t)=>(t.completion_count||0)-(e.completion_count||0))),d=s.slice(0,5),{data:u,error:h}=await jd.from("user_profiles").select("progress_tracking");let m=0;(u||[]).forEach((e=>{var t;const r=((null==(t=e.progress_tracking)?void 0:t.activities)||[]).filter((e=>"completed"===e.status));m+=r.length})),e({totalActivities:s.length,publishedActivities:a.length,draftActivities:n.length,archivedActivities:i.length,totalCompletions:m,mostPopularActivities:c.slice(0,5),activityByFearCategory:o,activityByDifficulty:l,recentActivities:d})}catch(t){e(null)}})),a=await Promise.race([r,e]);t(a)}catch(e){a({title:"Error",description:"Failed to load activity statistics. Please try again.",variant:"destructive"})}finally{s(!1)}})()}),[a]),r?te.jsx("div",{className:"flex justify-center items-center py-12",children:te.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})}):e?te.jsxs("div",{className:"space-y-6",children:[te.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[te.jsxs(hu,{children:[te.jsxs(mu,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[te.jsx(fu,{className:"text-sm font-medium",children:"Total Activities"}),te.jsx(xr,{className:"h-4 w-4 text-muted-foreground"})]}),te.jsxs(gu,{children:[te.jsx("div",{className:"text-2xl font-bold",children:e.totalActivities}),te.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.publishedActivities," published, ",e.draftActivities," drafts"]})]})]}),te.jsxs(hu,{children:[te.jsxs(mu,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[te.jsx(fu,{className:"text-sm font-medium",children:"Activity Completions"}),te.jsx(vr,{className:"h-4 w-4 text-muted-foreground"})]}),te.jsxs(gu,{children:[te.jsx("div",{className:"text-2xl font-bold",children:e.totalCompletions}),te.jsx("p",{className:"text-xs text-muted-foreground",children:"Total user completions"})]})]}),te.jsxs(hu,{children:[te.jsxs(mu,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[te.jsx(fu,{className:"text-sm font-medium",children:"Fear Categories"}),te.jsx(qt,{className:"h-4 w-4 text-muted-foreground"})]}),te.jsxs(gu,{children:[te.jsx("div",{className:"text-2xl font-bold",children:Object.keys(e.activityByFearCategory).length}),te.jsx("p",{className:"text-xs text-muted-foreground",children:"Unique fear categories"})]})]}),te.jsxs(hu,{children:[te.jsxs(mu,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[te.jsx(fu,{className:"text-sm font-medium",children:"Recent Activities"}),te.jsx(Yt,{className:"h-4 w-4 text-muted-foreground"})]}),te.jsxs(gu,{children:[te.jsx("div",{className:"text-2xl font-bold",children:e.recentActivities.length}),te.jsx("p",{className:"text-xs text-muted-foreground",children:"Added in the last 30 days"})]})]})]}),te.jsxs(hu,{children:[te.jsxs(mu,{children:[te.jsx(fu,{children:"Most Popular Activities"}),te.jsx(pu,{children:"Activities with the highest completion rates"})]}),te.jsx(gu,{children:e.mostPopularActivities.length>0?te.jsx("div",{className:"space-y-4",children:e.mostPopularActivities.map(((e,t)=>{var r;return te.jsxs("div",{className:"flex items-center",children:[te.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center mr-3",children:te.jsx("span",{className:"text-sm font-medium",children:t+1})}),te.jsxs("div",{className:"flex-grow",children:[te.jsx("h4",{className:"text-sm font-medium",children:e.title}),te.jsx("p",{className:"text-xs text-muted-foreground",children:null==(r=e.fearCategories)?void 0:r.join(", ")})]}),te.jsxs("div",{className:"text-sm font-medium",children:[e.completion_count||0," completions"]})]},e.id)}))}):te.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No activity completion data available yet"})})]}),te.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[te.jsxs(hu,{children:[te.jsxs(mu,{children:[te.jsx(fu,{children:"Activities by Fear Category"}),te.jsx(pu,{children:"Distribution of activities across fear categories"})]}),te.jsx(gu,{children:Object.keys(e.activityByFearCategory).length>0?te.jsx("div",{className:"space-y-2",children:Object.entries(e.activityByFearCategory).sort(((e,t)=>t[1]-e[1])).map((([t,r])=>te.jsxs("div",{className:"flex items-center justify-between",children:[te.jsx("span",{className:"text-sm",children:t}),te.jsxs("div",{className:"flex items-center",children:[te.jsx("div",{className:"w-32 h-2 bg-gray-100 rounded-full mr-2 overflow-hidden",children:te.jsx("div",{className:"h-full bg-primary rounded-full",style:{width:`${Math.min(100,r/e.totalActivities*100)}%`}})}),te.jsx("span",{className:"text-xs text-muted-foreground",children:r})]})]},t)))}):te.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No fear category data available"})})]}),te.jsxs(hu,{children:[te.jsxs(mu,{children:[te.jsx(fu,{children:"Activities by Difficulty"}),te.jsx(pu,{children:"Distribution of activities across difficulty levels"})]}),te.jsx(gu,{children:Object.keys(e.activityByDifficulty).length>0?te.jsx("div",{className:"space-y-2",children:Object.entries(e.activityByDifficulty).sort(((e,t)=>t[1]-e[1])).map((([t,r])=>te.jsxs("div",{className:"flex items-center justify-between",children:[te.jsx("span",{className:"text-sm",children:t}),te.jsxs("div",{className:"flex items-center",children:[te.jsx("div",{className:"w-32 h-2 bg-gray-100 rounded-full mr-2 overflow-hidden",children:te.jsx("div",{className:"h-full bg-primary rounded-full",style:{width:`${Math.min(100,r/e.totalActivities*100)}%`}})}),te.jsx("span",{className:"text-xs text-muted-foreground",children:r})]})]},t)))}):te.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No difficulty data available"})})]})]})]}):te.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Failed to load statistics. Please try again."})},cw=()=>{const[e,t]=Pr.useState("list"),[r,s]=Pr.useState(!1),[a,n]=Pr.useState(null);return te.jsxs(hu,{children:[te.jsxs(mu,{children:[te.jsx(fu,{children:"Activity Management"}),te.jsx(pu,{children:"Create, edit, and manage activities for users"})]}),te.jsx(gu,{children:te.jsxs(Bv,{defaultValue:"list",value:e,onValueChange:e=>{s(!0),t(e),setTimeout((()=>s(!1)),300)},className:"w-full",children:[te.jsxs(Hv,{className:"grid grid-cols-3 mb-8",children:[te.jsx(qv,{value:"list",children:"Activity List"}),te.jsx(qv,{value:"edit",children:a?"Edit Activity":"Create Activity"}),te.jsx(qv,{value:"stats",children:"Activity Stats"})]}),r?te.jsx("div",{className:"flex justify-center items-center py-12",children:te.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})}):te.jsxs(te.Fragment,{children:[te.jsx(Wv,{value:"list",className:"space-y-4",children:te.jsx(aw,{onEditActivity:e=>{n(e),t("edit")},onCreateActivity:()=>{n(null),t("edit")}})}),te.jsx(Wv,{value:"edit",className:"space-y-4",children:te.jsx(ow,{activityId:a,onSaved:()=>t("list")})}),te.jsx(Wv,{value:"stats",className:"space-y-4",children:te.jsx(lw,{})})]})]})})]})},dw=()=>{const[e,t]=Pr.useState(null),[r,s]=Pr.useState(!0),{toast:a}=as();return Pr.useEffect((()=>{(async()=>{try{s(!0);const e=new Promise(((e,t)=>{setTimeout((()=>t(new Error("Stats fetch timed out"))),1e4)})),r=new Promise((async e=>{try{const{count:t,error:r}=await jd.from("user_profiles").select("*",{count:"exact",head:!0}),s=new Date;s.setDate(s.getDate()-30);const{count:a,error:n}=await jd.from("user_profiles").select("*",{count:"exact",head:!0}).gte("created_at",s.toISOString()),{count:i,error:o}=await jd.from("auth_users_view").select("*",{count:"exact",head:!0}).gte("last_sign_in_at",s.toISOString()),{count:l,error:c}=await jd.from("activities").select("*",{count:"exact",head:!0}),{data:d,error:u}=await jd.from("user_profiles").select("experience_level, key_fears, progress_tracking"),h={},m={};let f=0,p=0;(d||[]).forEach((e=>{var t;e.experience_level&&(h[e.experience_level]=(h[e.experience_level]||0)+1),(e.key_fears||[]).forEach((e=>{m[e]=(m[e]||0)+1}));const r=(null==(t=e.progress_tracking)?void 0:t.activities)||[],s=r.filter((e=>"completed"===e.status));r.length>0&&p++,f+=s.length}));const g=p>0?Math.round(f/p*100)/100:0;e({totalUsers:t||0,newUsers:a||0,activeUsers:i||0,totalActivities:l||0,totalCompletions:f,averageCompletionRate:g,usersByExperienceLevel:h,usersByFearCategory:m})}catch(t){e(null)}})),a=await Promise.race([r,e]);t(a)}catch(e){a({title:"Error",description:"Failed to load system statistics. Please try again.",variant:"destructive"})}finally{s(!1)}})()}),[a]),r?te.jsx("div",{className:"flex justify-center items-center py-12",children:te.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})}):e?te.jsxs("div",{className:"space-y-6",children:[te.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[te.jsxs(hu,{children:[te.jsxs(mu,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[te.jsx(fu,{className:"text-sm font-medium",children:"Total Users"}),te.jsx(qt,{className:"h-4 w-4 text-muted-foreground"})]}),te.jsxs(gu,{children:[te.jsx("div",{className:"text-2xl font-bold",children:e.totalUsers}),te.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.newUsers," new in the last 30 days"]})]})]}),te.jsxs(hu,{children:[te.jsxs(mu,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[te.jsx(fu,{className:"text-sm font-medium",children:"Active Users"}),te.jsx(qt,{className:"h-4 w-4 text-muted-foreground"})]}),te.jsxs(gu,{children:[te.jsx("div",{className:"text-2xl font-bold",children:e.activeUsers}),te.jsx("p",{className:"text-xs text-muted-foreground",children:"Active in the last 30 days"})]})]}),te.jsxs(hu,{children:[te.jsxs(mu,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[te.jsx(fu,{className:"text-sm font-medium",children:"Total Activities"}),te.jsx(yr,{className:"h-4 w-4 text-muted-foreground"})]}),te.jsxs(gu,{children:[te.jsx("div",{className:"text-2xl font-bold",children:e.totalActivities}),te.jsx("p",{className:"text-xs text-muted-foreground",children:"Available in the system"})]})]}),te.jsxs(hu,{children:[te.jsxs(mu,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[te.jsx(fu,{className:"text-sm font-medium",children:"Completions"}),te.jsx(vr,{className:"h-4 w-4 text-muted-foreground"})]}),te.jsxs(gu,{children:[te.jsx("div",{className:"text-2xl font-bold",children:e.totalCompletions}),te.jsxs("p",{className:"text-xs text-muted-foreground",children:["Avg ",e.averageCompletionRate," per active user"]})]})]})]}),te.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[te.jsxs(hu,{children:[te.jsxs(mu,{children:[te.jsx(fu,{children:"Users by Experience Level"}),te.jsx(pu,{children:"Distribution of users across experience levels"})]}),te.jsx(gu,{children:Object.keys(e.usersByExperienceLevel).length>0?te.jsx("div",{className:"space-y-2",children:Object.entries(e.usersByExperienceLevel).sort(((e,t)=>t[1]-e[1])).map((([t,r])=>te.jsxs("div",{className:"flex items-center justify-between",children:[te.jsx("span",{className:"text-sm",children:t}),te.jsxs("div",{className:"flex items-center",children:[te.jsx("div",{className:"w-32 h-2 bg-gray-100 rounded-full mr-2 overflow-hidden",children:te.jsx("div",{className:"h-full bg-primary rounded-full",style:{width:`${Math.min(100,r/e.totalUsers*100)}%`}})}),te.jsx("span",{className:"text-xs text-muted-foreground",children:r})]})]},t)))}):te.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No experience level data available"})})]}),te.jsxs(hu,{children:[te.jsxs(mu,{children:[te.jsx(fu,{children:"Users by Fear Category"}),te.jsx(pu,{children:"Distribution of users across fear categories"})]}),te.jsx(gu,{children:Object.keys(e.usersByFearCategory).length>0?te.jsx("div",{className:"space-y-2",children:Object.entries(e.usersByFearCategory).sort(((e,t)=>t[1]-e[1])).slice(0,10).map((([t,r])=>te.jsxs("div",{className:"flex items-center justify-between",children:[te.jsx("span",{className:"text-sm",children:t}),te.jsxs("div",{className:"flex items-center",children:[te.jsx("div",{className:"w-32 h-2 bg-gray-100 rounded-full mr-2 overflow-hidden",children:te.jsx("div",{className:"h-full bg-primary rounded-full",style:{width:`${Math.min(100,r/e.totalUsers*100)}%`}})}),te.jsx("span",{className:"text-xs text-muted-foreground",children:r})]})]},t)))}):te.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No fear category data available"})})]})]}),te.jsxs(hu,{children:[te.jsxs(mu,{children:[te.jsx(fu,{children:"System Status"}),te.jsx(pu,{children:"Current system health and status"})]}),te.jsx(gu,{children:te.jsxs("div",{className:"space-y-4",children:[te.jsxs("div",{className:"flex items-center justify-between",children:[te.jsx("span",{className:"text-sm font-medium",children:"Database Status"}),te.jsxs("span",{className:"text-sm text-green-600 flex items-center",children:[te.jsx("span",{className:"h-2 w-2 rounded-full bg-green-600 mr-2"}),"Operational"]})]}),te.jsxs("div",{className:"flex items-center justify-between",children:[te.jsx("span",{className:"text-sm font-medium",children:"Authentication Service"}),te.jsxs("span",{className:"text-sm text-green-600 flex items-center",children:[te.jsx("span",{className:"h-2 w-2 rounded-full bg-green-600 mr-2"}),"Operational"]})]}),te.jsxs("div",{className:"flex items-center justify-between",children:[te.jsx("span",{className:"text-sm font-medium",children:"Storage Service"}),te.jsxs("span",{className:"text-sm text-green-600 flex items-center",children:[te.jsx("span",{className:"h-2 w-2 rounded-full bg-green-600 mr-2"}),"Operational"]})]}),te.jsxs("div",{className:"flex items-center justify-between",children:[te.jsx("span",{className:"text-sm font-medium",children:"Edge Functions"}),te.jsxs("span",{className:"text-sm text-green-600 flex items-center",children:[te.jsx("span",{className:"h-2 w-2 rounded-full bg-green-600 mr-2"}),"Operational"]})]})]})})]})]}):te.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Failed to load statistics. Please try again."})};var uw="Switch",[hw,mw]=Q(uw),[fw,pw]=hw(uw),gw=Pr.forwardRef(((e,t)=>{const{__scopeSwitch:r,name:s,checked:a,defaultChecked:n,required:i,disabled:o,value:l="on",onCheckedChange:c,form:d,...u}=e,[h,m]=Pr.useState(null),f=ee(t,(e=>m(e))),p=Pr.useRef(!1),g=!h||(d||!!h.closest("form")),[x=!1,v]=ae({prop:a,defaultProp:n,onChange:c});return te.jsxs(fw,{scope:r,checked:x,disabled:o,children:[te.jsx(se.button,{type:"button",role:"switch","aria-checked":x,"aria-required":i,"data-state":bw(x),"data-disabled":o?"":void 0,disabled:o,value:l,...u,ref:f,onClick:ie(e.onClick,(e=>{v((e=>!e)),g&&(p.current=e.isPropagationStopped(),p.current||e.stopPropagation())}))}),g&&te.jsx(yw,{control:h,bubbles:!p.current,name:s,value:l,checked:x,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})}));gw.displayName=uw;var xw="SwitchThumb",vw=Pr.forwardRef(((e,t)=>{const{__scopeSwitch:r,...s}=e,a=pw(xw,r);return te.jsx(se.span,{"data-state":bw(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})}));vw.displayName=xw;var yw=e=>{const{control:t,checked:r,bubbles:s=!0,...a}=e,n=Pr.useRef(null),i=vm(r),o=Et(t);return Pr.useEffect((()=>{const e=n.current,t=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(t,"checked").set;if(i!==r&&a){const t=new Event("click",{bubbles:s});a.call(e,r),e.dispatchEvent(t)}}),[i,r,s]),te.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:n,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function bw(e){return e?"checked":"unchecked"}var ww=gw,jw=vw;const Nw=Pr.forwardRef((({className:e,...t},r)=>te.jsx(ww,{className:Ba("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:te.jsx(jw,{className:Ba("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})));Nw.displayName=ww.displayName;const Sw=()=>{const[e,t]=Pr.useState({appName:"Courage Bot Adventure",supportEmail:"support@couragebot.com",maintenanceMode:!1,allowNewRegistrations:!0,maxUploadSizeMB:5,defaultUserExperienceLevel:"beginner"}),[r,s]=Pr.useState(!0),[a,n]=Pr.useState(!1),{toast:i}=as();Pr.useEffect((()=>{(async()=>{try{s(!0);const e=new Promise(((e,t)=>{setTimeout((()=>t(new Error("Settings fetch timed out"))),1e4)})),r=new Promise((async e=>{try{const{data:t,error:r}=await jd.from("system_settings").select("*").single();if(r)return void e(null);e(t?{appName:t.app_name||"Courage Bot Adventure",supportEmail:t.support_email||"support@couragebot.com",maintenanceMode:t.maintenance_mode||!1,allowNewRegistrations:!1!==t.allow_new_registrations,maxUploadSizeMB:t.max_upload_size_mb||5,defaultUserExperienceLevel:t.default_user_experience_level||"beginner"}:null)}catch(t){e(null)}})),a=await Promise.race([r,e]);a&&t(a)}catch(e){i({title:"Error",description:"Failed to load settings. Using defaults.",variant:"destructive"})}finally{s(!1)}})()}),[i]);const o=e=>{const{name:r,value:s,type:a}=e.target;t((e=>({...e,[r]:"number"===a?parseFloat(s):s})))},l=(e,r)=>{t((t=>({...t,[e]:r})))};return r?te.jsx("div",{className:"flex justify-center items-center py-12",children:te.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})}):te.jsxs(hu,{children:[te.jsxs(mu,{children:[te.jsx(fu,{children:"General Settings"}),te.jsx(pu,{children:"Configure basic application settings"})]}),te.jsxs(gu,{className:"space-y-6",children:[te.jsxs("div",{className:"space-y-2",children:[te.jsx(qh,{htmlFor:"appName",children:"Application Name"}),te.jsx(Fh,{id:"appName",name:"appName",value:e.appName,onChange:o})]}),te.jsxs("div",{className:"space-y-2",children:[te.jsx(qh,{htmlFor:"supportEmail",children:"Support Email"}),te.jsx(Fh,{id:"supportEmail",name:"supportEmail",type:"email",value:e.supportEmail,onChange:o})]}),te.jsxs("div",{className:"space-y-2",children:[te.jsx(qh,{htmlFor:"maxUploadSizeMB",children:"Maximum Upload Size (MB)"}),te.jsx(Fh,{id:"maxUploadSizeMB",name:"maxUploadSizeMB",type:"number",min:"1",max:"50",value:e.maxUploadSizeMB,onChange:o})]}),te.jsxs("div",{className:"space-y-2",children:[te.jsx(qh,{htmlFor:"defaultUserExperienceLevel",children:"Default User Experience Level"}),te.jsx(Fh,{id:"defaultUserExperienceLevel",name:"defaultUserExperienceLevel",value:e.defaultUserExperienceLevel,onChange:o})]}),te.jsxs("div",{className:"flex items-center justify-between pt-2",children:[te.jsxs("div",{className:"space-y-0.5",children:[te.jsx(qh,{htmlFor:"maintenanceMode",children:"Maintenance Mode"}),te.jsx("p",{className:"text-xs text-muted-foreground",children:"When enabled, only admins can access the site"})]}),te.jsx(Nw,{id:"maintenanceMode",checked:e.maintenanceMode,onCheckedChange:e=>l("maintenanceMode",e)})]}),te.jsxs("div",{className:"flex items-center justify-between pt-2",children:[te.jsxs("div",{className:"space-y-0.5",children:[te.jsx(qh,{htmlFor:"allowNewRegistrations",children:"Allow New Registrations"}),te.jsx("p",{className:"text-xs text-muted-foreground",children:"When disabled, new users cannot register"})]}),te.jsx(Nw,{id:"allowNewRegistrations",checked:e.allowNewRegistrations,onCheckedChange:e=>l("allowNewRegistrations",e)})]})]}),te.jsx(xu,{className:"flex justify-end",children:te.jsx(Md,{onClick:async()=>{try{n(!0);const t=new Promise(((e,t)=>{setTimeout((()=>t(new Error("Save settings timed out"))),1e4)})),r=new Promise((async(t,r)=>{try{const{error:s}=await jd.from("system_settings").upsert({id:1,app_name:e.appName,support_email:e.supportEmail,maintenance_mode:e.maintenanceMode,allow_new_registrations:e.allowNewRegistrations,max_upload_size_mb:e.maxUploadSizeMB,default_user_experience_level:e.defaultUserExperienceLevel,updated_at:(new Date).toISOString()});if(s)return void r(s);t(!0)}catch(s){r(s)}}));await Promise.race([r,t]),i({title:"Success",description:"Settings saved successfully."})}catch(t){i({title:"Error",description:"Failed to save settings. Please try again.",variant:"destructive"})}finally{n(!1)}},disabled:a,children:a?te.jsxs(te.Fragment,{children:[te.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save Changes"})})]})},kw=()=>{const[e,t]=Pr.useState({enableEmailNotifications:!0,enablePushNotifications:!0,enableInAppNotifications:!0,weeklyDigestEnabled:!0,adminAlertEmails:["admin@couragebot.com"],emailFromName:"Courage Bot",emailSubjectPrefix:"[Courage Bot]",emailFooterText:" Courage Bot Adventure. All rights reserved."}),[r,s]=Pr.useState(""),[a,n]=Pr.useState(!0),[i,o]=Pr.useState(!1),{toast:l}=as();Pr.useEffect((()=>{(async()=>{try{n(!0);const e=new Promise(((e,t)=>{setTimeout((()=>t(new Error("Settings fetch timed out"))),1e4)})),r=new Promise((async e=>{try{const{data:t,error:r}=await jd.from("notification_settings").select("*").single();if(r)return void e(null);if(t){const r={enableEmailNotifications:!1!==t.enable_email_notifications,enablePushNotifications:!1!==t.enable_push_notifications,enableInAppNotifications:!1!==t.enable_in_app_notifications,weeklyDigestEnabled:!1!==t.weekly_digest_enabled,adminAlertEmails:t.admin_alert_emails||["admin@couragebot.com"],emailFromName:t.email_from_name||"Courage Bot",emailSubjectPrefix:t.email_subject_prefix||"[Courage Bot]",emailFooterText:t.email_footer_text||" Courage Bot Adventure. All rights reserved."};s(r.adminAlertEmails.join(", ")),e(r)}else e(null)}catch(t){e(null)}})),a=await Promise.race([r,e]);a&&t(a)}catch(e){l({title:"Error",description:"Failed to load notification settings. Using defaults.",variant:"destructive"})}finally{n(!1)}})()}),[l]);const c=(e,r)=>{t((t=>({...t,[e]:r})))},d=e=>{const{name:r,value:s}=e.target;t((e=>({...e,[r]:s})))};return a?te.jsx("div",{className:"flex justify-center items-center py-12",children:te.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})}):te.jsxs(hu,{children:[te.jsxs(mu,{children:[te.jsx(fu,{children:"Notification Settings"}),te.jsx(pu,{children:"Configure how and when notifications are sent to users and administrators"})]}),te.jsxs(gu,{className:"space-y-6",children:[te.jsxs("div",{className:"space-y-4",children:[te.jsx("h3",{className:"text-lg font-medium",children:"Notification Channels"}),te.jsxs("div",{className:"flex items-center justify-between",children:[te.jsxs("div",{className:"space-y-0.5",children:[te.jsx(qh,{htmlFor:"enableEmailNotifications",children:"Email Notifications"}),te.jsx("p",{className:"text-xs text-muted-foreground",children:"Send email notifications to users"})]}),te.jsx(Nw,{id:"enableEmailNotifications",checked:e.enableEmailNotifications,onCheckedChange:e=>c("enableEmailNotifications",e)})]}),te.jsxs("div",{className:"flex items-center justify-between",children:[te.jsxs("div",{className:"space-y-0.5",children:[te.jsx(qh,{htmlFor:"enablePushNotifications",children:"Push Notifications"}),te.jsx("p",{className:"text-xs text-muted-foreground",children:"Send browser push notifications to users"})]}),te.jsx(Nw,{id:"enablePushNotifications",checked:e.enablePushNotifications,onCheckedChange:e=>c("enablePushNotifications",e)})]}),te.jsxs("div",{className:"flex items-center justify-between",children:[te.jsxs("div",{className:"space-y-0.5",children:[te.jsx(qh,{htmlFor:"enableInAppNotifications",children:"In-App Notifications"}),te.jsx("p",{className:"text-xs text-muted-foreground",children:"Show notifications within the application"})]}),te.jsx(Nw,{id:"enableInAppNotifications",checked:e.enableInAppNotifications,onCheckedChange:e=>c("enableInAppNotifications",e)})]}),te.jsxs("div",{className:"flex items-center justify-between",children:[te.jsxs("div",{className:"space-y-0.5",children:[te.jsx(qh,{htmlFor:"weeklyDigestEnabled",children:"Weekly Digest"}),te.jsx("p",{className:"text-xs text-muted-foreground",children:"Send weekly summary emails to users"})]}),te.jsx(Nw,{id:"weeklyDigestEnabled",checked:e.weeklyDigestEnabled,onCheckedChange:e=>c("weeklyDigestEnabled",e)})]})]}),te.jsxs("div",{className:"space-y-4 pt-4",children:[te.jsx("h3",{className:"text-lg font-medium",children:"Admin Notifications"}),te.jsxs("div",{className:"space-y-2",children:[te.jsx(qh,{htmlFor:"adminAlertEmails",children:"Admin Alert Emails"}),te.jsx("p",{className:"text-xs text-muted-foreground",children:"Comma-separated list of email addresses to receive admin alerts"}),te.jsx(Fh,{id:"adminAlertEmails",value:r,onChange:e=>{s(e.target.value);const r=e.target.value.split(",").map((e=>e.trim())).filter((e=>e.length>0));t((e=>({...e,adminAlertEmails:r})))},placeholder:"admin@example.com, support@example.com"})]})]}),te.jsxs("div",{className:"space-y-4 pt-4",children:[te.jsx("h3",{className:"text-lg font-medium",children:"Email Settings"}),te.jsxs("div",{className:"space-y-2",children:[te.jsx(qh,{htmlFor:"emailFromName",children:"From Name"}),te.jsx(Fh,{id:"emailFromName",name:"emailFromName",value:e.emailFromName,onChange:d})]}),te.jsxs("div",{className:"space-y-2",children:[te.jsx(qh,{htmlFor:"emailSubjectPrefix",children:"Subject Prefix"}),te.jsx(Fh,{id:"emailSubjectPrefix",name:"emailSubjectPrefix",value:e.emailSubjectPrefix,onChange:d})]}),te.jsxs("div",{className:"space-y-2",children:[te.jsx(qh,{htmlFor:"emailFooterText",children:"Email Footer Text"}),te.jsx(vu,{id:"emailFooterText",name:"emailFooterText",value:e.emailFooterText,onChange:d,rows:3})]}),te.jsx("div",{className:"pt-2",children:te.jsx(Md,{variant:"outline",onClick:async()=>{try{o(!0);const e=new Promise(((e,t)=>{setTimeout((()=>t(new Error("Test email send timed out"))),1e4)})),t=new Promise((async(e,t)=>{try{setTimeout((()=>{e(!0)}),1500)}catch(r){t(r)}}));await Promise.race([t,e]),l({title:"Success",description:"Test email sent successfully."})}catch(e){l({title:"Error",description:"Failed to send test email. Please try again.",variant:"destructive"})}finally{o(!1)}},disabled:i,children:i?te.jsxs(te.Fragment,{children:[te.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Test Email"})})]})]}),te.jsx(xu,{className:"flex justify-end",children:te.jsx(Md,{onClick:async()=>{try{o(!0);const t=new Promise(((e,t)=>{setTimeout((()=>t(new Error("Save settings timed out"))),1e4)})),r=new Promise((async(t,r)=>{try{const{error:s}=await jd.from("notification_settings").upsert({id:1,enable_email_notifications:e.enableEmailNotifications,enable_push_notifications:e.enablePushNotifications,enable_in_app_notifications:e.enableInAppNotifications,weekly_digest_enabled:e.weeklyDigestEnabled,admin_alert_emails:e.adminAlertEmails,email_from_name:e.emailFromName,email_subject_prefix:e.emailSubjectPrefix,email_footer_text:e.emailFooterText,updated_at:(new Date).toISOString()});if(s)return void r(s);t(!0)}catch(s){r(s)}}));await Promise.race([r,t]),l({title:"Success",description:"Notification settings saved successfully."})}catch(t){l({title:"Error",description:"Failed to save notification settings. Please try again.",variant:"destructive"})}finally{o(!1)}},disabled:i,children:i?te.jsxs(te.Fragment,{children:[te.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save Changes"})})]})};var _w="Progress",[Cw,Tw]=Q(_w),[Ew,Pw]=Cw(_w),Ow=Pr.forwardRef(((e,t)=>{const{__scopeProgress:r,value:s=null,max:a,getValueLabel:n=Dw,...i}=e;(a||0===a)&&Mw(a);const o=Mw(a)?a:100;null!==s&&zw(s,o);const l=zw(s,o)?s:null,c=Iw(l)?n(l,o):void 0;return te.jsx(Ew,{scope:r,value:l,max:o,children:te.jsx(se.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":Iw(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":Lw(l,o),"data-value":l??void 0,"data-max":o,...i,ref:t})})}));Ow.displayName=_w;var Aw="ProgressIndicator",Rw=Pr.forwardRef(((e,t)=>{const{__scopeProgress:r,...s}=e,a=Pw(Aw,r);return te.jsx(se.div,{"data-state":Lw(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:t})}));function Dw(e,t){return`${Math.round(e/t*100)}%`}function Lw(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function Iw(e){return"number"==typeof e}function Mw(e){return Iw(e)&&!isNaN(e)&&e>0}function zw(e,t){return Iw(e)&&!isNaN(e)&&e<=t&&e>=0}Rw.displayName=Aw;var $w=Ow,Fw=Rw;const Uw=Pr.forwardRef((({className:e,value:t,...r},s)=>te.jsx($w,{ref:s,className:Ba("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:te.jsx(Fw,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})));Uw.displayName=$w.displayName;const Bw=()=>{const[e,t]=Pr.useState(!1),[r,s]=Pr.useState(!1),[a,n]=Pr.useState(0),[i,o]=Pr.useState("backup"),[l,c]=Pr.useState(null),{toast:d}=as(),u=(e,t)=>new Promise(((r,s)=>{setTimeout((()=>s(new Error(`${t} operation timed out`))),e)}));return te.jsxs(hu,{children:[te.jsxs(mu,{children:[te.jsx(fu,{children:"Backup & Restore"}),te.jsx(pu,{children:"Create backups of your database or restore from a previous backup"})]}),te.jsxs(gu,{className:"space-y-6",children:[te.jsxs(Qd,{children:[te.jsx(Ce,{className:"h-4 w-4"}),te.jsx(Zd,{children:"Important"}),te.jsx(eu,{children:"Restoring from a backup will overwrite all existing data. Make sure to create a backup before restoring."})]}),te.jsxs(Bv,{defaultValue:"backup",value:i,onValueChange:o,className:"w-full",children:[te.jsxs(Hv,{className:"grid grid-cols-2 mb-6",children:[te.jsx(qv,{value:"backup",children:"Backup"}),te.jsx(qv,{value:"restore",children:"Restore"})]}),te.jsx(Wv,{value:"backup",className:"space-y-4",children:te.jsxs("div",{className:"space-y-4",children:[te.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a backup of your database. This will download a JSON file containing all your data."}),e&&te.jsxs("div",{className:"space-y-2",children:[te.jsxs("div",{className:"flex items-center gap-2",children:[te.jsx(We,{className:"h-4 w-4 animate-spin"}),te.jsx("span",{className:"text-sm",children:"Creating backup..."})]}),te.jsx(Uw,{value:a,className:"h-2"})]}),te.jsxs(Md,{onClick:async()=>{try{t(!0),n(0);const e=new Promise((async(e,t)=>{try{const r=setInterval((()=>{n((e=>e>=95?(clearInterval(r),95):e+5))}),300),s=["user_profiles","activities","activity_completions","system_settings","notification_settings"],a={};for(const e of s){const{data:s,error:n}=await jd.from(e).select("*");if(n)return clearInterval(r),void t(new Error(`Error fetching data from ${e}: ${n.message}`));a[e]=s}const i=JSON.stringify(a,null,2),o=new Blob([i],{type:"application/json"}),l=URL.createObjectURL(o),c=document.createElement("a"),d=`courage-bot-backup-${(new Date).toISOString().split("T")[0]}.json`;c.href=l,c.download=d,n(100),setTimeout((()=>{document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(l),clearInterval(r),e(!0)}),500)}catch(r){t(r)}}));await Promise.race([e,u(3e4,"Backup")]),d({title:"Backup Complete",description:"Your database backup has been downloaded successfully."})}catch(e){n(0),d({title:"Backup Failed",description:e instanceof Error?e.message:"An unknown error occurred during backup.",variant:"destructive"})}finally{t(!1)}},disabled:e,className:"w-full sm:w-auto",children:[te.jsx(br,{className:"mr-2 h-4 w-4"}),e?"Creating Backup...":"Create Backup"]})]})}),te.jsx(Wv,{value:"restore",className:"space-y-4",children:te.jsxs("div",{className:"space-y-4",children:[te.jsx("p",{className:"text-sm text-muted-foreground",children:"Restore your database from a previously created backup file."}),te.jsxs("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:[te.jsx("label",{htmlFor:"backup-file",className:"text-sm font-medium",children:"Backup File"}),te.jsxs("div",{className:"flex items-center gap-2",children:[te.jsx("input",{id:"backup-file",type:"file",accept:".json",onChange:e=>{e.target.files&&e.target.files.length>0&&c(e.target.files[0])},className:"hidden"}),te.jsxs(Md,{variant:"outline",onClick:()=>{var e;return null==(e=document.getElementById("backup-file"))?void 0:e.click()},disabled:r,children:[te.jsx(wr,{className:"mr-2 h-4 w-4"}),"Choose File"]}),te.jsx("span",{className:"text-sm truncate max-w-[200px]",children:l?l.name:"No file chosen"})]})]}),r&&te.jsxs("div",{className:"space-y-2",children:[te.jsxs("div",{className:"flex items-center gap-2",children:[te.jsx(We,{className:"h-4 w-4 animate-spin"}),te.jsx("span",{className:"text-sm",children:"Restoring from backup..."})]}),te.jsx(Uw,{value:a,className:"h-2"})]}),te.jsxs(Md,{onClick:async()=>{if(l)try{s(!0),n(0);const e=new Promise((async(e,t)=>{try{const r=setInterval((()=>{n((e=>e>=95?(clearInterval(r),95):e+5))}),300),s=new FileReader;s.onload=async s=>{try{if(!s.target||"string"!=typeof s.target.result)return clearInterval(r),void t(new Error("Failed to read backup file"));const a=JSON.parse(s.target.result),i=["user_profiles","activities"];for(const e of i)if(!a[e])return clearInterval(r),void t(new Error(`Invalid backup file: missing ${e} data`));n(100),setTimeout((()=>{clearInterval(r),e(!0)}),1e3)}catch(a){clearInterval(r),t(a)}},s.onerror=()=>{clearInterval(r),t(new Error("Error reading backup file"))},s.readAsText(l)}catch(r){t(r)}}));await Promise.race([e,u(3e4,"Restore")]),d({title:"Restore Complete",description:"Your database has been restored successfully."}),c(null)}catch(e){n(0),d({title:"Restore Failed",description:e instanceof Error?e.message:"An unknown error occurred during restore.",variant:"destructive"})}finally{s(!1)}else d({title:"No File Selected",description:"Please select a backup file to restore.",variant:"destructive"})},disabled:r||!l,className:"w-full sm:w-auto",children:[te.jsx(gr,{className:"mr-2 h-4 w-4"}),r?"Restoring...":"Restore Backup"]})]})})]})]})]})},Hw=()=>{const[e,t]=Pr.useState(!0),[r,s]=Pr.useState(!1),[a,n]=Pr.useState(0),[i,o]=Pr.useState(""),[l,c]=Pr.useState(""),[d,u]=Pr.useState(!1),[h,m]=Pr.useState({databaseSize:"0 MB",storageUsed:"0 MB",lastBackupDate:null,activeUsers:0,pendingJobs:0}),{toast:f}=as(),p=(e,t)=>new Promise(((r,s)=>{setTimeout((()=>s(new Error(`${t} operation timed out`))),e)}));Pr.useEffect((()=>{(async()=>{try{t(!0);const e=new Promise((async e=>{try{const t=new Date;t.setDate(t.getDate()-30);const{count:r,error:s}=await jd.from("auth_users_view").select("*",{count:"exact",head:!0}).gte("last_sign_in_at",t.toISOString()),{data:a,error:n}=await jd.from("system_settings").select("last_backup_date").single();n&&n.code;const i="42.7 MB",o="156.3 MB",l=(null==a?void 0:a.last_backup_date)||null;e({databaseSize:i,storageUsed:o,lastBackupDate:l,activeUsers:r||0,pendingJobs:Math.floor(5*Math.random())})}catch(t){e(null)}})),r=await Promise.race([e,p(1e4,"System status fetch")]);r&&m(r)}catch(e){f({title:"Error",description:"Failed to load system status. Please try again.",variant:"destructive"})}finally{t(!1)}})()}),[f]);const g=async(e,t,r)=>{try{s(!0),o(e),n(0);const a=setInterval((()=>{n((e=>e>=95?(clearInterval(a),95):e+Math.floor(10*Math.random())+1))}),300),i=new Promise((async(e,t)=>{try{await r(),n(100),setTimeout((()=>{clearInterval(a),e(!0)}),500)}catch(s){clearInterval(a),t(s)}}));await Promise.race([i,p(3e4,e)]),f({title:"Success",description:t})}catch(a){n(0),f({title:`${e} Failed`,description:a instanceof Error?a.message:`An unknown error occurred during ${e.toLowerCase()}.`,variant:"destructive"})}finally{s(!1),o("")}};return e?te.jsx("div",{className:"flex justify-center items-center py-12",children:te.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})}):te.jsxs("div",{className:"space-y-6",children:[te.jsxs(hu,{children:[te.jsxs(mu,{children:[te.jsx(fu,{children:"System Status"}),te.jsx(pu,{children:"Current system metrics and resource usage"})]}),te.jsx(gu,{className:"space-y-4",children:te.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[te.jsxs("div",{className:"space-y-2",children:[te.jsxs("div",{className:"flex justify-between",children:[te.jsx("span",{className:"text-sm font-medium",children:"Database Size"}),te.jsx("span",{className:"text-sm",children:h.databaseSize})]}),te.jsxs("div",{className:"flex justify-between",children:[te.jsx("span",{className:"text-sm font-medium",children:"Storage Used"}),te.jsx("span",{className:"text-sm",children:h.storageUsed})]})]}),te.jsxs("div",{className:"space-y-2",children:[te.jsxs("div",{className:"flex justify-between",children:[te.jsx("span",{className:"text-sm font-medium",children:"Last Backup"}),te.jsx("span",{className:"text-sm",children:h.lastBackupDate?new Date(h.lastBackupDate).toLocaleDateString():"Never"})]}),te.jsxs("div",{className:"flex justify-between",children:[te.jsx("span",{className:"text-sm font-medium",children:"Active Users"}),te.jsx("span",{className:"text-sm",children:h.activeUsers})]}),te.jsxs("div",{className:"flex justify-between",children:[te.jsx("span",{className:"text-sm font-medium",children:"Pending Jobs"}),te.jsx("span",{className:"text-sm",children:h.pendingJobs})]})]})]})})]}),te.jsxs(hu,{children:[te.jsxs(mu,{children:[te.jsx(fu,{children:"Maintenance Tools"}),te.jsx(pu,{children:"Tools for maintaining and optimizing the system"})]}),te.jsxs(gu,{className:"space-y-6",children:[r&&te.jsxs("div",{className:"space-y-2",children:[te.jsxs("div",{className:"flex items-center gap-2",children:[te.jsx(We,{className:"h-4 w-4 animate-spin"}),te.jsxs("span",{className:"text-sm",children:[i,"..."]})]}),te.jsx(Uw,{value:a,className:"h-2"})]}),te.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[te.jsxs(hu,{className:"border shadow-sm",children:[te.jsx(mu,{className:"py-4",children:te.jsx(fu,{className:"text-base",children:"Database Maintenance"})}),te.jsxs(gu,{className:"py-2 space-y-4",children:[te.jsxs(Md,{variant:"outline",className:"w-full",onClick:async()=>{await g("Optimizing Database","Database optimization completed successfully.",(async()=>{await new Promise((e=>setTimeout(e,3e3)))}))},disabled:r,children:[te.jsx(jr,{className:"mr-2 h-4 w-4"}),"Optimize Database"]}),te.jsx("p",{className:"text-xs text-muted-foreground",children:"Optimizes database tables and indexes for better performance."})]})]}),te.jsxs(hu,{className:"border shadow-sm",children:[te.jsx(mu,{className:"py-4",children:te.jsx(fu,{className:"text-base",children:"Session Management"})}),te.jsxs(gu,{className:"py-2 space-y-4",children:[te.jsxs(Md,{variant:"outline",className:"w-full",onClick:async()=>{await g("Clearing Expired Sessions","Expired sessions have been cleared successfully.",(async()=>{await new Promise((e=>setTimeout(e,2e3)))}))},disabled:r,children:[te.jsx(_e,{className:"mr-2 h-4 w-4"}),"Clear Expired Sessions"]}),te.jsx("p",{className:"text-xs text-muted-foreground",children:"Removes expired user sessions to free up resources."})]})]})]}),te.jsx(kp,{}),te.jsxs("div",{className:"space-y-4",children:[te.jsx("h3",{className:"text-sm font-medium",children:"System Cleanup"}),te.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[te.jsxs(hu,{className:"border shadow-sm",children:[te.jsx(mu,{className:"py-4",children:te.jsx(fu,{className:"text-base",children:"Cache Management"})}),te.jsxs(gu,{className:"py-2 space-y-4",children:[te.jsxs(Md,{variant:"outline",className:"w-full",onClick:async()=>{await g("Clearing Cache","Application cache has been cleared successfully.",(async()=>{await new Promise((e=>setTimeout(e,1500)))}))},disabled:r,children:[te.jsx(_e,{className:"mr-2 h-4 w-4"}),"Clear Application Cache"]}),te.jsx("p",{className:"text-xs text-muted-foreground",children:"Clears all cached data to ensure fresh content."})]})]}),te.jsxs(hu,{className:"border shadow-sm",children:[te.jsx(mu,{className:"py-4",children:te.jsx(fu,{className:"text-base",children:"User Cleanup"})}),te.jsxs(gu,{className:"py-2 space-y-4",children:[te.jsxs(ru,{open:d,onOpenChange:u,children:[te.jsx(su,{asChild:!0,children:te.jsxs(Md,{variant:"outline",className:"w-full",disabled:r,children:[te.jsx(fr,{className:"mr-2 h-4 w-4"}),"Purge Inactive Users"]})}),te.jsxs(iu,{children:[te.jsxs(ou,{children:[te.jsx(cu,{children:"Purge Inactive Users"}),te.jsx(du,{children:"This will permanently delete all users who have not logged in for over 180 days. This action cannot be undone."})]}),te.jsxs(Qd,{variant:"destructive",children:[te.jsx(Ce,{className:"h-4 w-4"}),te.jsx(Zd,{children:"Warning"}),te.jsx(eu,{children:"This is a destructive action that will permanently delete user data."})]}),te.jsxs("div",{className:"space-y-2",children:[te.jsx(qh,{htmlFor:"confirm",children:"Type PURGE to confirm"}),te.jsx(Fh,{id:"confirm",value:l,onChange:e=>c(e.target.value),placeholder:"PURGE"})]}),te.jsxs(lu,{children:[te.jsx(Md,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),te.jsx(Md,{variant:"destructive",onClick:async()=>{"PURGE"===l?(u(!1),c(""),await g("Purging Inactive Users","Inactive users have been purged successfully.",(async()=>{await new Promise((e=>setTimeout(e,4e3)))}))):f({title:"Confirmation Failed",description:"You must type PURGE to confirm this action.",variant:"destructive"})},disabled:"PURGE"!==l,children:"Purge Users"})]})]})]}),te.jsx("p",{className:"text-xs text-muted-foreground",children:"Removes inactive users who haven't logged in for 180+ days."})]})]})]})]})]})]})]})},qw=()=>{const[e,t]=Pr.useState("general"),[r,s]=Pr.useState(!1);return te.jsx("div",{className:"space-y-6",children:te.jsxs(hu,{children:[te.jsxs(mu,{children:[te.jsx(fu,{children:"System Settings"}),te.jsx(pu,{children:"Configure system-wide settings and maintenance options"})]}),te.jsx(gu,{children:te.jsxs(Bv,{defaultValue:"general",value:e,onValueChange:e=>{s(!0),t(e),setTimeout((()=>s(!1)),300)},className:"w-full",children:[te.jsxs(Hv,{className:"grid grid-cols-4 mb-6",children:[te.jsx(qv,{value:"general",children:"General"}),te.jsx(qv,{value:"notifications",children:"Notifications"}),te.jsx(qv,{value:"backup",children:"Backup & Restore"}),te.jsx(qv,{value:"maintenance",children:"Maintenance"})]}),r?te.jsx("div",{className:"flex justify-center items-center py-12",children:te.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})}):te.jsxs(te.Fragment,{children:[te.jsx(Wv,{value:"general",className:"space-y-4",children:te.jsx(Sw,{})}),te.jsx(Wv,{value:"notifications",className:"space-y-4",children:te.jsx(kw,{})}),te.jsx(Wv,{value:"backup",className:"space-y-4",children:te.jsx(Bw,{})}),te.jsx(Wv,{value:"maintenance",className:"space-y-4",children:te.jsx(Hw,{})})]})]})})]})})},Ww=()=>{var e;const{user:t,isAdmin:r}=Rd(),[s,a]=Pr.useState("overview"),[n,i]=Pr.useState(!1);return te.jsxs(te.Fragment,{children:[te.jsx(pb,{children:te.jsx("title",{children:"Admin Dashboard | Courage Bot Adventure"})}),te.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[te.jsxs("div",{className:"flex flex-col gap-2",children:[te.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Admin Dashboard"}),te.jsx("p",{className:"text-muted-foreground",children:"Manage users, activities, and system settings"})]}),te.jsxs(hu,{children:[te.jsxs(mu,{className:"pb-3",children:[te.jsx(fu,{children:"Admin Controls"}),te.jsxs(pu,{children:["Welcome, ",(null==(e=null==t?void 0:t.user_metadata)?void 0:e.full_name)||(null==t?void 0:t.email),". You have admin privileges."]})]}),te.jsx(gu,{children:te.jsxs(Bv,{defaultValue:"overview",value:s,onValueChange:e=>{i(!0),a(e),setTimeout((()=>i(!1)),300)},className:"w-full",children:[te.jsxs(Hv,{className:"grid grid-cols-4 mb-8",children:[te.jsx(qv,{value:"overview",children:"Overview"}),te.jsx(qv,{value:"users",children:"User Management"}),te.jsx(qv,{value:"activities",children:"Activities"}),te.jsx(qv,{value:"system",children:"System"})]}),n?te.jsx("div",{className:"flex justify-center items-center py-12",children:te.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})}):te.jsxs(te.Fragment,{children:[te.jsx(Wv,{value:"overview",className:"space-y-4",children:te.jsx(dw,{})}),te.jsx(Wv,{value:"users",className:"space-y-4",children:te.jsx(jb,{})}),te.jsx(Wv,{value:"activities",className:"space-y-4",children:te.jsx(cw,{})}),te.jsx(Wv,{value:"system",className:"space-y-4",children:te.jsx(qw,{})})]})]})})]})]})]})};function Gw({children:e}){var t,r,s;const{user:a,signOut:n}=Rd(),i=zr(),o=[{title:"Dashboard",href:"/admin/dashboard",icon:te.jsx(St,{className:"h-5 w-5"})},{title:"Users",href:"/admin/users",icon:te.jsx(qt,{className:"h-5 w-5"})},{title:"Data Management",href:"/admin/data",icon:te.jsx(jr,{className:"h-5 w-5"})},{title:"Activities",href:"/admin/activities",icon:te.jsx(Sr,{className:"h-5 w-5"})},{title:"Statistics",href:"/admin/stats",icon:te.jsx(kr,{className:"h-5 w-5"})},{title:"Settings",href:"/admin/settings",icon:te.jsx(At,{className:"h-5 w-5"})}];return te.jsxs("div",{className:"flex min-h-screen bg-background",children:[te.jsx(pb,{children:te.jsx("title",{children:"Admin | Courage Bot Adventure"})}),te.jsx("div",{className:"hidden border-r bg-muted/40 lg:block lg:w-64",children:te.jsxs("div",{className:"flex h-full flex-col",children:[te.jsx("div",{className:"flex h-14 items-center border-b px-4",children:te.jsxs(Mr,{to:"/admin",className:"flex items-center gap-2 font-semibold",children:[te.jsx("span",{className:"text-primary",children:"Courage Bot"}),te.jsx("span",{className:"text-xs bg-primary text-primary-foreground px-1.5 py-0.5 rounded",children:"Admin"})]})}),te.jsx(kx,{className:"flex-1 py-2",children:te.jsx("nav",{className:"grid gap-1 px-2",children:o.map(((e,t)=>te.jsxs(Mr,{to:e.href,className:Ba("flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground",i.pathname===e.href||i.pathname.startsWith(e.href+"/")?"bg-accent text-accent-foreground":"transparent"),children:[e.icon,e.title]},t)))})}),te.jsxs("div",{className:"mt-auto p-4 border-t",children:[te.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[te.jsx("div",{className:"rounded-full w-8 h-8 bg-primary text-primary-foreground flex items-center justify-center",children:(null==(r=null==(t=null==a?void 0:a.email)?void 0:t[0])?void 0:r.toUpperCase())||"A"}),te.jsxs("div",{className:"flex flex-col",children:[te.jsx("span",{className:"text-sm font-medium",children:(null==(s=null==a?void 0:a.user_metadata)?void 0:s.full_name)||"Admin User"}),te.jsx("span",{className:"text-xs text-muted-foreground",children:null==a?void 0:a.email})]})]}),te.jsxs(Md,{variant:"outline",className:"w-full justify-start gap-2",onClick:()=>n(),children:[te.jsx(Nr,{className:"h-4 w-4"}),"Sign Out"]})]})]})}),te.jsxs("div",{className:"flex flex-col w-full",children:[te.jsx("header",{className:"sticky top-0 z-10 flex h-14 items-center gap-4 border-b bg-background px-4 lg:hidden",children:te.jsxs(Mr,{to:"/admin",className:"flex items-center gap-2 font-semibold",children:[te.jsx("span",{className:"text-primary",children:"Courage Bot"}),te.jsx("span",{className:"text-xs bg-primary text-primary-foreground px-1.5 py-0.5 rounded",children:"Admin"})]})}),te.jsx("main",{className:"flex-1 overflow-auto",children:e}),te.jsx("div",{className:"lg:hidden border-t bg-background p-2",children:te.jsx("nav",{className:"grid grid-cols-3 gap-1",children:o.slice(0,3).map(((e,t)=>te.jsxs(Mr,{to:e.href,className:Ba("flex flex-col items-center gap-1 rounded-md p-2 text-xs font-medium",i.pathname===e.href||i.pathname.startsWith(e.href+"/")?"bg-accent text-accent-foreground":"transparent"),children:[e.icon,te.jsx("span",{children:e.title})]},t)))})})]})]})}const Vw=()=>{var e,t,r,s,a,n,i,o;const{userId:l}=Br(),[c,d]=Pr.useState(null),[u,h]=Pr.useState(!0),[m,f]=Pr.useState(null),{toast:p}=as(),g=Ir();Pr.useEffect((()=>{(async()=>{h(!0),f(null);try{if(!l)throw new Error("User ID is required");const{data:e,error:t}=await jd.from("auth_users_view").select("*").eq("id",l).single();if(t)throw new Error("Failed to fetch user data");if(!e)throw new Error("User not found");const{data:r,error:s}=await jd.from("user_profiles").select("*").eq("user_id",l).single();s&&s.code;const{data:a,error:n}=await jd.from("fear_assessments").select("*").eq("user_id",l).order("timestamp",{ascending:!1});d({...e,profile:r||null,assessments:a||[]})}catch(e){f(e instanceof Error?e.message:"An unknown error occurred"),p({title:"Error",description:e instanceof Error?e.message:"Failed to load user data",variant:"destructive"})}finally{h(!1)}})()}),[l,p]);const x=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Never";if(u)return te.jsx(Gw,{children:te.jsx("div",{className:"container py-6",children:te.jsx("div",{className:"flex justify-center items-center py-12",children:te.jsx(We,{className:"h-8 w-8 animate-spin text-primary"})})})});if(m||!c)return te.jsx(Gw,{children:te.jsx("div",{className:"container py-6",children:te.jsxs(hu,{children:[te.jsxs(mu,{children:[te.jsx(fu,{children:"Error"}),te.jsx(pu,{children:"Failed to load user data"})]}),te.jsx(gu,{children:te.jsxs("div",{className:"flex flex-col items-center gap-4 py-6",children:[te.jsx(Dt,{className:"h-12 w-12 text-destructive"}),te.jsx("p",{className:"text-destructive",children:m||"User not found"}),te.jsxs(Md,{onClick:()=>g("/admin/users"),variant:"outline",children:[te.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Back to User Management"]})]})})]})})});const v=(null==(e=c.profile)?void 0:e.key_fears)||[],y=c.assessments&&c.assessments.length>0?c.assessments[0].results:null,b=(null==(t=c.profile)?void 0:t.phone_number)||(null==(r=c.user_metadata)?void 0:r.phone)||c.phone||"Not provided";return te.jsx(Gw,{children:te.jsxs("div",{className:"container py-6",children:[te.jsx("div",{className:"flex items-center justify-between mb-6",children:te.jsxs("div",{className:"flex items-center gap-2",children:[te.jsxs(Md,{variant:"outline",size:"sm",onClick:()=>g("/admin/users"),children:[te.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Back"]}),te.jsx("h1",{className:"text-2xl font-bold",children:"User Details"})]})}),te.jsxs("div",{className:"grid gap-6 md:grid-cols-7",children:[te.jsxs(hu,{className:"md:col-span-3",children:[te.jsxs(mu,{children:[te.jsx(fu,{children:"User Information"}),te.jsx(pu,{children:"Basic account information and contact details"})]}),te.jsx(gu,{children:te.jsxs("div",{className:"space-y-6",children:[te.jsxs("div",{className:"flex flex-col gap-1",children:[te.jsxs("div",{className:"flex items-center gap-2",children:[te.jsx(Ot,{className:"h-4 w-4 text-muted-foreground"}),te.jsx("span",{className:"text-sm font-medium",children:"Name"})]}),te.jsx("span",{className:"text-lg",children:(null==(s=c.profile)?void 0:s.full_name)||(null==(a=c.user_metadata)?void 0:a.full_name)||"Unnamed User"})]}),te.jsxs("div",{className:"flex flex-col gap-1",children:[te.jsxs("div",{className:"flex items-center gap-2",children:[te.jsx(Se,{className:"h-4 w-4 text-muted-foreground"}),te.jsx("span",{className:"text-sm font-medium",children:"Email"})]}),te.jsx("span",{className:"text-lg",children:c.email})]}),te.jsxs("div",{className:"flex flex-col gap-1",children:[te.jsxs("div",{className:"flex items-center gap-2",children:[te.jsx(rr,{className:"h-4 w-4 text-muted-foreground"}),te.jsx("span",{className:"text-sm font-medium",children:"Phone"})]}),te.jsx("span",{className:"text-lg",children:b})]}),te.jsx(kp,{}),te.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[te.jsxs("div",{className:"flex flex-col gap-1",children:[te.jsx("span",{className:"text-sm font-medium",children:"Created"}),te.jsx("span",{children:x(c.created_at)})]}),te.jsxs("div",{className:"flex flex-col gap-1",children:[te.jsx("span",{className:"text-sm font-medium",children:"Last Sign In"}),te.jsx("span",{children:x(c.last_sign_in_at)})]})]}),te.jsxs("div",{className:"flex flex-wrap gap-2",children:["admin"===(null==(n=c.user_metadata)?void 0:n.role)&&te.jsxs(bv,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[te.jsx(ar,{className:"h-3 w-3 mr-1"}),"Admin"]}),(null==(i=c.profile)?void 0:i.profile_completed)?te.jsx(bv,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Profile Complete"}):te.jsx(bv,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200",children:"Profile Incomplete"})]})]})})]}),te.jsxs(hu,{className:"md:col-span-4",children:[te.jsxs(mu,{children:[te.jsx(fu,{children:"Fears & Assessments"}),te.jsx(pu,{children:"User's fears and assessment results"})]}),te.jsx(gu,{children:te.jsxs("div",{className:"space-y-6",children:[te.jsxs("div",{children:[te.jsx("h3",{className:"text-lg font-medium mb-2",children:"Selected Fears"}),v.length>0?te.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(((e,t)=>te.jsx(bv,{variant:"secondary",children:e},t)))}):te.jsx("p",{className:"text-muted-foreground",children:"No fears selected"})]}),te.jsx(kp,{}),te.jsxs("div",{children:[te.jsx("h3",{className:"text-lg font-medium mb-2",children:"Latest Assessment"}),y?te.jsxs("div",{className:"space-y-3",children:[te.jsxs("p",{className:"text-sm text-muted-foreground",children:["Taken on ",x((null==(o=c.assessments)?void 0:o[0].timestamp)||"")]}),"object"==typeof y&&null!==y?te.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(y).map((([e,t])=>te.jsxs("div",{className:"bg-muted p-3 rounded-md",children:[te.jsx("p",{className:"font-medium capitalize",children:e.replace(/_/g," ")}),te.jsx("p",{className:"text-sm",children:"object"==typeof t?JSON.stringify(t):t})]},e)))}):te.jsx("pre",{className:"bg-muted p-3 rounded-md overflow-auto text-sm",children:JSON.stringify(y,null,2)})]}):te.jsx("p",{className:"text-muted-foreground",children:"No assessments taken"})]}),c.assessments&&c.assessments.length>1&&te.jsxs(te.Fragment,{children:[te.jsx(kp,{}),te.jsxs("div",{children:[te.jsx("h3",{className:"text-lg font-medium mb-2",children:"Assessment History"}),te.jsx("div",{className:"space-y-2",children:c.assessments.slice(1).map((e=>te.jsxs("div",{className:"bg-muted/50 p-3 rounded-md",children:[te.jsx("p",{className:"font-medium",children:x(e.timestamp)}),te.jsxs("p",{className:"text-sm text-muted-foreground",children:[Object.keys(e.results).length," data points"]})]},e.id)))})]})]})]})})]})]})]})})};const Yw=3e4,Kw=async(e,t=3e4)=>{return Promise.race([e,(r=t,new Promise(((e,t)=>{setTimeout((()=>{t(new Error(`Operation timed out after ${r}ms`))}),r)})))]);var r};function Jw(){const{user:e}=Rd(),{toast:t}=as(),[r,s]=Pr.useState("idle"),[a,n]=Pr.useState(""),[i,o]=Pr.useState("idle"),[l,c]=Pr.useState(""),[d,u]=Pr.useState(null);Ar.useEffect((()=>{(async()=>{try{const{count:e,error:t}=await Kw(jd.from("profiles").select("*",{count:"exact",head:!0}),1e4);if(t)throw t;u(e)}catch(e){u(null)}})()}),[]);return Ar.useEffect((()=>{if("success"===r||"error"===r){const e=setTimeout((()=>{s("idle")}),5e3);return()=>clearTimeout(e)}}),[r]),Ar.useEffect((()=>{if("success"===i||"error"===i){const e=setTimeout((()=>{o("idle")}),5e3);return()=>clearTimeout(e)}}),[i]),te.jsxs("div",{className:"space-y-6",children:[te.jsx("h2",{className:"text-2xl font-bold",children:"Airtable Data Synchronization"}),te.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[te.jsxs(hu,{children:[te.jsxs(mu,{children:[te.jsx(fu,{children:"Sync Current User"}),te.jsx(pu,{children:"Sync your user profile data to Airtable for analysis"})]}),te.jsxs(gu,{children:["success"===r&&te.jsxs(Qd,{className:"mb-4 bg-green-50 border-green-200",children:[te.jsx(_r,{className:"h-4 w-4 text-green-600"}),te.jsx(Zd,{className:"text-green-800",children:"Success"}),te.jsx(eu,{className:"text-green-700",children:a})]}),"error"===r&&te.jsxs(Qd,{className:"mb-4 bg-red-50 border-red-200",children:[te.jsx(Ce,{className:"h-4 w-4 text-red-600"}),te.jsx(Zd,{className:"text-red-800",children:"Error"}),te.jsx(eu,{className:"text-red-700",children:a})]}),te.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"This will sync your complete user profile, including personal information, fear assessment results, and activity history to Airtable."})]}),te.jsx(xu,{children:te.jsx(Md,{onClick:async()=>{if(e){s("loading"),n("Syncing your user data to Airtable...");try{const r=await Kw(async function(e){try{const{data:t,error:r}=await jd.functions.invoke("airtable",{body:{action:"sync_user",userId:e}});if(r)throw new Error(`Error: ${r.message||"Unknown error"}`);return t}catch(t){return{success:!1,message:"Sorry, we couldn't sync your information to Airtable. Please try again."}}}(e.id),Yw);if(!r.success)throw new Error(r.message||"Unknown error occurred");s("success"),n("Your user data has been successfully synced to Airtable!"),t({title:"Success",description:"Your user data has been synced to Airtable"})}catch(r){s("error");const e=r instanceof Error?r.message:"Unknown error occurred";n(`Error syncing user data: ${e}`),t({title:"Error",description:`Failed to sync user data: ${e}`,variant:"destructive"})}}else t({title:"Error",description:"No user is currently logged in",variant:"destructive"})},disabled:"loading"===r,className:"w-full",children:"loading"===r?te.jsxs(te.Fragment,{children:[te.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Syncing..."]}):"Sync My Data"})})]}),te.jsxs(hu,{children:[te.jsxs(mu,{children:[te.jsx(fu,{children:"Sync All Users"}),te.jsx(pu,{children:"Sync all user profiles to Airtable (Admin only)"})]}),te.jsxs(gu,{children:["success"===i&&te.jsxs(Qd,{className:"mb-4 bg-green-50 border-green-200",children:[te.jsx(_r,{className:"h-4 w-4 text-green-600"}),te.jsx(Zd,{className:"text-green-800",children:"Success"}),te.jsx(eu,{className:"text-green-700",children:l})]}),"error"===i&&te.jsxs(Qd,{className:"mb-4 bg-red-50 border-red-200",children:[te.jsx(Ce,{className:"h-4 w-4 text-red-600"}),te.jsx(Zd,{className:"text-red-800",children:"Error"}),te.jsx(eu,{className:"text-red-700",children:l})]}),te.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["This will sync all user profiles (",null!==d?d:"..."," users) to Airtable. This operation may take some time to complete."]})]}),te.jsx(xu,{children:te.jsx(Md,{onClick:async()=>{o("loading"),c("Syncing all user data to Airtable...");try{const e=await Kw(async function(){try{const{data:e,error:t}=await jd.functions.invoke("airtable",{body:{action:"sync_all_users"}});if(t)throw new Error(`Error: ${t.message||"Unknown error"}`);return e}catch(e){return{success:!1,message:"Sorry, we couldn't sync all users to Airtable. Please try again."}}}(),6e4);if(!e.success)throw new Error(e.message||"Unknown error occurred");o("success"),c(`Successfully synced ${e.count||"all"} users to Airtable!`),t({title:"Success",description:`Successfully synced ${e.count||"all"} users to Airtable`})}catch(e){o("error");const r=e instanceof Error?e.message:"Unknown error occurred";c(`Error syncing all users: ${r}`),t({title:"Error",description:`Failed to sync all users: ${r}`,variant:"destructive"})}},disabled:"loading"===i,variant:"secondary",className:"w-full",children:"loading"===i?te.jsxs(te.Fragment,{children:[te.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Syncing All Users..."]}):"Sync All Users"})})]})]}),te.jsxs("div",{className:"mt-8",children:[te.jsx("h3",{className:"text-lg font-medium mb-4",children:"About Airtable Synchronization"}),te.jsxs("div",{className:"bg-blue-50 p-4 rounded-md border border-blue-100",children:[te.jsx("p",{className:"text-sm text-blue-800 mb-2",children:te.jsx("strong",{children:"What data is synchronized?"})}),te.jsxs("ul",{className:"list-disc pl-5 text-sm text-blue-700 space-y-1",children:[te.jsx("li",{children:"User profile information (name, email, location, etc.)"}),te.jsx("li",{children:"Fear assessment results and scores"}),te.jsx("li",{children:"Activity history and completion status"}),te.jsx("li",{children:"Account metadata (creation date, last login)"})]}),te.jsx("p",{className:"text-sm text-blue-800 mt-4 mb-2",children:te.jsx("strong",{children:"Data Privacy"})}),te.jsx("p",{className:"text-sm text-blue-700",children:"All data is synchronized in compliance with our privacy policy and GDPR requirements. Data is only accessible to authorized administrators for analysis and user support purposes."})]})]})]})}function Xw(){return te.jsxs(Gw,{children:[te.jsx(pb,{children:te.jsx("title",{children:"Data Management | Courage Bot Admin"})}),te.jsxs("div",{className:"container mx-auto py-6",children:[te.jsx("div",{className:"flex justify-between items-center mb-6",children:te.jsx("h1",{className:"text-3xl font-bold",children:"Data Management"})}),te.jsxs(Bv,{defaultValue:"airtable",className:"w-full",children:[te.jsxs(Hv,{className:"mb-6",children:[te.jsx(qv,{value:"airtable",children:"Airtable Integration"}),te.jsx(qv,{value:"export",children:"Data Export"}),te.jsx(qv,{value:"backup",children:"Backup & Restore"})]}),te.jsx(Wv,{value:"airtable",children:te.jsx(Jw,{})}),te.jsx(Wv,{value:"export",children:te.jsxs(hu,{children:[te.jsxs(mu,{children:[te.jsx(fu,{children:"Data Export"}),te.jsx(pu,{children:"Export user data and analytics in various formats"})]}),te.jsx(gu,{children:te.jsx("div",{className:"p-6 text-center text-gray-500",children:te.jsx("p",{children:"Data export functionality will be available in a future update."})})})]})}),te.jsx(Wv,{value:"backup",children:te.jsxs(hu,{children:[te.jsxs(mu,{children:[te.jsx(fu,{children:"Backup & Restore"}),te.jsx(pu,{children:"Create and manage database backups"})]}),te.jsx(gu,{children:te.jsx("div",{className:"p-6 text-center text-gray-500",children:te.jsx("p",{children:"Backup and restore functionality will be available in a future update."})})})]})})]})]})]})}const Qw=()=>te.jsxs(te.Fragment,{children:[te.jsx(zh,{title:"Donate - Support Our Mission | Be Courageous",description:"Support our mission to help people overcome their fears and build lasting confidence. Your donation makes a real difference in people's lives.",keywords:"donate, support, nonprofit, courage building, overcome fears, charity",canonicalUrl:"https://becourageousnonprofit.org/donate"}),te.jsx("div",{className:"min-h-screen bg-gray-950 text-white",children:te.jsxs("div",{className:"container mx-auto px-4 py-12",children:[te.jsxs("div",{className:"text-center mb-8",children:[te.jsx("div",{className:"inline-block mb-2",children:te.jsx("span",{className:"bg-red-100 text-red-800 text-sm font-medium px-4 py-1 rounded-full",children:"Support Our Mission"})}),te.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Support Our Mission to Build Courage"}),te.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"Your contribution directly funds our adventure therapy programs that help people overcome fears and anxiety."}),te.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto mt-2",children:"Every donation empowers someone to face their fears and develop lasting confidence through guided experiences."})]}),te.jsx("div",{className:"max-w-4xl mx-auto",children:te.jsx("div",{className:"bg-white rounded-lg overflow-hidden p-10 text-center",children:te.jsxs("div",{className:"max-w-2xl mx-auto",children:[te.jsxs("div",{className:"mb-8",children:[te.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-red-100 mb-4",children:te.jsx(ke,{className:"h-8 w-8 text-courage-600"})}),te.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Transform Lives Through Courage"}),te.jsx("p",{className:"text-gray-600 mb-3",children:"Your donation funds our specialized adventure therapy programs that help people overcome debilitating fears."}),te.jsx("p",{className:"text-gray-600 mb-6",children:"Every contribution, no matter the size, helps someone build the courage to face challenges and develop resilience."})]}),te.jsxs("div",{className:"space-y-6",children:[te.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg border border-gray-200",children:[te.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"How Your Donation Helps"}),te.jsxs("ul",{className:"text-gray-600 text-left space-y-2",children:[te.jsx("li",{children:" Support educational programs about fear and courage"}),te.jsx("li",{children:" Help develop resources for those struggling with anxiety"}),te.jsx("li",{children:" Fund community events that build confidence"}),te.jsx("li",{children:" Enable us to reach more people in need"})]})]}),te.jsxs(Md,{onClick:()=>{window.open("https://www.zeffy.com/en-US/donation-form/d0849062-4c71-4519-81df-d30348296176","_blank")},className:"flex items-center justify-center gap-2 bg-courage-600 hover:bg-courage-700 w-full py-6 text-lg",size:"lg",children:[te.jsx(ke,{className:"h-5 w-5"}),"Donate Now"]}),te.jsx("p",{className:"text-gray-500 text-sm",children:"You will be redirected to our secure donation page powered by Zeffy. All donations are processed securely and your information is protected."})]})]})})})]})})]});var Zw,ej,tj,rj={},sj={},aj={},nj={};function ij(){if(tj)return ej;tj=1;var e=/^\s+|\s+$/g,t=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,n="object"==typeof Hr&&Hr&&Hr.Object===Object&&Hr,i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")(),l=Object.prototype.toString,c=Math.max,d=Math.min,u=function(){return o.Date.now()};function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(n){if("number"==typeof n)return n;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==l.call(e)}(n))return NaN;if(h(n)){var i="function"==typeof n.valueOf?n.valueOf():n;n=h(i)?i+"":i}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(e,"");var o=r.test(n);return o||s.test(n)?a(n.slice(2),o?2:8):t.test(n)?NaN:+n}return ej=function(e,t,r){var s,a,n,i,o,l,f=0,p=!1,g=!1,x=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var r=s,n=a;return s=a=void 0,f=t,i=e.apply(n,r)}function y(e){var r=e-l;return void 0===l||r>=t||r<0||g&&e-f>=n}function b(){var e=u();if(y(e))return w(e);o=setTimeout(b,function(e){var r=t-(e-l);return g?d(r,n-(e-f)):r}(e))}function w(e){return o=void 0,x&&s?v(e):(s=a=void 0,i)}function j(){var e=u(),r=y(e);if(s=arguments,a=this,l=e,r){if(void 0===o)return function(e){return f=e,o=setTimeout(b,t),p?v(e):i}(l);if(g)return o=setTimeout(b,t),v(l)}return void 0===o&&(o=setTimeout(b,t)),i}return t=m(t)||0,h(r)&&(p=!!r.leading,n=(g="maxWait"in r)?c(m(r.maxWait)||0,t):n,x="trailing"in r?!!r.trailing:x),j.cancel=function(){void 0!==o&&clearTimeout(o),f=0,s=l=a=o=void 0},j.flush=function(){return void 0===o?i:w(u())},j},ej}var oj,lj={exports:{}};function cj(){return oj||(oj=1,e=lj,function(){var t={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=a(e,s(r)))}return e}function s(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var s="";for(var n in e)t.call(e,n)&&e[n]&&(s=a(s,n));return s}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):window.classNames=r}()),lj.exports;var e}var dj,uj,hj={},mj={};function fj(){return dj||(dj=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,r=(t=Ur())&&t.__esModule?t:{default:t};var s={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(e){return r.default.createElement("ul",{style:{display:"block"}},e)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(e){return r.default.createElement("button",null,e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};e.default=s}(mj)),mj}function pj(){if(uj)return hj;uj=1,Object.defineProperty(hj,"__esModule",{value:!0}),hj.checkSpecKeys=hj.checkNavigable=hj.changeSlide=hj.canUseDOM=hj.canGoNext=void 0,hj.clamp=o,hj.extractObject=void 0,hj.filterSettings=function(e){return O.reduce((function(t,r){return e.hasOwnProperty(r)&&(t[r]=e[r]),t}),{})},hj.validSettings=hj.swipeStart=hj.swipeMove=hj.swipeEnd=hj.slidesOnRight=hj.slidesOnLeft=hj.slideHandler=hj.siblingDirection=hj.safePreventDefault=hj.lazyStartIndex=hj.lazySlidesOnRight=hj.lazySlidesOnLeft=hj.lazyEndIndex=hj.keyHandler=hj.initializedState=hj.getWidth=hj.getTrackLeft=hj.getTrackCSS=hj.getTrackAnimateCSS=hj.getTotalSlides=hj.getSwipeDirection=hj.getSlideCount=hj.getRequiredLazySlides=hj.getPreClones=hj.getPostClones=hj.getOnDemandLazySlides=hj.getNavigableIndexes=hj.getHeight=void 0;var e=r(Ur()),t=r(fj());function r(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){var a;return a=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!=s(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==s(a)?a:String(a))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t,r){return Math.max(t,Math.min(e,r))}var l=hj.safePreventDefault=function(e){["onTouchStart","onTouchMove","onWheel"].includes(e._reactName)||e.preventDefault()},c=hj.getOnDemandLazySlides=function(e){for(var t=[],r=d(e),s=u(e),a=r;a<s;a++)e.lazyLoadedList.indexOf(a)<0&&t.push(a);return t};hj.getRequiredLazySlides=function(e){for(var t=[],r=d(e),s=u(e),a=r;a<s;a++)t.push(a);return t};var d=hj.lazyStartIndex=function(e){return e.currentSlide-h(e)},u=hj.lazyEndIndex=function(e){return e.currentSlide+m(e)},h=hj.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},m=hj.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},f=hj.getWidth=function(e){return e&&e.offsetWidth||0},p=hj.getHeight=function(e){return e&&e.offsetHeight||0},g=hj.getSwipeDirection=function(e){var t,r,s,a,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=e.startX-e.curX,r=e.startY-e.curY,s=Math.atan2(r,t),(a=Math.round(180*s/Math.PI))<0&&(a=360-Math.abs(a)),a<=45&&a>=0||a<=360&&a>=315?"left":a>=135&&a<=225?"right":!0===n?a>=35&&a<=135?"up":"down":"vertical"},x=hj.canGoNext=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t};hj.extractObject=function(e,t){var r={};return t.forEach((function(t){return r[t]=e[t]})),r},hj.initializedState=function(t){var r,s=e.default.Children.count(t.children),a=t.listRef,i=Math.ceil(f(a)),o=t.trackRef&&t.trackRef.node,l=Math.ceil(f(o));if(t.vertical)r=i;else{var d=t.centerMode&&2*parseInt(t.centerPadding);"string"==typeof t.centerPadding&&"%"===t.centerPadding.slice(-1)&&(d*=i/100),r=Math.ceil((i-d)/t.slidesToShow)}var u=a&&p(a.querySelector('[data-index="0"]')),h=u*t.slidesToShow,m=void 0===t.currentSlide?t.initialSlide:t.currentSlide;t.rtl&&void 0===t.currentSlide&&(m=s-1-t.initialSlide);var g=t.lazyLoadedList||[],x=c(n(n({},t),{},{currentSlide:m,lazyLoadedList:g})),v={slideCount:s,slideWidth:r,listWidth:i,trackWidth:l,currentSlide:m,slideHeight:u,listHeight:h,lazyLoadedList:g=g.concat(x)};return null===t.autoplaying&&t.autoplay&&(v.autoplaying="playing"),v},hj.slideHandler=function(e){var t=e.waitForAnimate,r=e.animating,s=e.fade,a=e.infinite,i=e.index,l=e.slideCount,d=e.lazyLoad,u=e.currentSlide,h=e.centerMode,m=e.slidesToScroll,f=e.slidesToShow,p=e.useCSS,g=e.lazyLoadedList;if(t&&r)return{};var v,y,b,w=i,k={},_={},C=a?i:o(i,0,l-1);if(s){if(!a&&(i<0||i>=l))return{};i<0?w=i+l:i>=l&&(w=i-l),d&&g.indexOf(w)<0&&(g=g.concat(w)),k={animating:!0,currentSlide:w,lazyLoadedList:g,targetSlide:w},_={animating:!1,targetSlide:w}}else v=w,w<0?(v=w+l,a?l%m!=0&&(v=l-l%m):v=0):!x(e)&&w>u?w=v=u:h&&w>=l?(w=a?l:l-1,v=a?0:l-1):w>=l&&(v=w-l,a?l%m!=0&&(v=0):v=l-f),!a&&w+f>=l&&(v=l-f),y=S(n(n({},e),{},{slideIndex:w})),b=S(n(n({},e),{},{slideIndex:v})),a||(y===b&&(w=v),y=b),d&&(g=g.concat(c(n(n({},e),{},{currentSlide:w})))),p?(k={animating:!0,currentSlide:v,trackStyle:N(n(n({},e),{},{left:y})),lazyLoadedList:g,targetSlide:C},_={animating:!1,currentSlide:v,trackStyle:j(n(n({},e),{},{left:b})),swipeLeft:null,targetSlide:C}):k={currentSlide:v,trackStyle:j(n(n({},e),{},{left:b})),lazyLoadedList:g,targetSlide:C};return{state:k,nextState:_}},hj.changeSlide=function(e,t){var r,s,a,i,o=e.slidesToScroll,l=e.slidesToShow,c=e.slideCount,d=e.currentSlide,u=e.targetSlide,h=e.lazyLoad,m=e.infinite;if(r=c%o!=0?0:(c-d)%o,"previous"===t.message)i=d-(a=0===r?o:l-r),h&&!m&&(i=-1===(s=d-a)?c-1:s),m||(i=u-o);else if("next"===t.message)i=d+(a=0===r?o:r),h&&!m&&(i=(d+o)%c+r),m||(i=u+o);else if("dots"===t.message)i=t.index*t.slidesToScroll;else if("children"===t.message){if(i=t.index,m){var f=T(n(n({},e),{},{targetSlide:i}));i>t.currentSlide&&"left"===f?i-=c:i<t.currentSlide&&"right"===f&&(i+=c)}}else"index"===t.message&&(i=Number(t.index));return i},hj.keyHandler=function(e,t,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":37===e.keyCode?r?"next":"previous":39===e.keyCode?r?"previous":"next":""},hj.swipeStart=function(e,t,r){return"IMG"===e.target.tagName&&l(e),!t||!r&&-1!==e.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}},hj.swipeMove=function(e,t){var r=t.scrolling,s=t.animating,a=t.vertical,i=t.swipeToSlide,o=t.verticalSwiping,c=t.rtl,d=t.currentSlide,u=t.edgeFriction,h=t.edgeDragged,m=t.onEdge,f=t.swiped,p=t.swiping,v=t.slideCount,y=t.slidesToScroll,b=t.infinite,w=t.touchObject,N=t.swipeEvent,k=t.listHeight,_=t.listWidth;if(!r){if(s)return l(e);a&&i&&o&&l(e);var C,T={},E=S(t);w.curX=e.touches?e.touches[0].pageX:e.clientX,w.curY=e.touches?e.touches[0].pageY:e.clientY,w.swipeLength=Math.round(Math.sqrt(Math.pow(w.curX-w.startX,2)));var P=Math.round(Math.sqrt(Math.pow(w.curY-w.startY,2)));if(!o&&!p&&P>10)return{scrolling:!0};o&&(w.swipeLength=P);var O=(c?-1:1)*(w.curX>w.startX?1:-1);o&&(O=w.curY>w.startY?1:-1);var A=Math.ceil(v/y),R=g(t.touchObject,o),D=w.swipeLength;return b||(0===d&&("right"===R||"down"===R)||d+1>=A&&("left"===R||"up"===R)||!x(t)&&("left"===R||"up"===R))&&(D=w.swipeLength*u,!1===h&&m&&(m(R),T.edgeDragged=!0)),!f&&N&&(N(R),T.swiped=!0),C=a?E+D*(k/_)*O:c?E-D*O:E+D*O,o&&(C=E+D*O),T=n(n({},T),{},{touchObject:w,swipeLeft:C,trackStyle:j(n(n({},t),{},{left:C}))}),Math.abs(w.curX-w.startX)<.8*Math.abs(w.curY-w.startY)?T:(w.swipeLength>10&&(T.swiping=!0,l(e)),T)}},hj.swipeEnd=function(e,t){var r=t.dragging,s=t.swipe,a=t.touchObject,i=t.listWidth,o=t.touchThreshold,c=t.verticalSwiping,d=t.listHeight,u=t.swipeToSlide,h=t.scrolling,m=t.onSwipe,f=t.targetSlide,p=t.currentSlide,x=t.infinite;if(!r)return s&&l(e),{};var v=c?d/o:i/o,w=g(a,c),j={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h)return j;if(!a.swipeLength)return j;if(a.swipeLength>v){var k,_;l(e),m&&m(w);var C=x?p:f;switch(w){case"left":case"up":_=C+b(t),k=u?y(t,_):_,j.currentDirection=0;break;case"right":case"down":_=C-b(t),k=u?y(t,_):_,j.currentDirection=1;break;default:k=C}j.triggerSlideHandler=k}else{var T=S(t);j.trackStyle=N(n(n({},t),{},{left:T}))}return j};var v=hj.getNavigableIndexes=function(e){for(var t=e.infinite?2*e.slideCount:e.slideCount,r=e.infinite?-1*e.slidesToShow:0,s=e.infinite?-1*e.slidesToShow:0,a=[];r<t;)a.push(r),r=s+e.slidesToScroll,s+=Math.min(e.slidesToScroll,e.slidesToShow);return a},y=hj.checkNavigable=function(e,t){var r=v(e),s=0;if(t>r[r.length-1])t=r[r.length-1];else for(var a in r){if(t<r[a]){t=s;break}s=r[a]}return t},b=hj.getSlideCount=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,s=e.listRef,a=s.querySelectorAll&&s.querySelectorAll(".slick-slide")||[];if(Array.from(a).every((function(s){if(e.vertical){if(s.offsetTop+p(s)/2>-1*e.swipeLeft)return r=s,!1}else if(s.offsetLeft-t+f(s)/2>-1*e.swipeLeft)return r=s,!1;return!0})),!r)return 0;var n=!0===e.rtl?e.slideCount-e.currentSlide:e.currentSlide;return Math.abs(r.dataset.index-n)||1}return e.slidesToScroll},w=hj.checkSpecKeys=function(e,t){return t.reduce((function(t,r){return t&&e.hasOwnProperty(r)}),!0)?null:void 0},j=hj.getTrackCSS=function(e){var t,r;w(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var s=e.slideCount+2*e.slidesToShow;e.vertical?r=s*e.slideHeight:t=C(e)*e.slideWidth;var a={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var i=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";a=n(n({},a),{},{WebkitTransform:i,transform:o,msTransform:l})}else e.vertical?a.top=e.left:a.left=e.left;return e.fade&&(a={opacity:1}),t&&(a.width=t),r&&(a.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?a.marginTop=e.left+"px":a.marginLeft=e.left+"px"),a},N=hj.getTrackAnimateCSS=function(e){w(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=j(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t},S=hj.getTrackLeft=function(e){if(e.unslick)return 0;w(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t,r,s=e.slideIndex,a=e.trackRef,n=e.infinite,i=e.centerMode,o=e.slideCount,l=e.slidesToShow,c=e.slidesToScroll,d=e.slideWidth,u=e.listWidth,h=e.variableWidth,m=e.slideHeight,f=e.fade,p=e.vertical;if(f||1===e.slideCount)return 0;var g=0;if(n?(g=-k(e),o%c!=0&&s+c>o&&(g=-(s>o?l-(s-o):o%c)),i&&(g+=parseInt(l/2))):(o%c!=0&&s+c>o&&(g=l-o%c),i&&(g=parseInt(l/2))),t=p?s*m*-1+g*m:s*d*-1+g*d,!0===h){var x,v=a&&a.node;if(x=s+k(e),t=(r=v&&v.childNodes[x])?-1*r.offsetLeft:0,!0===i){x=n?s+k(e):s,r=v&&v.children[x],t=0;for(var y=0;y<x;y++)t-=v&&v.children[y]&&v.children[y].offsetWidth;t-=parseInt(e.centerPadding),t+=r&&(u-r.offsetWidth)/2}}return t},k=hj.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},_=hj.getPostClones=function(e){return e.unslick||!e.infinite?0:e.slideCount},C=hj.getTotalSlides=function(e){return 1===e.slideCount?1:k(e)+e.slideCount+_(e)},T=hj.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+E(e)?"left":"right":e.targetSlide<e.currentSlide-P(e)?"right":"left"},E=hj.slidesOnRight=function(e){var t=e.slidesToShow,r=e.centerMode,s=e.rtl,a=e.centerPadding;if(r){var n=(t-1)/2+1;return parseInt(a)>0&&(n+=1),s&&t%2==0&&(n+=1),n}return s?0:t-1},P=hj.slidesOnLeft=function(e){var t=e.slidesToShow,r=e.centerMode,s=e.rtl,a=e.centerPadding;if(r){var n=(t-1)/2+1;return parseInt(a)>0&&(n+=1),s||t%2!=0||(n+=1),n}return s?t-1:0};hj.canUseDOM=function(){return!("undefined"==typeof window||!window.document||!window.document.createElement)};var O=hj.validSettings=Object.keys(t.default);return hj}var gj,xj={};function vj(){if(gj)return xj;gj=1,Object.defineProperty(xj,"__esModule",{value:!0}),xj.Track=void 0;var e=s(Ur()),t=s(cj()),r=pj();function s(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},n.apply(this,arguments)}function i(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,p(s.key),s)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var r,s=u(e);if(t){var n=u(this).constructor;r=Reflect.construct(s,arguments,n)}else r=s.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}(this,r)}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(d=function(){return!!e})()}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return(t=p(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t);if("object"!=a(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:String(t)}var g=function(e){var t,r,s,a,n;return s=(n=e.rtl?e.slideCount-1-e.index:e.index)<0||n>=e.slideCount,e.centerMode?(a=Math.floor(e.slidesToShow/2),r=(n-e.currentSlide)%e.slideCount==0,n>e.currentSlide-a-1&&n<=e.currentSlide+a&&(t=!0)):t=e.currentSlide<=n&&n<e.currentSlide+e.slidesToShow,{"slick-slide":!0,"slick-active":t,"slick-center":r,"slick-cloned":s,"slick-current":n===(e.targetSlide<0?e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?e.targetSlide-e.slideCount:e.targetSlide)}},x=function(e,t){return e.key||t},v=function(s){var a,n=[],i=[],o=[],l=e.default.Children.count(s.children),c=(0,r.lazyStartIndex)(s),d=(0,r.lazyEndIndex)(s);return e.default.Children.forEach(s.children,(function(u,h){var f,p={message:"children",index:h,slidesToScroll:s.slidesToScroll,currentSlide:s.currentSlide};f=!s.lazyLoad||s.lazyLoad&&s.lazyLoadedList.indexOf(h)>=0?u:e.default.createElement("div",null);var v=function(e){var t={};return void 0!==e.variableWidth&&!1!==e.variableWidth||(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,t.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t}(m(m({},s),{},{index:h})),y=f.props.className||"",b=g(m(m({},s),{},{index:h}));if(n.push(e.default.cloneElement(f,{key:"original"+x(f,h),"data-index":h,className:(0,t.default)(b,y),tabIndex:"-1","aria-hidden":!b["slick-active"],style:m(m({outline:"none"},f.props.style||{}),v),onClick:function(e){f.props&&f.props.onClick&&f.props.onClick(e),s.focusOnSelect&&s.focusOnSelect(p)}})),s.infinite&&!1===s.fade){var w=l-h;w<=(0,r.getPreClones)(s)&&((a=-w)>=c&&(f=u),b=g(m(m({},s),{},{index:a})),i.push(e.default.cloneElement(f,{key:"precloned"+x(f,a),"data-index":a,tabIndex:"-1",className:(0,t.default)(b,y),"aria-hidden":!b["slick-active"],style:m(m({},f.props.style||{}),v),onClick:function(e){f.props&&f.props.onClick&&f.props.onClick(e),s.focusOnSelect&&s.focusOnSelect(p)}}))),(a=l+h)<d&&(f=u),b=g(m(m({},s),{},{index:a})),o.push(e.default.cloneElement(f,{key:"postcloned"+x(f,a),"data-index":a,tabIndex:"-1",className:(0,t.default)(b,y),"aria-hidden":!b["slick-active"],style:m(m({},f.props.style||{}),v),onClick:function(e){f.props&&f.props.onClick&&f.props.onClick(e),s.focusOnSelect&&s.focusOnSelect(p)}}))}})),s.rtl?i.concat(n,o).reverse():i.concat(n,o)};return xj.Track=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(s,t);var r=l(s);function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return f(c(e=r.call.apply(r,[this].concat(a))),"node",null),f(c(e),"handleRef",(function(t){e.node=t})),e}return i(s,[{key:"render",value:function(){var t=v(this.props),r=this.props,s={onMouseEnter:r.onMouseEnter,onMouseOver:r.onMouseOver,onMouseLeave:r.onMouseLeave};return e.default.createElement("div",n({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},s),t)}}]),s}(e.default.PureComponent),xj}var yj,bj={};function wj(){if(yj)return bj;function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}yj=1,Object.defineProperty(bj,"__esModule",{value:!0}),bj.Dots=void 0;var t=a(Ur()),r=a(cj()),s=pj();function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function i(e,t,r){return(t=l(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,l(s.key),s)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var a=s.call(t,r);if("object"!=e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==e(r)?r:String(r)}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(t){var r=u();return function(){var s,a=h(t);if(r){var n=h(this).constructor;s=Reflect.construct(a,arguments,n)}else s=a.apply(this,arguments);return function(t,r){if(r&&("object"===e(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)}(this,s)}}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u=function(){return!!e})()}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}return bj.Dots=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(l,e);var a=d(l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.apply(this,arguments)}return o(l,[{key:"clickHandler",value:function(e,t){t.preventDefault(),this.props.clickHandler(e)}},{key:"render",value:function(){for(var e,a=this.props,o=a.onMouseEnter,l=a.onMouseOver,c=a.onMouseLeave,d=a.infinite,u=a.slidesToScroll,h=a.slidesToShow,m=a.slideCount,f=a.currentSlide,p=(e={slideCount:m,slidesToScroll:u,slidesToShow:h,infinite:d}).infinite?Math.ceil(e.slideCount/e.slidesToScroll):Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,g={onMouseEnter:o,onMouseOver:l,onMouseLeave:c},x=[],v=0;v<p;v++){var y=(v+1)*u-1,b=d?y:(0,s.clamp)(y,0,m-1),w=b-(u-1),j=d?w:(0,s.clamp)(w,0,m-1),N=(0,r.default)({"slick-active":d?f>=j&&f<=b:f===j}),S={message:"dots",index:v,slidesToScroll:u,currentSlide:f},k=this.clickHandler.bind(this,S);x=x.concat(t.default.createElement("li",{key:v,className:N},t.default.cloneElement(this.props.customPaging(v),{onClick:k})))}return t.default.cloneElement(this.props.appendDots(x),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({className:this.props.dotsClass},g))}}]),l}(t.default.PureComponent),bj}var jj,Nj={};function Sj(){if(jj)return Nj;function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}jj=1,Object.defineProperty(Nj,"__esModule",{value:!0}),Nj.PrevArrow=Nj.NextArrow=void 0;var t=a(Ur()),r=a(cj()),s=pj();function a(e){return e&&e.__esModule?e:{default:e}}function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},n.apply(this,arguments)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=u(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,u(s.key),s)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var a=s.call(t,r);if("object"!=e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==e(r)?r:String(r)}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(t){var r=p();return function(){var s,a=g(t);if(r){var n=g(this).constructor;s=Reflect.construct(a,arguments,n)}else s=a.apply(this,arguments);return function(t,r){if(r&&("object"===e(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)}(this,s)}}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(p=function(){return!!e})()}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}return Nj.PrevArrow=function(e){h(a,e);var s=f(a);function a(){return c(this,a),s.apply(this,arguments)}return d(a,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-prev":!0},s=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,s=null);var a={key:"0","data-role":"none",className:(0,r.default)(e),style:{display:"block"},onClick:s},i={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.prevArrow?t.default.cloneElement(this.props.prevArrow,o(o({},a),i)):t.default.createElement("button",n({key:"0",type:"button"},a)," ","Previous")}}]),a}(t.default.PureComponent),Nj.NextArrow=function(e){h(i,e);var a=f(i);function i(){return c(this,i),a.apply(this,arguments)}return d(i,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-next":!0},a=this.clickHandler.bind(this,{message:"next"});(0,s.canGoNext)(this.props)||(e["slick-disabled"]=!0,a=null);var i={key:"1","data-role":"none",className:(0,r.default)(e),style:{display:"block"},onClick:a},l={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.nextArrow?t.default.cloneElement(this.props.nextArrow,o(o({},i),l)):t.default.createElement("button",n({key:"1",type:"button"},i)," ","Next")}}]),i}(t.default.PureComponent),Nj}var kj=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var r=-1;return e.some((function(e,s){return e[0]===t&&(r=s,!0)})),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var r=e(this.__entries__,t),s=this.__entries__[r];return s&&s[1]},t.prototype.set=function(t,r){var s=e(this.__entries__,t);~s?this.__entries__[s][1]=r:this.__entries__.push([t,r])},t.prototype.delete=function(t){var r=this.__entries__,s=e(r,t);~s&&r.splice(s,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var r=0,s=this.__entries__;r<s.length;r++){var a=s[r];e.call(t,a[1],a[0])}},t}()}(),_j="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,Cj="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),Tj="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(Cj):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var Ej=["top","right","bottom","left","width","height","size","weight"],Pj="undefined"!=typeof MutationObserver,Oj=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var r=!1,s=!1,a=0;function n(){r&&(r=!1,e()),s&&o()}function i(){Tj(n)}function o(){var e=Date.now();if(r){if(e-a<2)return;s=!0}else r=!0,s=!1,setTimeout(i,t);a=e}return o}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){_j&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Pj?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){_j&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=void 0===t?"":t;Ej.some((function(e){return!!~r.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Aj=function(e,t){for(var r=0,s=Object.keys(t);r<s.length;r++){var a=s[r];Object.defineProperty(e,a,{value:t[a],enumerable:!1,writable:!1,configurable:!0})}return e},Rj=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||Cj},Dj=Fj(0,0,0,0);function Lj(e){return parseFloat(e)||0}function Ij(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce((function(t,r){return t+Lj(e["border-"+r+"-width"])}),0)}function Mj(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return Dj;var s=Rj(e).getComputedStyle(e),a=function(e){for(var t={},r=0,s=["top","right","bottom","left"];r<s.length;r++){var a=s[r],n=e["padding-"+a];t[a]=Lj(n)}return t}(s),n=a.left+a.right,i=a.top+a.bottom,o=Lj(s.width),l=Lj(s.height);if("border-box"===s.boxSizing&&(Math.round(o+n)!==t&&(o-=Ij(s,"left","right")+n),Math.round(l+i)!==r&&(l-=Ij(s,"top","bottom")+i)),!function(e){return e===Rj(e).document.documentElement}(e)){var c=Math.round(o+n)-t,d=Math.round(l+i)-r;1!==Math.abs(c)&&(o-=c),1!==Math.abs(d)&&(l-=d)}return Fj(a.left,a.top,o,l)}var zj="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof Rj(e).SVGGraphicsElement}:function(e){return e instanceof Rj(e).SVGElement&&"function"==typeof e.getBBox};function $j(e){return _j?zj(e)?function(e){var t=e.getBBox();return Fj(0,0,t.width,t.height)}(e):Mj(e):Dj}function Fj(e,t,r,s){return{x:e,y:t,width:r,height:s}}var Uj=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Fj(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=$j(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Bj=function(){return function(e,t){var r,s,a,n,i,o,l,c=(s=(r=t).x,a=r.y,n=r.width,i=r.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(o.prototype),Aj(l,{x:s,y:a,width:n,height:i,top:a,right:s+n,bottom:i+a,left:s}),l);Aj(this,{target:e,contentRect:c})}}(),Hj=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new kj,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Rj(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Uj(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Rj(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new Bj(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),qj="undefined"!=typeof WeakMap?new WeakMap:new kj,Wj=function(){return function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=Oj.getInstance(),s=new Hj(t,r,this);qj.set(this,s)}}();["observe","unobserve","disconnect"].forEach((function(e){Wj.prototype[e]=function(){var t;return(t=qj.get(this))[e].apply(t,arguments)}}));var Gj=void 0!==Cj.ResizeObserver?Cj.ResizeObserver:Wj;const Vj=Lr(Object.freeze(Object.defineProperty({__proto__:null,default:Gj},Symbol.toStringTag,{value:"Module"})));var Yj,Kj,Jj,Xj,Qj,Zj,eN,tN,rN,sN,aN,nN,iN,oN,lN,cN,dN;function uN(){if(Yj)return aj;Yj=1,Object.defineProperty(aj,"__esModule",{value:!0}),aj.InnerSlider=void 0;var e,t=d(Ur()),r=d((Zw||(Zw=1,e=nj,Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0}),nj)),s=d(ij()),a=d(cj()),n=pj(),i=vj(),o=wj(),l=Sj(),c=d(Vj);function d(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},h.apply(this,arguments)}function m(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r,s,a={},n=Object.keys(e);for(s=0;s<n.length;s++)r=n[s],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,N(s.key),s)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function x(e,t){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=b();return function(){var r,s=w(e);if(t){var a=w(this).constructor;r=Reflect.construct(s,arguments,a)}else r=s.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,r)}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(b=function(){return!!e})()}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,r){return(t=N(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t);if("object"!=u(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:String(t)}return aj.InnerSlider=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(f,e);var d=v(f);function f(e){var u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),j(y(u=d.call(this,e)),"listRefHandler",(function(e){return u.list=e})),j(y(u),"trackRefHandler",(function(e){return u.track=e})),j(y(u),"adaptHeight",(function(){if(u.props.adaptiveHeight&&u.list){var e=u.list.querySelector('[data-index="'.concat(u.state.currentSlide,'"]'));u.list.style.height=(0,n.getHeight)(e)+"px"}})),j(y(u),"componentDidMount",(function(){if(u.props.onInit&&u.props.onInit(),u.props.lazyLoad){var e=(0,n.getOnDemandLazySlides)(p(p({},u.props),u.state));e.length>0&&(u.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),u.props.onLazyLoad&&u.props.onLazyLoad(e))}var t=p({listRef:u.list,trackRef:u.track},u.props);u.updateState(t,!0,(function(){u.adaptHeight(),u.props.autoplay&&u.autoPlay("update")})),"progressive"===u.props.lazyLoad&&(u.lazyLoadTimer=setInterval(u.progressiveLazyLoad,1e3)),u.ro=new c.default((function(){u.state.animating?(u.onWindowResized(!1),u.callbackTimers.push(setTimeout((function(){return u.onWindowResized()}),u.props.speed))):u.onWindowResized()})),u.ro.observe(u.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),(function(e){e.onfocus=u.props.pauseOnFocus?u.onSlideFocus:null,e.onblur=u.props.pauseOnFocus?u.onSlideBlur:null})),window.addEventListener?window.addEventListener("resize",u.onWindowResized):window.attachEvent("onresize",u.onWindowResized)})),j(y(u),"componentWillUnmount",(function(){u.animationEndCallback&&clearTimeout(u.animationEndCallback),u.lazyLoadTimer&&clearInterval(u.lazyLoadTimer),u.callbackTimers.length&&(u.callbackTimers.forEach((function(e){return clearTimeout(e)})),u.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",u.onWindowResized):window.detachEvent("onresize",u.onWindowResized),u.autoplayTimer&&clearInterval(u.autoplayTimer),u.ro.disconnect()})),j(y(u),"componentDidUpdate",(function(e){if(u.checkImagesLoad(),u.props.onReInit&&u.props.onReInit(),u.props.lazyLoad){var r=(0,n.getOnDemandLazySlides)(p(p({},u.props),u.state));r.length>0&&(u.setState((function(e){return{lazyLoadedList:e.lazyLoadedList.concat(r)}})),u.props.onLazyLoad&&u.props.onLazyLoad(r))}u.adaptHeight();var s=p(p({listRef:u.list,trackRef:u.track},u.props),u.state),a=u.didPropsChange(e);a&&u.updateState(s,a,(function(){u.state.currentSlide>=t.default.Children.count(u.props.children)&&u.changeSlide({message:"index",index:t.default.Children.count(u.props.children)-u.props.slidesToShow,currentSlide:u.state.currentSlide}),u.props.autoplay?u.autoPlay("update"):u.pause("paused")}))})),j(y(u),"onWindowResized",(function(e){u.debouncedResize&&u.debouncedResize.cancel(),u.debouncedResize=(0,s.default)((function(){return u.resizeWindow(e)}),50),u.debouncedResize()})),j(y(u),"resizeWindow",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(Boolean(u.track&&u.track.node)){var t=p(p({listRef:u.list,trackRef:u.track},u.props),u.state);u.updateState(t,e,(function(){u.props.autoplay?u.autoPlay("update"):u.pause("paused")})),u.setState({animating:!1}),clearTimeout(u.animationEndCallback),delete u.animationEndCallback}})),j(y(u),"updateState",(function(e,r,s){var a=(0,n.initializedState)(e);e=p(p(p({},e),a),{},{slideIndex:a.currentSlide});var i=(0,n.getTrackLeft)(e);e=p(p({},e),{},{left:i});var o=(0,n.getTrackCSS)(e);(r||t.default.Children.count(u.props.children)!==t.default.Children.count(e.children))&&(a.trackStyle=o),u.setState(a,s)})),j(y(u),"ssrInit",(function(){if(u.props.variableWidth){var e=0,r=0,s=[],a=(0,n.getPreClones)(p(p(p({},u.props),u.state),{},{slideCount:u.props.children.length})),i=(0,n.getPostClones)(p(p(p({},u.props),u.state),{},{slideCount:u.props.children.length}));u.props.children.forEach((function(t){s.push(t.props.style.width),e+=t.props.style.width}));for(var o=0;o<a;o++)r+=s[s.length-1-o],e+=s[s.length-1-o];for(var l=0;l<i;l++)e+=s[l];for(var c=0;c<u.state.currentSlide;c++)r+=s[c];var d={width:e+"px",left:-r+"px"};if(u.props.centerMode){var h="".concat(s[u.state.currentSlide],"px");d.left="calc(".concat(d.left," + (100% - ").concat(h,") / 2 ) ")}return{trackStyle:d}}var m=t.default.Children.count(u.props.children),f=p(p(p({},u.props),u.state),{},{slideCount:m}),g=(0,n.getPreClones)(f)+(0,n.getPostClones)(f)+m,x=100/u.props.slidesToShow*g,v=100/g,y=-v*((0,n.getPreClones)(f)+u.state.currentSlide)*x/100;return u.props.centerMode&&(y+=(100-v*x/100)/2),{slideWidth:v+"%",trackStyle:{width:x+"%",left:y+"%"}}})),j(y(u),"checkImagesLoad",(function(){var e=u.list&&u.list.querySelectorAll&&u.list.querySelectorAll(".slick-slide img")||[],t=e.length,r=0;Array.prototype.forEach.call(e,(function(e){var s=function(){return++r&&r>=t&&u.onWindowResized()};if(e.onclick){var a=e.onclick;e.onclick=function(t){a(t),e.parentNode.focus()}}else e.onclick=function(){return e.parentNode.focus()};e.onload||(u.props.lazyLoad?e.onload=function(){u.adaptHeight(),u.callbackTimers.push(setTimeout(u.onWindowResized,u.props.speed))}:(e.onload=s,e.onerror=function(){s(),u.props.onLazyLoadError&&u.props.onLazyLoadError()}))}))})),j(y(u),"progressiveLazyLoad",(function(){for(var e=[],t=p(p({},u.props),u.state),r=u.state.currentSlide;r<u.state.slideCount+(0,n.getPostClones)(t);r++)if(u.state.lazyLoadedList.indexOf(r)<0){e.push(r);break}for(var s=u.state.currentSlide-1;s>=-(0,n.getPreClones)(t);s--)if(u.state.lazyLoadedList.indexOf(s)<0){e.push(s);break}e.length>0?(u.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),u.props.onLazyLoad&&u.props.onLazyLoad(e)):u.lazyLoadTimer&&(clearInterval(u.lazyLoadTimer),delete u.lazyLoadTimer)})),j(y(u),"slideHandler",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=u.props,s=r.asNavFor,a=r.beforeChange,i=r.onLazyLoad,o=r.speed,l=r.afterChange,c=u.state.currentSlide,d=(0,n.slideHandler)(p(p(p({index:e},u.props),u.state),{},{trackRef:u.track,useCSS:u.props.useCSS&&!t})),h=d.state,f=d.nextState;if(h){a&&a(c,h.currentSlide);var g=h.lazyLoadedList.filter((function(e){return u.state.lazyLoadedList.indexOf(e)<0}));i&&g.length>0&&i(g),!u.props.waitForAnimate&&u.animationEndCallback&&(clearTimeout(u.animationEndCallback),l&&l(c),delete u.animationEndCallback),u.setState(h,(function(){s&&u.asNavForIndex!==e&&(u.asNavForIndex=e,s.innerSlider.slideHandler(e)),f&&(u.animationEndCallback=setTimeout((function(){var e=f.animating,t=m(f,["animating"]);u.setState(t,(function(){u.callbackTimers.push(setTimeout((function(){return u.setState({animating:e})}),10)),l&&l(h.currentSlide),delete u.animationEndCallback}))}),o))}))}})),j(y(u),"changeSlide",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=p(p({},u.props),u.state),s=(0,n.changeSlide)(r,e);if((0===s||s)&&(!0===t?u.slideHandler(s,t):u.slideHandler(s),u.props.autoplay&&u.autoPlay("update"),u.props.focusOnSelect)){var a=u.list.querySelectorAll(".slick-current");a[0]&&a[0].focus()}})),j(y(u),"clickHandler",(function(e){!1===u.clickable&&(e.stopPropagation(),e.preventDefault()),u.clickable=!0})),j(y(u),"keyHandler",(function(e){var t=(0,n.keyHandler)(e,u.props.accessibility,u.props.rtl);""!==t&&u.changeSlide({message:t})})),j(y(u),"selectHandler",(function(e){u.changeSlide(e)})),j(y(u),"disableBodyScroll",(function(){window.ontouchmove=function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}})),j(y(u),"enableBodyScroll",(function(){window.ontouchmove=null})),j(y(u),"swipeStart",(function(e){u.props.verticalSwiping&&u.disableBodyScroll();var t=(0,n.swipeStart)(e,u.props.swipe,u.props.draggable);""!==t&&u.setState(t)})),j(y(u),"swipeMove",(function(e){var t=(0,n.swipeMove)(e,p(p(p({},u.props),u.state),{},{trackRef:u.track,listRef:u.list,slideIndex:u.state.currentSlide}));t&&(t.swiping&&(u.clickable=!1),u.setState(t))})),j(y(u),"swipeEnd",(function(e){var t=(0,n.swipeEnd)(e,p(p(p({},u.props),u.state),{},{trackRef:u.track,listRef:u.list,slideIndex:u.state.currentSlide}));if(t){var r=t.triggerSlideHandler;delete t.triggerSlideHandler,u.setState(t),void 0!==r&&(u.slideHandler(r),u.props.verticalSwiping&&u.enableBodyScroll())}})),j(y(u),"touchEnd",(function(e){u.swipeEnd(e),u.clickable=!0})),j(y(u),"slickPrev",(function(){u.callbackTimers.push(setTimeout((function(){return u.changeSlide({message:"previous"})}),0))})),j(y(u),"slickNext",(function(){u.callbackTimers.push(setTimeout((function(){return u.changeSlide({message:"next"})}),0))})),j(y(u),"slickGoTo",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Number(e),isNaN(e))return"";u.callbackTimers.push(setTimeout((function(){return u.changeSlide({message:"index",index:e,currentSlide:u.state.currentSlide},t)}),0))})),j(y(u),"play",(function(){var e;if(u.props.rtl)e=u.state.currentSlide-u.props.slidesToScroll;else{if(!(0,n.canGoNext)(p(p({},u.props),u.state)))return!1;e=u.state.currentSlide+u.props.slidesToScroll}u.slideHandler(e)})),j(y(u),"autoPlay",(function(e){u.autoplayTimer&&clearInterval(u.autoplayTimer);var t=u.state.autoplaying;if("update"===e){if("hovered"===t||"focused"===t||"paused"===t)return}else if("leave"===e){if("paused"===t||"focused"===t)return}else if("blur"===e&&("paused"===t||"hovered"===t))return;u.autoplayTimer=setInterval(u.play,u.props.autoplaySpeed+50),u.setState({autoplaying:"playing"})})),j(y(u),"pause",(function(e){u.autoplayTimer&&(clearInterval(u.autoplayTimer),u.autoplayTimer=null);var t=u.state.autoplaying;"paused"===e?u.setState({autoplaying:"paused"}):"focused"===e?"hovered"!==t&&"playing"!==t||u.setState({autoplaying:"focused"}):"playing"===t&&u.setState({autoplaying:"hovered"})})),j(y(u),"onDotsOver",(function(){return u.props.autoplay&&u.pause("hovered")})),j(y(u),"onDotsLeave",(function(){return u.props.autoplay&&"hovered"===u.state.autoplaying&&u.autoPlay("leave")})),j(y(u),"onTrackOver",(function(){return u.props.autoplay&&u.pause("hovered")})),j(y(u),"onTrackLeave",(function(){return u.props.autoplay&&"hovered"===u.state.autoplaying&&u.autoPlay("leave")})),j(y(u),"onSlideFocus",(function(){return u.props.autoplay&&u.pause("focused")})),j(y(u),"onSlideBlur",(function(){return u.props.autoplay&&"focused"===u.state.autoplaying&&u.autoPlay("blur")})),j(y(u),"render",(function(){var e,r,s,c=(0,a.default)("slick-slider",u.props.className,{"slick-vertical":u.props.vertical,"slick-initialized":!0}),d=p(p({},u.props),u.state),m=(0,n.extractObject)(d,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),f=u.props.pauseOnHover;if(m=p(p({},m),{},{onMouseEnter:f?u.onTrackOver:null,onMouseLeave:f?u.onTrackLeave:null,onMouseOver:f?u.onTrackOver:null,focusOnSelect:u.props.focusOnSelect&&u.clickable?u.selectHandler:null}),!0===u.props.dots&&u.state.slideCount>=u.props.slidesToShow){var g=(0,n.extractObject)(d,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),x=u.props.pauseOnDotsHover;g=p(p({},g),{},{clickHandler:u.changeSlide,onMouseEnter:x?u.onDotsLeave:null,onMouseOver:x?u.onDotsOver:null,onMouseLeave:x?u.onDotsLeave:null}),e=t.default.createElement(o.Dots,g)}var v=(0,n.extractObject)(d,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);v.clickHandler=u.changeSlide,u.props.arrows&&(r=t.default.createElement(l.PrevArrow,v),s=t.default.createElement(l.NextArrow,v));var y=null;u.props.vertical&&(y={height:u.state.listHeight});var b=null;!1===u.props.vertical?!0===u.props.centerMode&&(b={padding:"0px "+u.props.centerPadding}):!0===u.props.centerMode&&(b={padding:u.props.centerPadding+" 0px"});var w=p(p({},y),b),j=u.props.touchMove,N={className:"slick-list",style:w,onClick:u.clickHandler,onMouseDown:j?u.swipeStart:null,onMouseMove:u.state.dragging&&j?u.swipeMove:null,onMouseUp:j?u.swipeEnd:null,onMouseLeave:u.state.dragging&&j?u.swipeEnd:null,onTouchStart:j?u.swipeStart:null,onTouchMove:u.state.dragging&&j?u.swipeMove:null,onTouchEnd:j?u.touchEnd:null,onTouchCancel:u.state.dragging&&j?u.swipeEnd:null,onKeyDown:u.props.accessibility?u.keyHandler:null},S={className:c,dir:"ltr",style:u.props.style};return u.props.unslick&&(N={className:"slick-list"},S={className:c}),t.default.createElement("div",S,u.props.unslick?"":r,t.default.createElement("div",h({ref:u.listRefHandler},N),t.default.createElement(i.Track,h({ref:u.trackRefHandler},m),u.props.children)),u.props.unslick?"":s,u.props.unslick?"":e)})),u.list=null,u.track=null,u.state=p(p({},r.default),{},{currentSlide:u.props.initialSlide,targetSlide:u.props.initialSlide?u.props.initialSlide:0,slideCount:t.default.Children.count(u.props.children)}),u.callbackTimers=[],u.clickable=!0,u.debouncedResize=null;var g=u.ssrInit();return u.state=p(p({},u.state),g),u}return g(f,[{key:"didPropsChange",value:function(e){for(var r=!1,s=0,a=Object.keys(this.props);s<a.length;s++){var n=a[s];if(!e.hasOwnProperty(n)){r=!0;break}if("object"!==u(e[n])&&"function"!=typeof e[n]&&!isNaN(e[n])&&e[n]!==this.props[n]){r=!0;break}}return r||t.default.Children.count(this.props.children)!==t.default.Children.count(e.children)}}]),f}(t.default.Component),aj}function hN(){if(Qj)return Xj;Qj=1;var e=Jj?Kj:(Jj=1,Kj=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()}),t=function(t){var r="",s=Object.keys(t);return s.forEach((function(a,n){var i=t[a];(function(e){return/[height|width]$/.test(e)})(a=e(a))&&"number"==typeof i&&(i+="px"),r+=!0===i?a:!1===i?"not "+a:"("+a+": "+i+")",n<s.length-1&&(r+=" and ")})),r};return Xj=function(e){var r="";return"string"==typeof e?e:e instanceof Array?(e.forEach((function(s,a){r+=t(s),a<e.length-1&&(r+=", ")})),r):t(e)}}function mN(){if(rN)return tN;return rN=1,tN={isFunction:function(e){return"function"==typeof e},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},each:function(e,t){for(var r=0,s=e.length;r<s&&!1!==t(e[r],r);r++);}}}function fN(){if(aN)return sN;aN=1;var e=function(){if(eN)return Zj;function e(e){this.options=e,!e.deferSetup&&this.setup()}return eN=1,e.prototype={constructor:e,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},Zj=e}(),t=mN().each;function r(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var r=this;this.listener=function(e){r.mql=e.currentTarget||e,r.assess()},this.mql.addListener(this.listener)}return r.prototype={constuctor:r,addHandler:function(t){var r=new e(t);this.handlers.push(r),this.matches()&&r.on()},removeHandler:function(e){var r=this.handlers;t(r,(function(t,s){if(t.equals(e))return t.destroy(),!r.splice(s,1)}))},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){t(this.handlers,(function(e){e.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";t(this.handlers,(function(t){t[e]()}))}},sN=r}function pN(){if(lN)return oN;lN=1;var e=function(){if(iN)return nN;iN=1;var e=fN(),t=mN(),r=t.each,s=t.isFunction,a=t.isArray;function n(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return n.prototype={constructor:n,register:function(t,n,i){var o=this.queries,l=i&&this.browserIsIncapable;return o[t]||(o[t]=new e(t,l)),s(n)&&(n={match:n}),a(n)||(n=[n]),r(n,(function(e){s(e)&&(e={match:e}),o[t].addHandler(e)})),this},unregister:function(e,t){var r=this.queries[e];return r&&(t?r.removeHandler(t):(r.clear(),delete this.queries[e])),this}},nN=n}();return oN=new e}function gN(){return cN||(cN=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=i(Ur()),r=uN(),s=i(hN()),a=i(fj()),n=pj();function i(e){return e&&e.__esModule?e:{default:e}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},l.apply(this,arguments)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,v(s.key),s)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=p();return function(){var r,s=g(e);if(t){var a=g(this).constructor;r=Reflect.construct(s,arguments,a)}else r=s.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}(this,r)}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(p=function(){return!!e})()}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t);if("object"!=o(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:String(t)}var y=(0,n.canUseDOM)()&&pN();e.default=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(o,e);var i=m(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),x(f(t=i.call(this,e)),"innerSliderRefHandler",(function(e){return t.innerSlider=e})),x(f(t),"slickPrev",(function(){return t.innerSlider.slickPrev()})),x(f(t),"slickNext",(function(){return t.innerSlider.slickNext()})),x(f(t),"slickGoTo",(function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.innerSlider.slickGoTo(e,r)})),x(f(t),"slickPause",(function(){return t.innerSlider.pause("paused")})),x(f(t),"slickPlay",(function(){return t.innerSlider.autoPlay("play")})),t.state={breakpoint:null},t._responsiveMediaHandlers=[],t}return u(o,[{key:"media",value:function(e,t){y.register(e,t),this._responsiveMediaHandlers.push({query:e,handler:t})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.responsive){var t=this.props.responsive.map((function(e){return e.breakpoint}));t.sort((function(e,t){return e-t})),t.forEach((function(r,a){var i;i=0===a?(0,s.default)({minWidth:0,maxWidth:r}):(0,s.default)({minWidth:t[a-1]+1,maxWidth:r}),(0,n.canUseDOM)()&&e.media(i,(function(){e.setState({breakpoint:r})}))}));var r=(0,s.default)({minWidth:t.slice(-1)[0]});(0,n.canUseDOM)()&&this.media(r,(function(){e.setState({breakpoint:null})}))}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach((function(e){y.unregister(e.query,e.handler)}))}},{key:"render",value:function(){var e,s,i=this;(e=this.state.breakpoint?"unslick"===(s=this.props.responsive.filter((function(e){return e.breakpoint===i.state.breakpoint})))[0].settings?"unslick":d(d(d({},a.default),this.props),s[0].settings):d(d({},a.default),this.props)).centerMode&&(e.slidesToScroll,e.slidesToScroll=1),e.fade&&(e.slidesToShow,e.slidesToScroll,e.slidesToShow=1,e.slidesToScroll=1);var o=t.default.Children.toArray(this.props.children);o=o.filter((function(e){return"string"==typeof e?!!e.trim():!!e})),e.variableWidth&&(e.rows>1||e.slidesPerRow>1)&&(e.variableWidth=!1);for(var c=[],u=null,h=0;h<o.length;h+=e.rows*e.slidesPerRow){for(var m=[],f=h;f<h+e.rows*e.slidesPerRow;f+=e.slidesPerRow){for(var p=[],g=f;g<f+e.slidesPerRow&&(e.variableWidth&&o[g].props.style&&(u=o[g].props.style.width),!(g>=o.length));g+=1)p.push(t.default.cloneElement(o[g],{key:100*h+10*f+g,tabIndex:-1,style:{width:"".concat(100/e.slidesPerRow,"%"),display:"inline-block"}}));m.push(t.default.createElement("div",{key:10*h+f},p))}e.variableWidth?c.push(t.default.createElement("div",{key:h,style:{width:u}},m)):c.push(t.default.createElement("div",{key:h},m))}if("unslick"===e){var x="regular slider "+(this.props.className||"");return t.default.createElement("div",{className:x},o)}return c.length<=e.slidesToShow&&!e.infinite&&(e.unslick=!0),t.default.createElement(r.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},(0,n.filterSettings)(e)),c)}}]),o}(t.default.Component)}(sj)),sj}const xN=Dr((dN||(dN=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t,r=(t=gN())&&t.__esModule?t:{default:t};e.default=r.default}(rj)),rj)),vN=e=>{const{onClick:t}=e;return te.jsx("button",{className:"absolute left-4 top-1/2 z-10 -translate-y-1/2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-full p-2 shadow-lg transition-all duration-200 focus:outline-none",onClick:t,children:te.jsx(Tr,{size:24})})},yN=e=>{const{onClick:t}=e;return te.jsx("button",{className:"absolute right-4 top-1/2 z-10 -translate-y-1/2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-full p-2 shadow-lg transition-all duration-200 focus:outline-none",onClick:t,children:te.jsx(Ke,{size:24})})},bN=()=>{const[e,t]=Pr.useState([]),[r,s]=Pr.useState(null),[a,n]=Pr.useState(null),[i,o]=Pr.useState(!1),l=Pr.useRef([]),[c,d]=Pr.useState(null);Pr.useEffect((()=>{const e=[{name:Ih.julie.name,type:Ih.julie.type,videoId:Ih.julie.videoId,embedSrc:Ih.julie.embedSrc,category:Ih.julie.category,description:Ih.julie.description},{name:Ih.laura.name,type:Ih.laura.type,videoSrc:Ih.laura.videoSrc,cloudinaryId:Ih.laura.cloudinaryId,cloudName:Ih.laura.cloudName,category:Ih.laura.category,description:Ih.laura.description},{name:Ih.michael.name,type:Ih.michael.type,videoSrc:Ih.michael.videoSrc,cloudinaryId:Ih.michael.cloudinaryId,cloudName:Ih.michael.cloudName,category:Ih.michael.category},{name:Ih.nicolas.name,type:Ih.nicolas.type,videoSrc:Ih.nicolas.videoSrc,cloudinaryId:Ih.nicolas.cloudinaryId,cloudName:Ih.nicolas.cloudName,category:Ih.nicolas.category},{name:Ih.compilation.name,type:Ih.compilation.type,videoId:Ih.compilation.videoId,embedSrc:Ih.compilation.embedSrc,category:Ih.compilation.category}].map(((e,t)=>{const r=e.description||`${e.name}'s personal journey of courage and growth.`;return{...e,id:`video-${t}-${e.name}`,displayName:e.name,description:r,thumbnail:Dd}}));t(e)}),[]);const u=Array.from(new Set(e.map((e=>e.category)))),h=r?e.filter((e=>e.category===r)):e,m=()=>{l.current.forEach(((e,t)=>{if(e)try{e.paused||e.pause(),e.currentTime=0}catch(r){}})),o(!1)};Pr.useEffect((()=>{m(),n(null),l.current=[]}),[r]);const f=e=>{d(null),a===e&&i?m():(m(),n(e),setTimeout((()=>{const t=l.current[e];if(t){const e=()=>{t.play().then((()=>{o(!0),d(null)})).catch((e=>{d(`Failed to play video: ${e.message}`),o(!1)})),t.removeEventListener("canplay",e)};t.addEventListener("canplay",e),t.readyState>=3&&e()}else setTimeout((()=>{l.current[e]||a!==e||d("Video player not available")}),1e3)}),100))},p=e=>{o(!1)},g=()=>{o(!1)},x=()=>{o(!0),d(null)};Pr.useEffect((()=>()=>{m()}),[]),Pr.useEffect((()=>{const e=document.createElement("script");return e.src="https://player.vimeo.com/api/player.js",e.async=!0,document.body.appendChild(e),()=>{document.body.contains(e)&&document.body.removeChild(e)}}),[]);const v={dots:!0,infinite:h.length>1,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!1,prevArrow:te.jsx(vN,{}),nextArrow:te.jsx(yN,{}),beforeChange:(e,t)=>{var r;e!==t&&l.current[e]&&(null==(r=l.current[e])||r.pause(),a===e&&n(null))},responsive:[{breakpoint:640,settings:{arrows:!1}}]},y=h.slice(Math.min(h.length,2)),b=y.length,w=Math.min(3,b),j={dots:!0,infinite:b>w,speed:500,slidesToShow:w,slidesToScroll:1,autoplay:!1,prevArrow:te.jsx(vN,{}),nextArrow:te.jsx(yN,{}),beforeChange:(e,t)=>{var r;const s=e+Math.min(h.length,2);e!==t&&l.current[s]&&(null==(r=l.current[s])||r.pause(),a===s&&n(null))},responsive:[{breakpoint:1024,settings:{slidesToShow:Math.min(2,b),slidesToScroll:1,infinite:b>Math.min(2,b)}},{breakpoint:640,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1,infinite:b>1}}]};return te.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900",children:[te.jsx(zh,{title:"Courage Stories - Watch Inspiring Journeys | Be Courageous",description:"Watch inspiring stories of people facing their fears and finding their courage through our adventure therapy programs.",keywords:"courage stories, overcoming fears, personal stories, inspiration, adventure therapy, testimonials",canonicalUrl:"https://becourageousnonprofit.org/videos"}),te.jsxs(io,{children:[te.jsx("link",{rel:"stylesheet",type:"text/css",href:"https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"}),te.jsx("link",{rel:"stylesheet",type:"text/css",href:"https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css"})]}),te.jsxs("div",{className:"container mx-auto px-4 py-12",children:[te.jsxs("div",{className:"mb-8 text-center",children:[te.jsx("h1",{className:"text-4xl font-bold mb-4 text-indigo-900 dark:text-indigo-300",children:"Courage Stories"}),te.jsx("p",{className:"text-xl text-slate-600 dark:text-slate-400 max-w-3xl mx-auto",children:"Watch inspiring stories of people facing their fears and finding their courage."})]}),u.length>0&&te.jsx("div",{className:"mb-8",children:te.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[te.jsx(Md,{variant:null===r?"default":"outline",onClick:()=>s(null),className:"mb-2",children:"All Categories"}),u.map(((e,t)=>te.jsx(Md,{variant:r===e?"default":"outline",onClick:()=>s(e),className:"mb-2",children:e},t)))]})}),h.length>0&&te.jsxs("div",{className:"mb-16",children:[te.jsx("h2",{className:"text-2xl font-bold mb-6 text-indigo-800 dark:text-indigo-400",children:"Featured Stories"}),te.jsx("div",{className:"featured-carousel relative",children:te.jsx(xN,{...v,children:h.slice(0,Math.min(h.length,2)).map(((e,t)=>te.jsx("div",{className:"px-2",children:te.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl overflow-hidden shadow-lg border border-slate-200 dark:border-slate-700",children:[te.jsxs("div",{className:"relative aspect-video group bg-black flex items-center justify-center",children:[a===t&&("vimeo"===e.type?te.jsx("div",{style:{padding:"56.25% 0 0 0",position:"relative"},className:"absolute inset-0 w-full h-full z-10",children:te.jsx("iframe",{src:e.embedSrc||(e.videoId?`https://player.vimeo.com/video/${e.videoId}?badge=0&autopause=0&player_id=0&app_id=58479`:""),title:e.id.includes("julie")||"Julie"===e.name?"BE Courageous":"Be Courageous - Compilation",style:{border:0,position:"absolute",top:0,left:0,width:"100%",height:"100%"},allow:"autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media",allowFullScreen:!0},`${e.id}-${Date.now()}`)}):"cloudinary"===e.type?te.jsxs("video",{ref:e=>{l.current[t]=e},src:e.videoSrc,controls:!0,className:"absolute inset-0 w-full h-full object-cover z-10",onEnded:()=>p(),onPause:g,onPlay:x,title:`${e.displayName}'s Story`,preload:"auto",playsInline:!0,children:[te.jsx("source",{src:`https://res.cloudinary.com/${e.cloudName}/video/upload/q_auto,f_auto/${e.cloudinaryId}.mp4`,type:"video/mp4"}),"Your browser does not support the video tag."]},`${e.id}-${Date.now()}`):te.jsx("video",{ref:e=>{l.current[t]=e},src:e.videoSrc,controls:!0,className:"absolute inset-0 w-full h-full object-cover z-10",onEnded:()=>p(),onPause:g,onPlay:x,title:`${e.displayName}'s Story`,preload:"auto",playsInline:!0,children:"Your browser does not support the video tag."},`${e.id}-${Date.now()}`)),a!==t&&te.jsx("img",{src:e.thumbnail,alt:`${e.displayName} - Placeholder`,className:"absolute inset-0 w-full h-full object-contain opacity-80 bg-slate-100 dark:bg-slate-700 z-5"}),a===t&&i&&te.jsx("div",{className:"absolute top-2 right-2 bg-green-500 text-white text-xs px-2 py-1 rounded z-20",children:"Playing"}),(a!==t||!i)&&te.jsx(Md,{variant:"ghost",size:"icon",className:"absolute inset-0 flex items-center justify-center w-16 h-16 m-auto bg-black/50 text-white rounded-full hover:bg-black/70 transition-all z-15",onClick:e=>{e.stopPropagation(),f(t)},"aria-label":a!==t||i?"Play Video":"Resume Video",children:te.jsx(qe,{size:32,className:"fill-current"})}),a===t&&c&&te.jsx("div",{className:"absolute bottom-4 left-4 right-4 bg-red-500 text-white p-2 rounded z-20",children:c}),te.jsxs("div",{className:"absolute top-4 left-4 z-15",children:[" ",te.jsx(bv,{variant:"secondary",className:"text-sm bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200",children:e.category})]})]}),te.jsxs("div",{className:"p-6",children:[te.jsxs("div",{className:"flex justify-between items-start mb-3",children:[te.jsxs("h3",{className:"text-2xl font-semibold text-slate-900 dark:text-white",children:[e.displayName,"'s Story"]}),te.jsx(wn,{children:te.jsxs(jn,{children:[te.jsx(Nn,{asChild:!0,children:te.jsx(Md,{variant:"ghost",size:"icon",className:"h-8 w-8",children:te.jsx(Cr,{size:16})})}),te.jsx(Sn,{children:te.jsx("p",{className:"max-w-xs",children:e.description})})]})})]}),te.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Watch ",e.displayName,"'s journey in facing fears and building courage. This inspirational story shows how confronting fear leads to personal growth."]})]})]})},`featured-${e.id}`)))})})]}),b>0&&te.jsxs("div",{className:"video-carousel relative mb-8",children:[te.jsx("h2",{className:"text-2xl font-bold mb-6 text-indigo-800 dark:text-indigo-400",children:"More Courage Stories"}),te.jsx(xN,{...j,children:y.map(((e,t)=>{const r=t+(h.length-b);return te.jsx("div",{className:"px-2",children:te.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl overflow-hidden shadow-lg border border-slate-200 dark:border-slate-700 transition-all hover:shadow-xl transform duration-300 h-full flex flex-col",children:[te.jsxs("div",{className:"relative aspect-video group bg-black flex items-center justify-center flex-shrink-0",children:[a===r&&("vimeo"===e.type?te.jsx("div",{style:{padding:"56.25% 0 0 0",position:"relative"},className:"absolute inset-0 w-full h-full z-10",children:te.jsx("iframe",{src:e.id.includes("julie")||"Julie"===e.name?"https://player.vimeo.com/video/1072428960?h=756979b04e&badge=0&autopause=0&player_id=0&app_id=58479":"https://player.vimeo.com/video/1072428847?h=fb07f16cf1&badge=0&autopause=0&player_id=0&app_id=58479",style:{border:0,position:"absolute",top:0,left:0,width:"100%",height:"100%"},title:e.id.includes("julie")||"Julie"===e.name?"BE Courageous":"Be Courageous - Compilation",allow:"autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media",allowFullScreen:!0},`${e.id}-${Date.now()}`)}):"cloudinary"===e.type?te.jsxs("video",{ref:e=>{l.current[r]=e},controls:!0,className:"absolute inset-0 w-full h-full object-cover z-10",onEnded:()=>p(),onPause:g,onPlay:x,title:`${e.displayName}'s Story`,preload:"auto",playsInline:!0,children:[te.jsx("source",{src:`https://res.cloudinary.com/${e.cloudName}/video/upload/q_auto,f_auto/${e.cloudinaryId}.mp4`,type:"video/mp4"}),"Your browser does not support the video tag."]},`${e.id}-${Date.now()}`):te.jsx("video",{ref:e=>{l.current[r]=e},src:e.videoSrc,controls:!0,className:"absolute inset-0 w-full h-full object-cover z-10",onEnded:()=>p(),onPause:g,onPlay:x,title:`${e.displayName}'s Story`,preload:"auto",playsInline:!0,children:"Your browser does not support the video tag."},`${e.id}-${Date.now()}`)),a!==r&&te.jsx("img",{src:e.thumbnail,alt:`${e.displayName} - Placeholder`,className:"absolute inset-0 w-full h-full object-contain opacity-80 bg-slate-100 dark:bg-slate-700 z-5"}),a===r&&i&&te.jsx("div",{className:"absolute top-2 right-2 bg-green-500 text-white text-xs px-2 py-1 rounded z-20",children:"Playing"}),(a!==r||!i)&&te.jsx(Md,{variant:"ghost",size:"icon",className:"absolute inset-0 flex items-center justify-center w-12 h-12 m-auto bg-black/50 text-white rounded-full hover:bg-black/70 transition-all z-15",onClick:e=>{e.stopPropagation(),f(r)},"aria-label":a!==r||i?"Play Video":"Resume Video",children:te.jsx(qe,{size:24,className:"fill-current"})}),a===r&&c&&te.jsx("div",{className:"absolute bottom-4 left-4 right-4 bg-red-500 text-white p-2 rounded text-xs z-20",children:c}),te.jsxs("div",{className:"absolute top-2 left-2 z-15",children:[" ",te.jsx(bv,{variant:"secondary",className:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200",children:e.category})]})]}),te.jsxs("div",{className:"p-4 flex-grow",children:[te.jsxs("div",{className:"flex justify-between items-start mb-2",children:[te.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:[e.displayName,"'s Story"]}),te.jsx(wn,{children:te.jsxs(jn,{children:[te.jsx(Nn,{asChild:!0,children:te.jsx(Md,{variant:"ghost",size:"icon",className:"h-8 w-8",children:te.jsx(Cr,{size:14})})}),te.jsx(Sn,{children:te.jsx("p",{className:"max-w-xs",children:e.description})})]})})]}),te.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Watch ",e.displayName,"'s journey in facing fears and building courage."]})]})]})},e.id)}))})]}),0===h.length&&te.jsx("div",{className:"text-center py-10 text-slate-500 dark:text-slate-400",children:"No videos found for the selected category."})]})]})},wN=()=>{const[e,t]=Pr.useState(null);Pr.useEffect((()=>{const e=document.createElement("script");return e.src="https://player.vimeo.com/api/player.js",e.async=!0,document.body.appendChild(e),()=>{document.body.removeChild(e)}}),[]);const r=e=>{t(e)};return te.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900",children:[te.jsx(zh,{title:"Simple Courage Stories - Be Courageous",description:"Watch simple, inspiring stories of people finding their courage and facing their fears.",keywords:"courage stories, simple videos, overcoming fears, personal stories, inspiration",canonicalUrl:"https://becourageousnonprofit.org/videos-simple"}),te.jsxs("div",{className:"container mx-auto px-4 py-12",children:[te.jsxs("div",{className:"mb-8 text-center",children:[te.jsx("h1",{className:"text-4xl font-bold mb-4 text-indigo-900 dark:text-indigo-300",children:"Courage Stories"}),te.jsx("p",{className:"text-xl text-slate-600 dark:text-slate-400 max-w-3xl mx-auto",children:"Watch inspiring stories of people facing their fears and finding their courage."})]}),te.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-16",children:[te.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl overflow-hidden shadow-lg",children:[te.jsx("div",{className:"relative aspect-video bg-black",children:"julie"===e?te.jsx("div",{style:{padding:"56.25% 0 0 0",position:"relative"},children:te.jsx("iframe",{src:"https://player.vimeo.com/video/1072428960?h=756979b04e&badge=0&autopause=0&player_id=0&app_id=58479",frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},title:"BE Courageous",allowFullScreen:!0})}):te.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[te.jsx("img",{src:Dd,alt:`${Ih.julie.name} - Placeholder`,className:"h-1/2 w-1/2 object-contain opacity-80"}),te.jsx(Md,{variant:"ghost",size:"icon",className:"absolute inset-0 flex items-center justify-center w-16 h-16 m-auto bg-black/50 text-white rounded-full hover:bg-black/70 transition-all",onClick:()=>r("julie"),children:te.jsx(qe,{size:32,className:"fill-current"})})]})}),te.jsxs("div",{className:"p-6",children:[te.jsxs("h3",{className:"text-2xl font-semibold text-slate-900 dark:text-white mb-2",children:[Ih.julie.name,"'s Story"]}),te.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:Ih.julie.description})]})]}),te.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl overflow-hidden shadow-lg",children:[te.jsx("div",{className:"relative aspect-video bg-black",children:"compilation"===e?te.jsx("div",{style:{padding:"56.25% 0 0 0",position:"relative"},children:te.jsx("iframe",{src:"https://player.vimeo.com/video/1072428847?h=fb07f16cf1&badge=0&autopause=0&player_id=0&app_id=58479",frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},title:"Be Courageous - Compilation",allowFullScreen:!0})}):te.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[te.jsx("img",{src:Dd,alt:"Compilation - Placeholder",className:"h-1/2 w-1/2 object-contain opacity-80"}),te.jsx(Md,{variant:"ghost",size:"icon",className:"absolute inset-0 flex items-center justify-center w-16 h-16 m-auto bg-black/50 text-white rounded-full hover:bg-black/70 transition-all",onClick:()=>r("compilation"),children:te.jsx(qe,{size:32,className:"fill-current"})})]})}),te.jsxs("div",{className:"p-6",children:[te.jsx("h3",{className:"text-2xl font-semibold text-slate-900 dark:text-white mb-2",children:Ih.compilation.name}),te.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:Ih.compilation.description})]})]})]}),te.jsx("h2",{className:"text-2xl font-bold mb-6 text-indigo-800 dark:text-indigo-400",children:"More Stories"}),te.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:["laura","michael","nicolas"].map((s=>{const a=Ih[s];return te.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl overflow-hidden shadow-lg",children:[te.jsx("div",{className:"relative aspect-video bg-black",children:e===s?te.jsx("video",{src:a.videoSrc,controls:!0,autoPlay:!0,className:"absolute inset-0 w-full h-full object-cover",title:`${a.name}'s Story`,onEnded:()=>t(null),children:"Your browser does not support the video tag."}):te.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[te.jsx("img",{src:Dd,alt:`${a.name} - Placeholder`,className:"h-1/2 w-1/2 object-contain opacity-80"}),te.jsx(Md,{variant:"ghost",size:"icon",className:"absolute inset-0 flex items-center justify-center w-12 h-12 m-auto bg-black/50 text-white rounded-full hover:bg-black/70 transition-all",onClick:()=>r(s),children:te.jsx(qe,{size:24,className:"fill-current"})})]})}),te.jsxs("div",{className:"p-4",children:[te.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:[a.name,"'s Story"]}),te.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:a.description})]})]},s)}))})]})]})},jN=new li,NN=()=>(Pr.useEffect((()=>{(async()=>{var e;try{const{data:t}=await jd.auth.getSession();if(null==(e=t.session)?void 0:e.user){const{error:e}=await jd.from("user_profiles").select("progress_tracking").limit(1);if(e&&e.message.includes('column "progress_tracking" does not exist')){const{data:e}=await jd.from("user_profiles").select("user_id").limit(1);if(e&&e.length>0){const{error:t}=await jd.rpc("init_progress_tracking",{user_id_param:e[0].user_id})}}}}catch(t){}})().catch(console.error);(()=>{window.location.pathname;if(window.location.search.includes("path=")){const e=new URLSearchParams(window.location.search).get("path");e&&window.history.replaceState(null,"",e)}})()}),[]),te.jsx(Yd,{fallback:te.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 text-white p-6",children:te.jsxs("div",{className:"max-w-md w-full bg-gray-800 p-8 rounded-lg shadow-xl border border-gray-700",children:[te.jsx("div",{className:"text-growth-400 mb-4",children:te.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:te.jsx("path",{d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),te.jsx("h2",{className:"text-xl font-bold mb-2",children:"Something went wrong"}),te.jsx("p",{className:"text-gray-400 mb-6",children:"We're having trouble displaying this page. Please refresh or return to the home page."}),te.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[te.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-growth-600 text-white rounded-md hover:bg-growth-700 transition-colors",children:"Refresh Page"}),te.jsx("button",{onClick:()=>window.location.href="/",className:"px-4 py-2 border border-gray-600 text-gray-300 rounded-md hover:bg-gray-700 transition-colors",children:"Go to Home"})]})]})}),children:te.jsx(di,{client:jN,children:te.jsx(Zi,{children:te.jsx(qr,{basename:"/",future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:te.jsx($d,{children:te.jsx(Bd,{children:te.jsx(Gd,{children:te.jsxs(wn,{children:[te.jsx(Ld,{}),te.jsx(Ja,{}),te.jsx(bn,{}),te.jsx(uu,{}),te.jsxs(Wr,{children:[te.jsx(Gr,{path:"/",element:te.jsx($h,{})}),te.jsx(Gr,{path:"/donate",element:te.jsx(Qw,{})}),te.jsx(Gr,{path:"/videos",element:te.jsx(bN,{})}),te.jsx(Gr,{path:"/videos-simple",element:te.jsx(wN,{})}),te.jsx(Gr,{path:"/login",element:te.jsx(Wh,{})}),te.jsx(Gr,{path:"/register",element:te.jsx(Vh,{})}),te.jsx(Gr,{path:"/forgot-password",element:te.jsx(Yh,{})}),te.jsx(Gr,{path:"/reset-password",element:te.jsx(Kh,{})}),te.jsx(Gr,{path:"/auth/callback",element:te.jsx(Yv,{})}),te.jsxs(Gr,{element:te.jsx(Jd,{}),children:[te.jsx(Gr,{path:"/dashboard",element:te.jsx(Zp,{})}),te.jsx(Gr,{path:"/dashboard/classic",element:te.jsx(Jh,{})}),te.jsx(Gr,{path:"/profile",element:te.jsx(lg,{})}),te.jsx(Gr,{path:"/activities",element:te.jsx(Vv,{})})]}),te.jsxs(Gr,{element:te.jsx(tu,{}),children:[te.jsx(Gr,{path:"/admin",element:te.jsx($r,{to:"/admin/dashboard",replace:!0})}),te.jsx(Gr,{path:"/admin/dashboard",element:te.jsx(Ww,{})}),te.jsx(Gr,{path:"/admin/users",element:te.jsx(jb,{})}),te.jsx(Gr,{path:"/admin/users/:userId",element:te.jsx(Vw,{})}),te.jsx(Gr,{path:"/admin/data",element:te.jsx(Xw,{})}),te.jsx(Gr,{path:"/admin/activities",element:te.jsx(aw,{onEditActivity:e=>{},onCreateActivity:()=>{}})}),te.jsx(Gr,{path:"/admin/activities/new",element:te.jsx(ow,{activityId:null,onSaved:()=>{}})}),te.jsx(Gr,{path:"/admin/activities/edit/:id",element:te.jsx(ow,{activityId:"some-id",onSaved:()=>{}})}),te.jsx(Gr,{path:"/admin/activities/stats",element:te.jsx(lw,{})}),te.jsx(Gr,{path:"/admin/stats",element:te.jsx(dw,{})}),te.jsx(Gr,{path:"/admin/settings/*",element:te.jsx(qw,{})})]}),te.jsx(Gr,{path:"/onboarding",element:te.jsx(bg,{})}),te.jsx(Gr,{path:"/privacy-policy",element:te.jsx(Kv,{})}),te.jsx(Gr,{path:"/terms-of-service",element:te.jsx(Jv,{})}),te.jsx(Gr,{path:"/contact",element:te.jsx(Xv,{})}),te.jsx(Gr,{path:"*",element:te.jsx(wg,{})})]}),te.jsx(zd,{})]})})})})})})})}));Kr.createRoot(document.getElementById("root")).render(te.jsx(NN,{}));
